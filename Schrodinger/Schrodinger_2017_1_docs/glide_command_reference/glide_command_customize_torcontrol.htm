<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="Documentation.xml" data-mc-path-to-help-system="../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Command References|Glide Command Reference|Running Glide from the Command Line">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>Customizing Torsional Controls for Docking Planar and Other Groups</title>
        <link href="../Resources/TableStyles/StandardRules.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link href="../Resources/Stylesheets/docs.css" rel="stylesheet" />
        <script src="../Resources/Scripts/custom.modernizr.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/foundation.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body><a name="aanchor5835"></a>
        <MadCap:concept term="Command Reference" /><a name="aanchor5836"></a>
        <MadCap:concept term="Glide" /><a name="glide_command_1981283156_755912"></a><a name="glide_command_1981283156_63919"></a>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="glide_command_utilities_rescore.htm">
            
            glide_rescore</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="glide_command_referenceTOC.htm">Glide Command Reference Manual</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="glide_command_logmsg.htm">Glide Docking Log Messages</a> ▶</span>
                </td>
            </tr>
        </table>
        <h1 class="Title">Customizing Torsional Controls for Docking Planar and Other Groups</h1>
        <p>The mechanism for controlling rotations about amide bonds in earlier Glide releases has been generalized to allow control of any class of torsions—for example, around ester linkages. The torsions and the type of control applied are defined in a resource file, <code>torcontrol.txt</code>, which is included in the <code>glide-v</code><i class="UserReplace">version</i><code>/data</code> directory of the installation. You can override the default definitions by copying this file to the <code>glide</code> directory in your <a href="../job_control/job_control_glossary.htm#user_resources_directory">Schrödinger user resources directory</a>, or to your working directory, and editing the file to provide your own definitions. The file has a summary of the syntax at the top. </p>
        <p>Each torsion control is defined by a keyword for the control type, a unique name, a SMARTS pattern, and four atom numbers to define the torsion, then values that depend on the control type. These must all be on the same line, separated by spaces. The control type syntax is:</p><pre>
free        <i class="UserReplace">name</i> <i class="UserReplace">smarts</i> <i class="UserReplace">atoms</i>
freezeinput <i class="UserReplace">name</i> <i class="UserReplace">smarts</i> <i class="UserReplace">atoms</i>
freeze      <i class="UserReplace">name</i> <i class="UserReplace">smarts</i> <i class="UserReplace">atoms</i> <i class="UserReplace">angle</i>
force       <i class="UserReplace">name</i> <i class="UserReplace">smarts</i> <i class="UserReplace">atoms</i> <i class="UserReplace">angle</i><code>  <![CDATA[ ]]></code><i class="UserReplace">tolerance</i>
penalize    <i class="UserReplace">name</i> <i class="UserReplace">smarts</i> <i class="UserReplace">atoms</i> <i class="UserReplace">angle</i> <i class="UserReplace">multiplicity</i> <i class="UserReplace">penalty</i> <i class="UserReplace">barrier</i> <i class="UserReplace">exponent</i></pre>
        <p>The various fields in the torsion control are described in <a class="Table_Number MCXref xref xrefTable_Number selected" href="#glide_command_1981283156_756117">Table 1</a>.</p>
        <table class="TableStyle-StandardRules" style="caption-side: top;mc-table-style: url('../Resources/TableStyles/StandardRules.css');" cellspacing="0">
            <caption valign="top" style="padding-bottom: 7pt;">
                <p class="Table_Caption" data-mc-autonum="Table 1. "><span class="autonumber"><span>Table 1. </span></span><a name="glide_command_1981283156_756117"></a>Description of fields in the definition of a torsion control</p>
            </caption>
            <thead>
                <tr class="TableStyle-StandardRules-Head-Header1">
                    <td class="TableStyle-StandardRules-HeadE-Column1-Header1">
                        <p class="Cell_Heading">Field</p>
                    </td>
                    <td class="TableStyle-StandardRules-HeadD-Column1-Header1">
                        <p class="Cell_Heading">Description</p>
                    </td>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-StandardRules-Body-Body1">
                    <td class="TableStyle-StandardRules-BodyH-Column1-Body1">
                        <p class="Cell_Body"><i class="UserReplace">keyword</i>
                        </p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyG-Column1-Body1">
                        <p class="Cell_Body">Case-insensitive control type. Allowed values:</p>
                        <table class="TableCellTable">
                            <tr class="TableCellTable">
                                <td class="TableCellTable">
                                    <p class="Cell_Body"><code>free</code>
                                    </p>
                                </td>
                                <td class="TableCellTable">
                                    <p class="Cell_Body">do not constrain the torsion</p>
                                </td>
                            </tr>
                            <tr class="TableCellTable">
                                <td class="TableCellTable">
                                    <p class="Cell_Body"><code>freezeinput</code>
                                    </p>
                                </td>
                                <td class="TableCellTable">
                                    <p class="Cell_Body">freeze the torsion at its input value</p>
                                </td>
                            </tr>
                            <tr class="TableCellTable">
                                <td class="TableCellTable">
                                    <p class="Cell_Body"><code>freeze</code>
                                    </p>
                                </td>
                                <td class="TableCellTable">
                                    <p class="Cell_Body">freeze the torsion at the specified angle</p>
                                </td>
                            </tr>
                            <tr class="TableCellTable">
                                <td class="TableCellTable">
                                    <p class="Cell_Body"><code>force</code>
                                    </p>
                                </td>
                                <td class="TableCellTable">
                                    <p class="Cell_Body">reject poses for which the torsion does not lie within the given tolerance of the specified angle. </p>
                                </td>
                            </tr>
                        </table>
                        <p class="Cell_Body"><code>penalize</code>
                            penalize torsions during scoring that do not adopt the given angle, using a periodic penalty function with a global minimum (zero penalty) and other penalized minima.</p>
                    </td>
                </tr>
                <tr class="TableStyle-StandardRules-Body-Body1">
                    <td class="TableStyle-StandardRules-BodyE-Column1-Body1">
                        <p class="Cell_Body"><i class="UserReplace">name</i>
                        </p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyD-Column1-Body1">
                        <p class="Cell_Body">Name of the torsion (case-sensitive). Must be unique within the file, and cannot contain spaces.</p>
                    </td>
                </tr>
                <tr class="TableStyle-StandardRules-Body-Body2">
                    <td class="TableStyle-StandardRules-BodyH-Column1-Body2">
                        <p class="Cell_Body"><i class="UserReplace">smarts</i>
                        </p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyG-Column1-Body2">
                        <p class="Cell_Body">SMARTS pattern that defines the torsion. </p>
                    </td>
                </tr>
                <tr class="TableStyle-StandardRules-Body-Body2">
                    <td class="TableStyle-StandardRules-BodyE-Column1-Body2">
                        <p class="Cell_Body"><i class="UserReplace">atoms</i>
                        </p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyD-Column1-Body2">
                        <p class="Cell_Body">Indexes of the four atoms in the SMARTS pattern that define the torsion. </p>
                    </td>
                </tr>
                <tr class="TableStyle-StandardRules-Body-Body1">
                    <td class="TableStyle-StandardRules-BodyH-Column1-Body1">
                        <p class="Cell_Body"><i class="UserReplace">angle</i>
                        </p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyG-Column1-Body1">
                        <p class="Cell_Body">Value of the angle (in degrees) to which the torsion is frozen or forced, or at which the penalty is at its minimum (zero).</p>
                    </td>
                </tr>
                <tr class="TableStyle-StandardRules-Body-Body1">
                    <td class="TableStyle-StandardRules-BodyE-Column1-Body1">
                        <p class="Cell_Body"><i class="UserReplace">tolerance</i>
                        </p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyD-Column1-Body1">
                        <p class="Cell_Body">Tolerance for the angle to which the torsion is forced, in degrees. The tolerance defines the range of acceptable angles.</p>
                    </td>
                </tr>
                <tr class="TableStyle-StandardRules-Body-Body2">
                    <td class="TableStyle-StandardRules-BodyH-Column1-Body2">
                        <p class="Cell_Body"><i class="UserReplace">multiplicity</i>
                        </p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyG-Column1-Body2">
                        <p class="Cell_Body">Number of maxima (or minima) in the torsional potential. Must be 1, 2, 3, 4, or 6. If the number is 4 or 6, the potential is assumed to have two global minima separated by 180<span class="Symbol">°</span>, with higher energies for the other minima. </p>
                    </td>
                </tr>
                <tr class="TableStyle-StandardRules-Body-Body2">
                    <td class="TableStyle-StandardRules-BodyE-Column1-Body2">
                        <p class="Cell_Body"><i class="UserReplace">penalty</i>
                        </p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyD-Column1-Body2">
                        <p class="Cell_Body">Penalty value for torsions at the nonglobal minima.</p>
                    </td>
                </tr>
                <tr class="TableStyle-StandardRules-Body-Body1">
                    <td class="TableStyle-StandardRules-BodyH-Column1-Body1">
                        <p class="Cell_Body"><i class="UserReplace">barrier</i>
                        </p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyG-Column1-Body1">
                        <p class="Cell_Body">Maximum value of the torsional potential, which is the barrier between the global minimum and the next minimum. </p>
                    </td>
                </tr>
                <tr class="TableStyle-StandardRules-Body-Body1">
                    <td class="TableStyle-StandardRules-BodyB-Column1-Body1">
                        <p class="Cell_Body"><i class="UserReplace">exponent</i>
                        </p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyA-Column1-Body1">
                        <p class="Cell_Body">Power to which the torsional potential function is raised (while maintaining the barrier heights. Useful for flattening the potential around the minima. A value of 2 is recommended to enable some flexibility around the minima.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>The order in which the torsions are included in the file matters: the last torsion that is matched is the one that is used. This means that you should put the more general SMARTS patterns first, followed by the more specific patterns. You can even include torsions around double bonds, as the torsion patterns are matched to determine the bonds to be restricted before determining the rotatable bonds. </p>
        <p>When looking for matches to a pattern in a molecule, it is possible to find multiple matches—for example, the pattern CN(=O)cc to constrain the CNcc dihedral angle for an aromatic amide matches a molecule that has a benzene ring attached to the amide in two ways, and therefore the penalty could be applied in two different ways. In such cases, the “favored” orientation is chosen to be the one that is closest to the input dihedral angle from the molecule. </p>
        <p>The <code>freeze</code> and <code>freezeinput</code> controls on the torsions are only applied during docking: they make the bond non-rotatable. However, post-docking minimization can change these frozen torsions. The <code>force</code> and <code>penalize</code> controls are applied after post-docking minimization. </p>
        <p>An example of a torsion control is given below, for an ester.</p><pre>
penalize  ester  O=C(-O[#6])  1 2 3 4   0.0  2  4.0  9.0  2.0
</pre>
        <p>If a penalty is applied, the name of the torsion control and the penalty value are added as bond properties (<code>s_glide_torcontrol_name</code>, <code>r_glide_torcontrol_penalty</code>) to the output structure.</p>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="glide_command_utilities_rescore.htm">
            
            glide_rescore</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="glide_command_referenceTOC.htm">Glide Command Reference Manual</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="glide_command_logmsg.htm">Glide Docking Log Messages</a> ▶</span>
                </td>
            </tr>
        </table>
    </body>
</html>