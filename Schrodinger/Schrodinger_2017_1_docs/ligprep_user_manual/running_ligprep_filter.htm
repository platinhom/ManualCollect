<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="Documentation.xml" data-mc-path-to-help-system="../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="User Manuals|LigPrep User Manual|Running LigPrep from Maestro">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>Setting Filter Criteria</title>
        <link href="../Resources/Stylesheets/docs.css" rel="stylesheet" />
        <script src="../Resources/Scripts/custom.modernizr.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/foundation.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body><a name="aanchor1942"></a>
        <MadCap:concept term="User Manuals" /><a name="aanchor1943"></a>
        <MadCap:concept term="LigPrep" /><a name="running_ligprep_3937590390_758923"></a>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="running_ligprep_structures.htm">Selecting Structure Input and Output</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="ligprep_user_manualTOC.htm">LigPrep User Manual</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="running_ligprep_ffld.htm">Selecting a Force Field</a> ▶</span>
                </td>
            </tr>
        </table>
        <h1 class="Title">Setting Filter Criteria for LigPrep</h1>
        <p>The structures that are produced can be filtered on the basis of various predefined descriptors, using <code>ligfilter</code>. These descriptors are counts of various kinds of structural components, including a range of functional groups. You can filter the structures generated by LigPrep using a file that defines conditions on these descriptors. </p>
        <p>This file can be created by clicking <span class="GUI">Create</span>, and constructing the list of criteria in the <span class="GUI">Ligand Filtering</span> panel. You can also read an existing file by clicking <span class="GUI">Browse</span>, and navigating to the file in the file selector that opens. The following instructions describe how to create a filter in the <span class="GUI">Ligand Filtering</span> panel. </p>
        <p class="image">
            <img src="ligand_filtering.png" style="margin: 2px;" />
        </p>
        <p class="Task_LeadIn">To create a simple filter criterion:</p>
        <table class="AutoNumber_p_Numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 32px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Numbered1" valign="top"><span>1.</span>
                </td>
                <td class="AutoNumber_p_Numbered1" valign="top" data-mc-autonum="1.">Select a descriptor from the <span class="GUI">Select a general attribute</span> list in the <span class="GUI">General Attributes</span> tab.</td>
            </tr>
        </table>
        <p class="Indented1">The descriptor is added to the <span class="GUI">General attribute</span> text box. </p>
        <table class="AutoNumber_p_Numbered1_" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 32px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Numbered1" valign="top"><span>2.</span>
                </td>
                <td class="AutoNumber_p_Numbered1" valign="top" data-mc-autonum="2.">Choose a relational operator from the first option menu to the right of the <span class="GUI">General attribute</span> text box.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Numbered1_" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 32px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Numbered1" valign="top"><span>3.</span>
                </td>
                <td class="AutoNumber_p_Numbered1" valign="top" data-mc-autonum="3.">Enter a value in the text box immediately to the right. </td>
            </tr>
        </table>
        <table class="AutoNumber_p_Numbered1_" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 32px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Numbered1" valign="top"><span>4.</span>
                </td>
                <td class="AutoNumber_p_Numbered1" valign="top" data-mc-autonum="4.">Click <span class="GUI">Add</span>. </td>
            </tr>
        </table>
        <p class="Indented1">The new criterion is added to the <span class="GUI">Filtering conditions and criteria</span> text area. </p>
        <p class="Indented1">You can also add criteria in the <span class="GUI">Functional Group Counts</span> tab in the same way.</p>
        <p class="Task_LeadIn">To add a second condition, do the following before clicking Add:</p>
        <table class="AutoNumber_p_Numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 32px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Numbered1" valign="top"><span>1.</span>
                </td>
                <td class="AutoNumber_p_Numbered1" valign="top" data-mc-autonum="1.">Choose a Boolean operator from the option menu in the middle.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Numbered1_" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 32px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Numbered1" valign="top"><span>2.</span>
                </td>
                <td class="AutoNumber_p_Numbered1" valign="top" data-mc-autonum="2.">Choose a relational operator from the next option menu.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Numbered1_" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 32px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Numbered1" valign="top"><span>3.</span>
                </td>
                <td class="AutoNumber_p_Numbered1" valign="top" data-mc-autonum="3.">Enter a value in the text box immediately to the right. </td>
            </tr>
        </table>
        <p>Adding the second condition allows you to specify a range of values. For example, the following criterion excludes ligands with molecular weights that are not in the range 150–500:</p><pre>
Molecular weight              &lt; 150 OR &gt; 500
</pre>
        <p>If you add a criterion when one already exists for a particular attribute, the existing criterion is overwritten with the new one. You can delete individual criteria by selecting them in the list and clicking <span class="GUI">Delete</span>. The <span class="GUI">Delete</span> <span class="GUI">All</span> button clears the entire list. </p>
        <p>When you have finished creating the list of criteria, click <span class="GUI">OK</span>. A temporary file is created for the job and the file name is displayed in the <span class="GUI">Filter criteria file</span> text box in the <span class="GUI">LigPrep</span> panel. </p>
        <p>Existing filter criteria file can be read (replacing the existing list contents) by clicking <span class="GUI">Read</span> and navigating to the desired file. You then can modify the criteria list and write out a new file.</p>
        <p>An example filter criteria file is given below. Comment lines start with <code>#</code>. The files generated from the panel only have a generic comment at the top, but you can add comments if you want.</p><pre>
# Remove molecules that have a molecular weight of greater than 650
Molecular_weight                         &gt; 650
# Remove molecules with too many H-bond acceptor and donor atoms
Acceptor_groups                          &gt; 3
Donor_groups                             &gt; 3
# Remove molecules with fewer than 10 atoms
Num_atoms                                &lt; 10
</pre>
        <p>If you want to use other descriptors than those listed above, you can create a filter criteria file from the <span class="GUI">Ligand Filtering</span> panel in Maestro, which you open from the <span class="GUI">Tools</span> menu. You can then import this file by clicking <span class="GUI">Browse</span> in the <span class="GUI">LigPrep</span> panel to select a filter criteria file. For more information on the <span class="GUI">Ligand Filtering</span> panel, see <a href="../maestro_tools_help/ligfilter.html">Ligand Filtering Panel</a>.</p>
        <p>For more information on ligfilter, see <a class="TopicLink MCXref xref xrefTopicLink" href="../ligprep_command_reference/ligprep_tools_ligfilter.htm#ligprep_tools_2176537498_55086">LigPrep Use of ligfilter</a>.</p>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="running_ligprep_structures.htm">Selecting Structure Input and Output</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="ligprep_user_manualTOC.htm">LigPrep User Manual</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="running_ligprep_ffld.htm">Selecting a Force Field</a> ▶</span>
                </td>
            </tr>
        </table>
    </body>
</html>