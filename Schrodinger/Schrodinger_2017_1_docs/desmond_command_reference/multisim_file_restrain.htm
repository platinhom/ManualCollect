<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="Documentation.xml" data-mc-path-to-help-system="../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Command References|Desmond Command Reference|The multisim Utility|The multisim File Syntax">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>The restrain multisim Keyword</title>
        <link href="../Resources/TableStyles/StandardRules.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link href="../Resources/Stylesheets/docs.css" rel="stylesheet" />
        <script src="../Resources/Scripts/custom.modernizr.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/foundation.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body><a name="aanchor4483"></a>
        <MadCap:concept term="Command Reference" /><a name="aanchor4484"></a>
        <MadCap:concept term="Desmond" /><a name="multisim_1257644870_743281"></a>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="multisim_file_desmond.htm">Desmond-Specific Common multisim Keywords</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="desmond_command_referenceTOC.htm">Desmond Command Reference Manual</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="multisim_file_atom_group.htm">The atom_group multisim Keyword</a> ▶</span>
                </td>
            </tr>
        </table>
        <h1 class="Title">The restrain multisim Keyword</h1>
        <p>The <code>restrain</code> keyword specifies the atom sets to be restrained and parameters for the restraint. Restraints set in all stages except the <code>system_builder</code> stage apply only to the current stage. Restraints set in the <code>system_builder</code> stage are “permanent”—they are inherited by all subsequent stages. Permanent restraints can be overridden in a particular stage, but only to increase the restraint force constants. They will still be applied in subsequent stages.</p>
        <p>The <code>restrain</code> keyword supports the specific values listed in <a class="Table_Number MCXref xref xrefTable_Number selected" href="#multisim_1257644870_745622">Table 1</a>, and also supports a block syntax and a list syntax.</p>
        <table class="TableStyle-StandardRules" style="caption-side: top;mc-table-style: url('../Resources/TableStyles/StandardRules.css');" cellspacing="0">
            <caption valign="top" style="padding-bottom: 7pt;">
                <p class="Table_Caption" data-mc-autonum="Table 1. "><span class="autonumber"><span>Table 1. </span></span><a name="multisim_1257644870_745622"></a>Specific allowed values of the restrain keyword</p>
            </caption>
            <thead>
                <tr class="TableStyle-StandardRules-Head-Header1">
                    <td class="TableStyle-StandardRules-HeadE-Column1-Header1">
                        <p class="Cell_Heading">Value</p>
                    </td>
                    <td class="TableStyle-StandardRules-HeadD-Column1-Header1">
                        <p class="Cell_Heading">Description</p>
                    </td>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-StandardRules-Body-Body1">
                    <td class="TableStyle-StandardRules-BodyH-Column1-Body1">
                        <p class="Cell_Body"><code>none</code>
                        </p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyG-Column1-Body1">
                        <p class="Cell_Body">Remove the temporary restraints (those set in the previous <code>simulate</code> or <code>minimize</code> stage), but do not change permanent restraints as set in the <code>system_builder</code> stage or in the original <code>.cms</code> file for the <code>multisim</code> job. Using this value in a <code>system_builder</code> stage removes all restraints. This is the default.</p>
                    </td>
                </tr>
                <tr class="TableStyle-StandardRules-Body-Body1">
                    <td class="TableStyle-StandardRules-BodyB-Column1-Body1">
                        <p class="Cell_Body"><code>retain</code>
                        </p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyA-Column1-Body1">
                        <p class="Cell_Body">Keep the restraints as set in the previous stage.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>Restraints can be specified using blocks, and ASL expressions or atom lists can be used to define the atoms that are restrained within restraint blocks. The syntax is:</p><pre>
restrain = {atom = <i class="UserReplace">atoms</i> fc|force_constant = <i class="UserReplace">value</i> ref|reference_position = retain|reset|<i class="UserReplace">refvalue</i> sigma = <i class="UserReplace">sigmavalue</i>}
</pre>
        <p>where <i class="UserReplace">atoms</i> can be any of the keywords listed in <a class="Table_Number MCXref xref xrefTable_Number selected" href="#multisim_1257644870_753228">Table 2</a>, an atom list, or an ASL expression prefixed by <code>asl:</code></p>
        <p>For example, </p><pre>
restrain = {atom = asl:all force_constant = 10} 
</pre>
        <p>restrains all atoms with a force constant of 10 kcal&#160;mol<sup>-1</sup>&#160;Å<sup>-2</sup>. The following two expressions, which illustrate both forms of the atom list, are equivalent:</p><pre>
restrain = {atom = [1 2 5 7-19] force_constant = 10} 
restrain = {atom = "asl:atom.num 1,2,5,7-19" force_constant = 10}
</pre>
        <p>&#160;</p>
        <table class="TableStyle-StandardRules" style="caption-side: top;mc-table-style: url('../Resources/TableStyles/StandardRules.css');" cellspacing="0">
            <caption valign="top" style="padding-bottom: 7pt;">
                <p class="Table_Caption" data-mc-autonum="Table 2. "><span class="autonumber"><span>Table 2. </span></span><a name="multisim_1257644870_753228"></a>Specific allowed values of the atoms keyword</p>
            </caption>
            <thead>
                <tr class="TableStyle-StandardRules-Head-Header1">
                    <td class="TableStyle-StandardRules-HeadE-Column1-Header1">
                        <p class="Cell_Heading">Value</p>
                    </td>
                    <td class="TableStyle-StandardRules-HeadD-Column1-Header1">
                        <p class="Cell_Heading">Description</p>
                    </td>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-StandardRules-Body-Body1">
                    <td class="TableStyle-StandardRules-BodyH-Column1-Body1">
                        <p class="Cell_Body"><code>heavy_atom</code>
                        </p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyG-Column1-Body1">
                        <p class="Cell_Body">Restrain all heavy (non-hydrogen) atoms</p>
                    </td>
                </tr>
                <tr class="TableStyle-StandardRules-Body-Body1">
                    <td class="TableStyle-StandardRules-BodyE-Column1-Body1">
                        <p class="Cell_Body"><code>solute</code>
                        </p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyD-Column1-Body1">
                        <p class="Cell_Body">Restrain all solute atoms</p>
                    </td>
                </tr>
                <tr class="TableStyle-StandardRules-Body-Body2">
                    <td class="TableStyle-StandardRules-BodyH-Column1-Body2">
                        <p class="Cell_Body"><code>solute_heavy_atom</code>
                        </p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyG-Column1-Body2">
                        <p class="Cell_Body">Restrain all heavy atoms in the solute</p>
                    </td>
                </tr>
                <tr class="TableStyle-StandardRules-Body-Body2">
                    <td class="TableStyle-StandardRules-BodyE-Column1-Body2">
                        <p class="Cell_Body"><code>solvent</code>
                        </p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyD-Column1-Body2">
                        <p class="Cell_Body">Restrain all solvent atoms</p>
                    </td>
                </tr>
                <tr class="TableStyle-StandardRules-Body-Body1">
                    <td class="TableStyle-StandardRules-BodyB-Column1-Body1">
                        <p class="Cell_Body"><code>solvent_heavy_atom</code>
                        </p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyA-Column1-Body1">
                        <p class="Cell_Body">Restrain all heavy atoms in the solvent</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>Restraints can be applied with respect to the positions of the atoms at the start of the current stage by setting <code>reference_position</code> to <code>reset</code> or the positions from the previous stage by setting <code>reference_position</code> to <code>retain</code>. The default is <code>reference_position=reset</code>. </p>
        <p>Different groups of atoms in the system can be restrained with different force constants by listing the restraint blocks for each set of atoms within a list using the syntax:</p><pre>
restrain = [{atom = "asl:<i class="UserReplace">ASL1</i>" force_constant = <i class="UserReplace">value1</i>} 
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{atom = "asl:<i class="UserReplace">ASL2</i>" force_constant = <i class="UserReplace">value2</i>} ... ]
</pre>
        <p>If the ASL expression contains quotes, they must be escaped, either by using a backslash, or by using double quotes in the ASL expression and surrounding the entire expression in single quotes. You can include anisotropic restraints on a positional restraint by assigning the force constant as follows:</p><pre>
force_constant = [<i class="UserReplace">x-value</i> <i class="UserReplace">y-value</i> <i class="UserReplace">z-value</i>] 
</pre>
        <p>In addition to positional restraints, you can set relative restraints, on distances (including NOE restraints), angles, and dihedrals. Relative restraints can be included by setting <i class="UserReplace">atoms</i> and <i class="UserReplace">refvalue</i> appropriately. For distance restraints, <i class="UserReplace">atoms</i> should specify exactly 2 atoms; for angle restraints, atoms should specify exactly 3 atoms; and for dihedral restraints, <i class="UserReplace">atoms</i> should specify exactly 4 atoms. All atoms in the relative restraint must be in the same CT. The reference value <i class="UserReplace">refvalue</i> is the desired distance, angle, or dihedral value, in angstroms or degrees. Flat-bottomed restraints can be included by setting <i class="UserReplace">sigmavalue</i> to a distance or an angle tolerance, as appropriate. The restraint potential is set to zero in the range <i class="UserReplace">refvalue</i>±<i class="UserReplace">sigmavalue</i>. </p>
        <p>NOE restraints have a slightly different syntax: <i class="UserReplace">atoms</i> should specify exactly 2 atoms, and <i class="UserReplace">refvalue</i> should be a list with two elements, the upper distance then the lower distance, which represent the range of the flat-bottomed region where the restraint potential is zero. The long-range potential for NOE restraints is</p>
        <p><i class="UserReplace">V</i> = <i class="UserReplace">k</i> * (<i class="UserReplace">a</i> + <i class="UserReplace">beta</i> * (<i class="UserReplace">d</i> - <i class="UserReplace">upper</i>) + <i class="UserReplace">c </i>/ (<i class="UserReplace">d</i> - <i class="UserReplace">upper</i>)), </p>
        <p>where d is the distance between the atoms, and this form is used when <i class="UserReplace">d</i> &gt; <i class="UserReplace">upper</i> + <i class="UserReplace">sigma.</i> The parameters of this potential are set by <i class="UserReplace">sigmavalue</i>, which is a list containing two values, <i class="UserReplace">sigma</i> (the cutoff for the long-range potential) and <i class="UserReplace">beta</i> (the coefficient of the linear term). The other constants (<i class="UserReplace">a</i> and <i class="UserReplace">c</i>) are determined by continuity requirements.</p>
        <p>Examples of restraints are given below, showing both flat-bottomed and harmonic restraints.</p>
        <p><b>Positional restraint:</b>
        </p><pre>
restrain = [{atom = [1] force_constant = 15.0 sigma = 0.2} 
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{atom = [2] fc = [5.0 7.5 10.0] ref=[0.0 1.23 0.05 ]}]
</pre>
        <p><b>Distance restraint:</b>
        </p><pre>
restrain = [{atom = [1 2] force_constant = 15.0 sigma = 0.2} 
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{atom = [2 6] fc = 5.0 ref = 1.55}]
</pre>
        <p><b>Angle restraint:</b>
        </p><pre>
restrain = [{atom = [1 2 3] force_constant = 1.0 sigma = 5.0} 
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{atom = [2 6 7] fc = 5.0 ref = 1.55}]
</pre>
        <p><b>Dihedral restraint:</b>
        </p><pre>
restrain = [{atom = [1 2 7 9] force_constant = 1.5 sigma = 10.0} 
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{atom = [2 3 5 6] fc = 5.0 ref = retain}]
</pre>
        <p><b>NOE restraint:</b>
        </p><pre>
restrain = { atom = [1 2] ref = [1.0 1.5] sigma = [2.0 3.2] }
</pre>
        <p>Another class of restraints is alpha-helical constraints, which constrain a sequence of residues into a helical conformation. The syntax is </p><pre>
restrain = { generator = "alpha_helix" atom = "asl:<i class="UserReplace">expression</i>" fc = <i class="UserReplace">list</i> ref = <i class="UserReplace">list</i> }
</pre>
        <p>The lists for the force constant (<code>fc</code>) and reference values (<code>ref</code>) have three members: the first specifies values for the hydrogen bond, the second for the phi angle, and the third for the psi angle. The default force constants are 0.25 kcal&#160;Å<sup>−2</sup> for the hydrogen bond, 1.5 kcal&#160;rad<sup>−2</sup> for phi and psi. The reference values are the H-bond length and the phi and psi angles. </p>
        <p>For example, to set the reference values with the default force constants you could use </p><pre>
restrain = { generator = "alpha_helix" atom = "asl:<i class="UserReplace">expression</i>" ref = [2.5 -60 -50] }
</pre>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="multisim_file_desmond.htm">Desmond-Specific Common multisim Keywords</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="desmond_command_referenceTOC.htm">Desmond Command Reference Manual</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="multisim_file_atom_group.htm">The atom_group multisim Keyword</a> ▶</span>
                </td>
            </tr>
        </table>
    </body>
</html>