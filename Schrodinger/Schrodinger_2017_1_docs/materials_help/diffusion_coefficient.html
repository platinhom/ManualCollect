<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="Documentation.xml" data-mc-path-to-help-system="../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Help|Materials Science Help">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/docs.css" rel="stylesheet" type="text/css" /><title>Diffusion Coefficient Panel</title>
        <script src="../Resources/Scripts/custom.modernizr.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/foundation.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body><a name="aanchor1036"></a>
        <MadCap:concept term="Help Topics" /><a name="aanchor1037"></a>
        <MadCap:concept term="Materials" />
        <table class="navlink">
            <tr>
                <td class="navlink"><a class="navbutton" href="#using">Using</a>
                </td>
                <td class="navlink"><a class="navbutton" href="#features">Features</a>
                </td>
                <td class="navlink"><a class="navbutton" href="#links">Links</a>
                </td>
            </tr>
        </table>
        <h1 class="title">Diffusion Coefficient Panel</h1><a name="summary"></a>
        <p>Calculate the diffusion coefficient for either a type of atom or a type of molecule from an MD trajectory. The trajectory can be generated for the calculation, or an existing trajectory can be used.</p>
        <p>To open this panel, choose <span class="GUI">Tasks → Materials → Classical Mechanics : Diffusion Coefficient → Perform Calculations</span> in the Task Tool browser.
</p>
        <h2><a name="using"></a>Using the Diffusion Coefficient Panel</h2>
        <p>In this panel, you can set up and run MD simulations which are analyzed to obtain the diffusion coefficient for a particular type of atom or molecule. You can use the results of an existing calculation, if you have the output of an MD simulation with a trajectory. Otherwise, you can run the simulation as part of the job. The analysis of the mean square deviation (MSD), used to calculate the diffusion coefficient, is performed as part of the job. The MSD is fit to simulation time differences (tau) over a specified range. </p>
        <p>The input structure must be a Desmond model system (<code>.cms</code>). If you are are running the simulation as part of the job, you should make sure that the system is already fully relaxed, as the simulation does not include relaxation stages. </p>
        <p>The diffusion coefficient can be calculated for individual atoms or individual molecules. The atoms or the molecules must all be of the same type:&#160;same element for atoms, or same molecular structure for molecules. This is necessary because the results are averaged over all molecules or atoms of that type. When selecting the atoms or molecules for the diffusion calculations, therefore, you must ensure that you choose only atoms or molecules of the same type. The easiest way to do this is probably to enter an ASL expression in the text box in the <span class="GUI">Atoms for diffusion parameters</span> picking tools section. For an atom, you can enter the expression <code>a.e <i>element-symbol</i></code> to specify the element whose symbol is <i>element-symbol</i>. For a molecule you can use SMARTS, with the expression <code>smarts. <i>smarts&#8209;pattern</i></code> to specify the molecules that match <i>smarts-pattern</i>. (Make sure that the SMARTS pattern doesn't match anything else.)</p>
        <p>The diffusion coefficient is added to the output structure as a Maestro property, <span class="GUI">Diffusion Coefficient</span>, which is given in units of 10<sup>−9</sup> m<sup>2</sup>/s. The upper and lower tau values used for the linear fit are also reported, as <span class="GUI">Tau Start</span> and <span class="GUI">Tau End</span>, given in ns. </p>
        <h2><a name="features"></a>Diffusion Coefficient Panel Features</h2>
        <ul>
            <li value="1"><a href="#structures"><span class="GUI">Use structures from</span> option menu</a>
            </li>
            <li value="2"><a href="#PTbutton"><span class="GUI">Open Project Table</span> button</a>
            </li>
            <li value="3"><a href="#feature1"><span class="GUI">Trajectory</span> options</a>
            </li>
            <li value="4"><a href="#feature2"><span class="GUI">Simulation protocols</span> section</a>
                <ul>
                    <li value="1"><a href="#feature2.1"><span class="GUI">Ensemble class</span> option menu</a>
                    </li>
                    <li value="2"><a href="#feature2.2"><span class="GUI">Temperature</span> text box</a>
                    </li>
                    <li value="3"><a href="#feature2.3"><span class="GUI">Pressure</span> text box</a>
                    </li>
                    <li value="4"><a href="#feature2.4"><span class="GUI">Simulation time</span> text box</a>
                    </li>
                    <li value="5"><a href="#feature2.5"><span class="GUI">Time step</span> text box</a>
                    </li>
                    <li value="6"><a href="#feature2.6"><span class="GUI">Trajectory recording interval</span> text box</a>
                    </li>
                    <li value="7"><a href="#feature2.7"><span class="GUI">Save trajectory</span> option</a>
                    </li>
                </ul>
            </li>
            <li value="5"><a href="#feature3"><span class="GUI">Diffusion parameters</span> section</a>
                <ul>
                    <li value="1"><a href="#feature3.1"><span class="GUI">Atoms for diffusion parameters</span> picking tools</a>
                    </li>
                    <li value="2"><a href="#feature3.2"><span class="GUI">Use center of mass of each molecule</span> option</a>
                    </li>
                    <li value="3"><a href="#feature3.3"><span class="GUI">Start with trajectory frame</span> box</a>
                    </li>
                    <li value="4"><a href="#feature3.4"><span class="GUI">Include Tau values from <i>t1</i> ns to <i>t2</i> ns for linear fit</span> boxes</a>
                    </li>
                </ul>
            </li>
            <li value="6"><a href="#job_toolbar">Job toolbar</a>
            </li>
            <li value="7"><a href="#status_bar">Status bar</a>
            </li>
        </ul>
        <dl>
            <dt><a name="structures"></a><span class="GUI"><span class="SnippetUseFromLabel">Use structures from</span></span> option menu</dt>
            <dd>
                <p>Choose the source of the structures for <span class="SnippetCurrentTask">the current task</span>. </p>
                <ul>
                    <li value="1" data-mc-conditions="Snippet.PTn"><span class="GUI">Project Table (<i>n</i> selected entries)</span>—Use the entries that are currently selected in the Project Table. The number of entries selected is shown on the menu item.  An icon is displayed to the right which you can click to open the Project Table and select entries.</li>
                    <li value="2" data-mc-conditions="Snippet.WSn"><span class="GUI">Workspace (<i>n</i> included entries)</span>—Use the entries that are currently included in the Workspace, treated as separate structures. The number of entries in the Workspace is shown on the menu item. The Workspace should not contain a scratch entry.   An  icon is displayed to the right which you can click to open the Project Table and include or exclude entries.</li>
                </ul>
            </dd>
            <dt><a name="PTbutton"></a><span class="GUI">Open Project Table</span> button</dt>
            <dd>
                <p>Open the <span class="GUI">Project Table</span> panel, so you can select or include the entries for the source of the structures.
<br style="margin-bottom: 10px;" /><img src="../Resources/Images/Toolbuttons/projecttable.png" /><br style="margin-bottom: 10px;" /></p>
            </dd>
            <dt><a name="feature1"></a><span class="GUI">Trajectory</span> options</dt>
            <dd>
                <p>Select an option for the source of the trajectory.</p>
                <ul>
                    <li value="1"><span class="GUI">Generate trajectory</span>—select this option if the structure does not have an associated trajectory (there is no T button in the <span class="GUI">Entry List</span> for the structure). With this option, a simulation is run to generate the trajectory.</li>
                    <li value="2"><span class="GUI">Use existing trajectory</span>—select this option if the structure has a trajectory that you want to use (there is a T button in the <span class="GUI">Entry List</span> for the structure). The simulation is skipped, and the trajectory is analyzed to obtain the diffusion coefficients. </li>
                </ul>
            </dd>
            <dt><a name="feature2"></a><span class="GUI">Simulation protocols</span> section</dt>
            <dd>
                <p>Specify parameters for the simulation from which the diffusion coefficients are calculated.</p>
                <dl>
                    <dt><a name="feature2.1"></a><span class="GUI">Ensemble class</span> option menu</dt>
                    <dd>
                        <p>Choose the ensemble class for the simulation, from NVT, NPT, or NVE. The default is NVE.</p>
                    </dd>
                    <dt><a name="feature2.2"></a><span class="GUI">Temperature</span> text box</dt>
                    <dd>
                        <p>Set the temperature in kelvin for the simulation and thus for the diffusion coefficients.</p>
                    </dd>
                    <dt><a name="feature2.3"></a><span class="GUI">Pressure</span> text box</dt>
                    <dd>
                        <p>
                            <p>Set the pressure in bar for the simulation and thus for the diffusion coefficients. This text box is only active for the NPT ensemble.</p>
                        </p>
                    </dd>
                    <dt><a name="feature2.4"></a><span class="GUI">Simulation time</span> text box</dt>
                    <dd>
                        <p>Enter the desired simulation time in this text box, in ns. </p>
                    </dd>
                    <dt><a name="feature2.5"></a><span class="GUI">Time step</span> text box</dt>
                    <dd>
                        <p>Enter the time step for the simulation in this text box, in ps. </p>
                    </dd>
                    <dt><a name="feature2.6"></a><span class="GUI">Trajectory recording interval</span> text box</dt>
                    <dd>
                        <p>Set the recording interval for saving points on the trajectory, in ps. </p>
                    </dd>
                    <dt><a name="feature2.7"></a><span class="GUI">Save trajectory</span> option</dt>
                    <dd>
                        <p>Save the trajectory when the simulation is done. If this option is not selected, the trajectory is used to evaluate the diffusion coefficients, then it is discarded. </p>
                    </dd>
                </dl>
            </dd>
            <dt><a name="feature3"></a><span class="GUI">Diffusion parameters</span> section</dt>
            <dd>
                <p>Make settings for the calculation of the diffusion coefficient.</p>
                <dl>
                    <dt><a name="feature3.1"></a><span class="GUI">Atoms for diffusion parameters</span> picking tools</dt>
                    <dd>
                        <p>Select atoms  for  the calculation of diffusion parameters, using these <a href="../maestro_help/picking_controls.html">standard picking tools</a>. The mean square displacement (MSD) is averaged over all atoms, or all molecules if <span class="GUI">Use center of mass of each molecule</span> is selected, so you should ensure that you select only one type of atom or molecule.  You can select the atoms or molecules by  picking  in the Workspace, using the <a href="../maestro_help/asd.html" class="MCXref xref" xrefformat="{paratext}">Atom Selection Dialog Box</a>, or entering an ASL expression in the text box. Useful ASL expressions are <code>all</code>, <code>water</code>, or a SMARTS pattern with the syntax <code>smarts. <i>smarts-pattern</i></code>. </p>
                    </dd>
                    <dt><a name="feature3.2"></a><span class="GUI">Use center of mass of each molecule</span> option</dt>
                    <dd>
                        <p>Calculate the MSD (mean square displacement) for the center of mass of the selected atoms of each molecule in the atom selection. The default is to do the MSD calculation for the individual atoms.</p>
                    </dd>
                    <dt><a name="feature3.3"></a><span class="GUI">Start with trajectory frame</span> box</dt>
                    <dd>
                        <p>Start the calculations of the MSD displacement against time difference (tau) from the specified trajectory frame. Earlier frames in the trajectory are discarded. </p>
                    </dd>
                    <dt><a name="feature3.4"></a><span class="GUI">Include Tau values from <i>t1</i> ns to <i>t2</i> ns for linear fit</span> boxes</dt>
                    <dd>
                        <p>Perform the linear fit of the MSD&#160;for the diffusion coefficient between the specified time difference (tau) values. These text boxes allow you to discard small and large tau values where the relationship might not be linear. You can adjust the fit after the calculation is run, in the <a href="diffusion_coefficient_viewer.html" class="MCXref xref" xrefformat="{paratext}">Diffusion Coefficient Viewer Panel</a>.</p>
                    </dd>
                </dl>
            </dd>
            <dt><a name="job_toolbar"></a>Job toolbar</dt>
            <dd>
                <p>Manage job submission. See <a href="../maestro_help/job_toolbar.html">Job Toolbar</a> for a description of this toolbar.</p>
            </dd>
            <dt><a name="status_bar"></a>Status bar</dt>
            <dd>
                <p>The status bar displays information about the current job settings for the panel. This includes the job name, task name and task settings (if any), number of subjobs (if any) and the host name and job incorporation setting. It also displays a message for a short time when you start a new job.</p>
                <p>The status bar also contains the <span class="GUI">Help</span> button, which opens the help topic for the panel.</p>
                <p>
                    <img src="../Resources/Images/Toolbuttons/help.png" />
                </p>
            </dd>
        </dl>
        <h2><a name="links"></a>Related Topics</h2>
        <ul>
            <li value="1"><a href="diffusion_coefficient_viewer.html" class="MCXref xref" xrefformat="{paratext}">Diffusion Coefficient Viewer Panel</a>
            </li>
        </ul>
    </body>
</html>