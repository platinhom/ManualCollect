<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="Documentation.xml" data-mc-path-to-help-system="../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Help|Materials Science Help">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/docs.css" rel="stylesheet" type="text/css" />
        <link href="../Resources/TableStyles/Formatting.css" rel="stylesheet" data-mc-stylesheet-type="table" /><title>Coarse Grain Force Field Assignment Panel</title>
        <script src="../Resources/Scripts/custom.modernizr.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/foundation.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body><a name="aanchor6334"></a>
        <MadCap:concept term="Help Topics" /><a name="aanchor6335"></a>
        <MadCap:concept term="Materials" />
        <table class="navlink">
            <tr>
                <td class="navlink"><a class="navbutton selected" href="#using">Using</a>
                </td>
                <td class="navlink"><a class="navbutton selected" href="#features">Features</a>
                </td>
                <td class="navlink"><a class="navbutton selected" href="#links">Links</a>
                </td>
            </tr>
        </table>
        <h1 class="title">Coarse-Grained Force Field Assignment Panel</h1><a name="summary"></a>
        <p>Assign force-field parameters to a coarse-grain model and create the Desmond CMS file for running a molecular dynamics simulation with this model. The model system is added to the project and displayed in the Workspace.</p>
        <p>To open this panel, choose <span class="GUI">Tasks → Materials → Coarse-Grained Modeling → Assign Force Field</span> in the Task Tool.
</p>
        <h2><a name="using"></a>Using the Coarse-Grained Force Field Assignment Panel</h2>
        <p>To assign site, bond, or nonbonded parameters:</p>
        <ol>
            <li value="1">Display the tab for the parameter type.</li>
            <li value="2">Choose the instance of the parameter type from the option menu in the <span class="GUI">Type</span> column for a parameter.</li>
            <li value="3">Edit the cells for the parameters you want to change. </li>
        </ol>
        <p>To assign angle or dihedral parameters:</p>
        <ol>
            <li value="1">Display the tab for the parameter type.</li>
            <li value="2">Use the menu in the <span class="GUI">Type</span> column to choose the type of parameter.</li>
            <li value="3">Edit the cells for the parameters you want to change. </li>
            <li value="4">Click <span class="GUI">Add Row</span> to add a new parameter type, and repeat steps 2 and 3.</li>
            <li value="5">Repeat for as many parameters as you want to set.</li>
        </ol>
        <p>You can save the values for any parameter type in a database, which is kept in your <a href="../job_control/job_control_glossary.htm#user_resources_directory">Schrödinger user resources directory</a>. The database is read and the values used as the defaults for any parameters in the current model that are in the database.</p>
        <h2><a name="features"></a>Coarse-Grained Force Field Assignment Panel Features</h2>
        <p>Each tab consists of a table in which the parameters can be defined. The parameters have an icon with a colored background next to them that indicates the source of the parameter:</p>
        <ul>
            <li value="1">G:&#160;guess, orange</li>
            <li value="2">A: average over all occurrences, yellow</li>
            <li value="3">D: taken from the database, blue</li>
            <li value="4">E:&#160;edited, green</li>
        </ul>
        <p>The parameters are assigned from the database, if available, otherwise a guess is made. </p>
        <ul>
            <li value="1"><a href="#feature1" class="selected"><span class="GUI">Site</span> tab</a>
            </li>
            <li value="2"><a href="#feature2" class="selected"><span class="GUI">Bond</span> tab</a>
            </li>
            <li value="3"><a href="#feature3" class="selected"><span class="GUI">Angle</span> tab</a>
            </li>
            <li value="4"><a href="#feature4" class="selected"><span class="GUI">Dihedral</span> tab</a>
            </li>
            <li value="5"><a href="#feature5" class="selected"><span class="GUI">Nonbond</span> tab</a>
                <ul>
                    <li value="1"><a href="#feature5.1" class="selected"><span class="GUI">Potential</span> options</a>
                    </li>
                    <li value="2"><a href="#feature5.2" class="selected"><span class="GUI">Cutoff distance</span> text box</a>
                    </li>
                    <li value="3"><a href="#feature5.3" class="selected"><span class="GUI">Dielectric constant</span> text box</a>
                    </li>
                    <li value="4"><a href="#feature5.4" class="selected"><span class="GUI">Allow 1-3 angle nonbonds</span> option</a>
                    </li>
                    <li value="5"><a href="#feature5.5" class="selected">Parameter table</a>
                    </li>
                </ul>
            </li>
            <li value="6"><a href="#feature6" class="selected"><span class="GUI">Desmond input file to create</span> text box</a>
            </li>
            <li value="7"><a href="#feature7" class="selected"><span class="GUI">Reset</span> button</a>
            </li>
            <li value="8"><a href="#feature8" class="selected"><span class="GUI">Run</span> button</a>
            </li>
        </ul>
        <dl>
            <dt><a name="feature1"></a><span class="GUI">Site</span> tab</dt>
            <dd>
                <p>Specify parameters that apply to individual particles. The controls are displayed in a table, which has rows for each site.</p>
                <table style="width: 100%;mc-table-style: url('../Resources/TableStyles/Formatting.css');" class="TableStyle-Formatting" cellspacing="0">
                    <col class="TableStyle-Formatting-Column-Column1" />
                    <col class="TableStyle-Formatting-Column-Column1" />
                    <tbody>
                        <tr>
                            <td class="TableStyle-Formatting-BodyH-Column1-"><span class="GUI">Type</span>
                            </td>
                            <td class="TableStyle-Formatting-BodyG-Column1-">Type of particle, as defined in the coarse-grained model structure. </td>
                        </tr>
                        <tr>
                            <td class="TableStyle-Formatting-BodyH-Column1-"><span class="GUI">#&#160;Occurrences</span>
                            </td>
                            <td class="TableStyle-Formatting-BodyG-Column1-">Number of occurrences of this particle in the model structure.</td>
                        </tr>
                        <tr>
                            <td class="TableStyle-Formatting-BodyH-Column1-"><span class="GUI">Mass/(g/mol)</span>
                            </td>
                            <td class="TableStyle-Formatting-BodyG-Column1-">Mass of the particle. If the model came from the <a href="coarse_grain_particulate.html" class="MCXref xref">Map Atoms to Particles Panel</a>, the mass is calculated from the constituent atoms, so you should not need to change it. Likewise, if you used the <a href="coarse_grain_sketcher.html" class="MCXref xref">Coarse-Grained Sketcher Panel</a>, the mass set in the panel is used.</td>
                        </tr>
                        <tr>
                            <td class="TableStyle-Formatting-BodyH-Column1-"><span class="GUI">Charge</span>
                            </td>
                            <td class="TableStyle-Formatting-BodyG-Column1-">Charge of the particle. If the model came from the <a href="coarse_grain_particulate.html" class="MCXref xref">Map Atoms to Particles Panel</a>, the charge is obtained from the formal charges on the atoms in the particle. </td>
                        </tr>
                        <tr>
                            <td class="TableStyle-Formatting-BodyB-Column1-"><span class="GUI">Save</span>
                            </td>
                            <td class="TableStyle-Formatting-BodyA-Column1-">Save the values for the parameter type  in the database. If the parameter type is already in the database, a prompt is displayed to overwrite the database values. The values are automatically loaded from the database for this parameter type once they are saved.</td>
                        </tr>
                    </tbody>
                </table>
            </dd>
            <dt><a name="feature2"></a><span class="GUI">Bond</span> tab</dt>
            <dd>
                <p>Specify parameters for the bonds between particles. The controls are displayed in a table, which has rows for each bond.</p>
                <table style="width: 100%;mc-table-style: url('../Resources/TableStyles/Formatting.css');" class="TableStyle-Formatting" cellspacing="0">
                    <col class="TableStyle-Formatting-Column-Column1" />
                    <col class="TableStyle-Formatting-Column-Column1" />
                    <tbody>
                        <tr>
                            <td class="TableStyle-Formatting-BodyH-Column1-"><span class="GUI">Type</span>
                            </td>
                            <td class="TableStyle-Formatting-BodyG-Column1-">Bond type, represented as <i class="UserReplace">particle1</i>-<i class="UserReplace">particle2</i>. All bond types in the model are listed automatically.</td>
                        </tr>
                        <tr>
                            <td class="TableStyle-Formatting-BodyH-Column1-"><span class="GUI">#&#160;Occurrences</span>
                            </td>
                            <td class="TableStyle-Formatting-BodyG-Column1-">Number of occurrences of this bond in the model structure.</td>
                        </tr>
                        <tr>
                            <td class="TableStyle-Formatting-BodyH-Column1-"><span class="GUI">Req/Å</span>
                            </td>
                            <td class="TableStyle-Formatting-BodyG-Column1-">Equilibrium bond distance. This is calculated as an average over each occurrence, by default.</td>
                        </tr>
                        <tr>
                            <td class="TableStyle-Formatting-BodyH-Column1-"><span class="GUI">k/(kcal/mol)/Å<sup>2</sup></span>
                            </td>
                            <td class="TableStyle-Formatting-BodyG-Column1-">Harmonic force constant for the bond. The potential is V = k(<i>r</i>−<i>r</i><sub>eq</sub>)<sup>2</sup>.</td>
                        </tr>
                        <tr>
                            <td class="TableStyle-Formatting-BodyB-Column1-"><span class="GUI">Save</span>
                            </td>
                            <td class="TableStyle-Formatting-BodyA-Column1-">Save the values for the parameter type  in the database. If the parameter type is already in the database, a prompt is displayed to overwrite the database values. The values are automatically loaded from the database for this parameter type once they are saved.</td>
                        </tr>
                    </tbody>
                </table>
            </dd>
            <dt><a name="feature3"></a><span class="GUI">Angle</span> tab</dt>
            <dd>
                <p>Specify parameters for the angles between particles. The controls are displayed in a table; rows can be added manually.</p>
                <table style="width: 100%;mc-table-style: url('../Resources/TableStyles/Formatting.css');" class="TableStyle-Formatting" cellspacing="0">
                    <col class="TableStyle-Formatting-Column-Column1" />
                    <col class="TableStyle-Formatting-Column-Column1" />
                    <tbody>
                        <tr>
                            <td class="TableStyle-Formatting-BodyH-Column1-"><span class="GUI">Type</span>
                            </td>
                            <td class="TableStyle-Formatting-BodyG-Column1-">Type of angle. Click the Choose a type button to select the angle type from a cascading menu of particle types. The type is represented as <i class="UserReplace">particle1</i>-<i class="UserReplace">particle2</i>-<i class="UserReplace">particle3</i>, on the menu, when you have made a choice. </td>
                        </tr>
                        <tr>
                            <td class="TableStyle-Formatting-BodyH-Column1-"><span class="GUI">#&#160;Occurrences</span>
                            </td>
                            <td class="TableStyle-Formatting-BodyG-Column1-">Number of occurrences of this angle in the model structure.</td>
                        </tr>
                        <tr>
                            <td class="TableStyle-Formatting-BodyH-Column1-"><span class="GUI"><span style="font-family: 'Symbol'">q</span>eq/Å</span>
                            </td>
                            <td class="TableStyle-Formatting-BodyG-Column1-">Equilibrium bond angle. This is calculated as an average over each occurrence, by default. </td>
                        </tr>
                        <tr>
                            <td class="TableStyle-Formatting-BodyH-Column1-"><span class="GUI">k/(kcal/mol)/rad<sup>2</sup></span>
                            </td>
                            <td class="TableStyle-Formatting-BodyG-Column1-">Harmonic force constant for the angle. The potential is V = k(<span style="font-family: 'Symbol'">q</span>−<span class="Symbol">q</span><sub>eq</sub>)<sup>2</sup>.</td>
                        </tr>
                        <tr>
                            <td class="TableStyle-Formatting-BodyB-Column1-"><span class="GUI">Save</span>
                            </td>
                            <td class="TableStyle-Formatting-BodyA-Column1-">Save the values for the parameter type  in the database. If the parameter type is already in the database, a prompt is displayed to overwrite the database values. The values are automatically loaded from the database for this parameter type once they are saved.</td>
                        </tr>
                    </tbody>
                </table>
            </dd>
            <dt><a name="feature4"></a><span class="GUI">Dihedral</span> tab</dt>
            <dd>
                <p>Specify parameters for the dihedral angles between a set of particles. The potential is a sum of terms of the form (V<sub class="SubItal">n</sub>/2)(1 − (−1)<sup class="SupItal">n</sup> cos <i>n</i><span style="font-family: 'Symbol'">f</span>), with n = 1-4. V<sub class="SubItal">n</sub> is the depth of the well (peak-to-trough). The controls are displayed in a table; rows can be added manually.</p>
                <table style="width: 100%;mc-table-style: url('../Resources/TableStyles/Formatting.css');" class="TableStyle-Formatting" cellspacing="0">
                    <col class="TableStyle-Formatting-Column-Column1" />
                    <col class="TableStyle-Formatting-Column-Column1" />
                    <tbody>
                        <tr>
                            <td class="TableStyle-Formatting-BodyH-Column1-"><span class="GUI">Type</span>
                            </td>
                            <td class="TableStyle-Formatting-BodyG-Column1-">Type of dihedral. Click the Choose a type button to select the angle type from a cascading menu of particle types. The type is represented as <i class="UserReplace">particle1</i>-<i class="UserReplace">particle2</i>-<i class="UserReplace">particle3</i>-<i class="UserReplace">particle4</i>, on the menu, when you have made a choice. The </td>
                        </tr>
                        <tr>
                            <td class="TableStyle-Formatting-BodyH-Column1-"><span class="GUI">#&#160;Occurrences</span>
                            </td>
                            <td class="TableStyle-Formatting-BodyG-Column1-">Number of occurrences of this dihedral in the model structure.</td>
                        </tr>
                        <tr>
                            <td class="TableStyle-Formatting-BodyH-Column1-"><span class="GUI">V<sub>n</sub>/(kcal/mol)</span>
                            </td>
                            <td class="TableStyle-Formatting-BodyG-Column1-">Well depth for the <i>n</i>th term of the dihedral potential.</td>
                        </tr>
                        <tr>
                            <td class="TableStyle-Formatting-BodyB-Column1-"><span class="GUI">Save</span>
                            </td>
                            <td class="TableStyle-Formatting-BodyA-Column1-">Save the values for the parameter type  in the database. If the parameter type is already in the database, a prompt is displayed to overwrite the database values. The values are automatically loaded from the database for this parameter type once they are saved.</td>
                        </tr>
                    </tbody>
                </table>
            </dd>
            <dt><a name="feature5"></a><span class="GUI">Nonbond</span> tab</dt>
            <dd>
                <p>Specify nonbonded interactions between the particles.</p>
                <dl>
                    <dt><a name="feature5.1"></a><span class="GUI">Potential</span> options</dt>
                    <dd>
                        <p>Choose the type of nonbonded interaction:</p>
                        <ul>
                            <li value="1"><span class="GUI">Lennard-Jones</span>—Use a Lennard-Jones type potential for the nonbonded interaction, of the form C<span style="font-family: 'Symbol'">e</span><span style="font-size: 16pt;">[</span>(<span style="font-family: 'Symbol'">s</span>/<i>r</i>)<sup class="SupItal">m</sup> − (<span style="font-family: 'Symbol'">s</span>/<i>r</i>)<sup class="SupItal">n</sup><span style="font-size: 16pt;">]</span>, where C is chosen such that <span style="font-family: 'Symbol'">e</span> is the well depth. <span style="font-family: 'Symbol'">s</span> is the value of <i>r</i> where the potential crosses the axis. You can use the same thermostats and barostats as for all-atom simulations.</li>
                            <li value="2"><span class="GUI">Repulsive harmonic</span>—Use a repulsive harmonic potential of the form <i>a</i> (<i>r</i>−<i>c</i>)<sup>2</sup> for <i>r</i> &lt;&#160;<i>c</i>, 0 for <i>r</i> &gt;&#160;<i>c</i>, where <i>c</i> is the cutoff distance. You should use a constant volume ensemble with a Langevin thermostat for the temperature for this type of potential.</li>
                        </ul>
                        <p>You cannot mix the two types of nonbonded interaction in the same simulation: you must choose one or the other for all particles in the simulation.</p>
                    </dd>
                    <dt><a name="feature5.2"></a><span class="GUI">Cutoff distance</span> text box</dt>
                    <dd>
                        <p>Cutoff distance, beyond which the potential is set to zero. This distance should be considered part of the force-field assignment, as it influences the parameters saved in the CMS file. These cutoffs should be used in all subsequent related simulations.</p>
                    </dd>
                    <dt><a name="feature5.3"></a><span class="GUI">Dielectric constant</span> text box</dt>
                    <dd>
                        <p>Dielectric constant for the system. If water is modeled as a sphere, for example, it has no dipole moment, so a dielectric constant is needed to model the interaction with the water.</p>
                    </dd>
                    <dt><a name="feature5.4"></a><span class="GUI">Allow 1-3 angle nonbonds</span> option</dt>
                    <dd>
                        <p>Specify whether 1-3 angle pairs should be handled by this nonbonded potential.</p>
                    </dd>
                    <dt><a name="feature5.5"></a>Parameter table</dt>
                    <dd>
                        <p>Specify the parameters in this table, which has rows for each particle pair. The table columns depends on the potential chosen. For Lennard-Jones potentials, the columns are:</p>
                        <table style="width: 100%;mc-table-style: url('../Resources/TableStyles/Formatting.css');" class="TableStyle-Formatting" cellspacing="0">
                            <col class="TableStyle-Formatting-Column-Column1" />
                            <col class="TableStyle-Formatting-Column-Column1" />
                            <tbody>
                                <tr>
                                    <td class="TableStyle-Formatting-BodyH-Column1-"><span class="GUI">Type</span>
                                    </td>
                                    <td class="TableStyle-Formatting-BodyG-Column1-">Nonbonded interaction type, represented as <i class="UserReplace">particle1</i>-<i class="UserReplace">particle2</i>. All types in the model are listed automatically.</td>
                                </tr>
                                <tr>
                                    <td class="TableStyle-Formatting-BodyH-Column1-"><span class="GUI">#&#160;Occurrences</span>
                                    </td>
                                    <td class="TableStyle-Formatting-BodyG-Column1-">Number of occurrences of this particle pair in the model structure.</td>
                                </tr>
                                <tr>
                                    <td class="TableStyle-Formatting-BodyH-Column1-"><span class="GUI">m&#160;exponent</span>, <span class="GUI">n&#160;exponent</span></td>
                                    <td class="TableStyle-Formatting-BodyG-Column1-">Exponents of <i>r</i> in the potential, where <i>r</i> is the interparticle distance.</td>
                                </tr>
                                <tr>
                                    <td class="TableStyle-Formatting-BodyH-Column1-"><span class="GUI"><span style="font-family: 'Symbol'">e</span>/(kcal/mol)</span>
                                    </td>
                                    <td class="TableStyle-Formatting-BodyG-Column1-">Depth of the potential well.</td>
                                </tr>
                                <tr>
                                    <td class="TableStyle-Formatting-BodyH-Column1-"><span class="GUI"><span style="font-family: 'Symbol'">s</span>/Å</span>
                                    </td>
                                    <td class="TableStyle-Formatting-BodyG-Column1-">Scaling parameter for the distance, distance where the potential crosses the axis. </td>
                                </tr>
                                <tr>
                                    <td class="TableStyle-Formatting-BodyB-Column1-"><span class="GUI">Save</span>
                                    </td>
                                    <td class="TableStyle-Formatting-BodyA-Column1-">Save the values for the parameter type  in the database. If the parameter type is already in the database, a prompt is displayed to overwrite the database values. The values are automatically loaded from the database for this parameter type once they are saved.</td>
                                </tr>
                            </tbody>
                        </table>
                        <p>For repulsive harmonic potentials, the columns are:</p>
                        <table style="width: 100%;mc-table-style: url('../Resources/TableStyles/Formatting.css');" class="TableStyle-Formatting" cellspacing="0">
                            <col class="TableStyle-Formatting-Column-Column1" />
                            <col class="TableStyle-Formatting-Column-Column1" />
                            <tbody>
                                <tr>
                                    <td class="TableStyle-Formatting-BodyH-Column1-"><span class="GUI">Type</span>
                                    </td>
                                    <td class="TableStyle-Formatting-BodyG-Column1-">Nonbonded interaction type, represented as <i class="UserReplace">particle1</i>-<i class="UserReplace">particle2</i>. All types in the model are listed automatically.</td>
                                </tr>
                                <tr>
                                    <td class="TableStyle-Formatting-BodyH-Column1-"><span class="GUI">#&#160;Occurrences</span>
                                    </td>
                                    <td class="TableStyle-Formatting-BodyG-Column1-">Number of occurrences of this particle pair in the model structure.</td>
                                </tr>
                                <tr>
                                    <td class="TableStyle-Formatting-BodyH-Column1-"><span class="GUI">a/(kcal/mol)/Å<sup>2</sup></span>
                                    </td>
                                    <td class="TableStyle-Formatting-BodyG-Column1-">Harmonic force constant for the bond.</td>
                                </tr>
                                <tr>
                                    <td class="TableStyle-Formatting-BodyB-Column1-"><span class="GUI">Save</span>
                                    </td>
                                    <td class="TableStyle-Formatting-BodyA-Column1-">Save the values for the parameter type  in the database. If the parameter type is already in the database, a prompt is displayed to overwrite the database values. The values are automatically loaded from the database for this parameter type once they are saved.</td>
                                </tr>
                            </tbody>
                        </table>
                    </dd>
                </dl>
            </dd>
            <dt><a name="feature6"></a><span class="GUI">Desmond input file to create</span> text box</dt>
            <dd>
                <p>Specify the name of the Desmond CMS&#160;file to create for the coarse-grained model with the force field. </p>
            </dd>
            <dt><a name="feature7"></a><span class="GUI">Reset</span> button</dt>
            <dd>
                <p>Clear the panel of all data and reset it to the defaults. </p>
            </dd>
            <dt><a name="feature8"></a><span class="GUI">Run</span> button</dt>
            <dd>
                <p>Run the job to create the Desmond CMS file. The resulting model system is incorporated into the project and displayed in the Workspace. You can then use it for MD simulations, for example with the Desmond panels or the <a href="md_multistage_workflow.html" class="MCXref xref">MD Multistage Workflow Panel</a>.</p>
            </dd>
        </dl>
        <h2><a name="links"></a>Related Topics</h2>
        <ul>
            <li value="1"><a href="coarse_grain_particulate.html" class="MCXref xref">Map Atoms to Particles Panel</a>
            </li>
            <li value="2"><a href="coarse_grain_new_bond_type.html" class="MCXref xref">Define New Coarse-Grained Particle Bond Type Dialog Box</a>
            </li>
        </ul>
    </body>
</html>