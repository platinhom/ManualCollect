<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="Documentation.xml" data-mc-path-to-help-system="../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="User Manuals|MacroModel User Manual|MacroModel General Settings|The MacroModel Constraints Tab">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>Constraining Atoms, Distances, Angles, and Torsions in MacroModel</title>
        <link href="../Resources/Stylesheets/docs.css" rel="stylesheet" />
        <script src="../Resources/Scripts/custom.modernizr.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/foundation.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body><a name="aanchor8726"></a>
        <MadCap:concept term="User Manuals" /><a name="aanchor8727"></a>
        <MadCap:concept term="MacroModel" /><a name="mm_general_settings_1121261204_738295"></a>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="mm_general_settings_constraints.htm">The MacroModel Constraints Tab</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="macromodel_user_manualTOC.htm">MacroModel User Manual</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="mm_general_settings_constraints_freezing.htm">Freezing Atoms in MacroModel</a> ▶</span>
                </td>
            </tr>
        </table>
        <h1 class="Title">Constraining Atoms, Distances, Angles, and Torsions in MacroModel</h1>
        <p>Individual atom positions, bond distances, bond angles, and torsion angles can all be constrained from the <span class="GUI">Constraints</span> tab. This tab has subtabs for each of the structural elements you can constrain, which you can use to pick the desired elements and define the relevant settings. The tools in the tabs for defining constrained atoms, distances, angles, and torsions are generally the same. Exceptions are noted below. </p>
        <p class="image">
            <img src="constraints_tab.png" style="margin: 2px;" />
        </p>
        <p><b>Specifying atoms to be constrained:</b> To constrain an atom, distance, angle, or torsion, display the appropriate tab: <span class="GUI">Atoms</span>, <span class="GUI">Distances</span>, <span class="GUI">Angles</span>, or <span class="GUI">Torsions.</span> Choose a structural unit from the <span class="GUI">Pick</span> menu and click on the desired atoms in the Workspace. The picked atoms appear in the list in the upper portion of the tab. </p>
        <p>To constrain many atoms simultaneously, you can use an ASL expression. ASL expressions can be built using the <span class="GUI">Atom Selection</span> dialog box, which you open by clicking the <span class="GUI">Atom Selection</span> button and choosing <span class="GUI">Select</span>. </p>
        <p class="image">
            <img src="../Resources/Images/Toolbuttons/asl_gizmo_square_plus.png" style="margin-left: 2px;margin-right: 2px;margin-top: 2px;margin-bottom: 2px;" />
        </p>
        <p>For more information on ASL, see <a href="../maestro_command_reference/ASL.html" class="MCXref xref">The Atom Specification Language</a>. </p>
        <p>If you want to constrain all of the distances, angles, or dihedrals, click the <span class="GUI">Add All</span> button at the bottom of the relevant tab. You can also use this approach to constrain most of these parameters, by constraining all of them and then deleting constraints for the parameters that you want to vary, by selecting them and clicking <span class="GUI">Delete</span>.</p>
        <p><b>Specifying the force constant and atom flexibility:</b> By default the constrained structural elements have harmonic potentials with a force constant of 100&#160;kJ/mol-Å<sup>2</sup> with the current value of the element used for the potential minimum. The force constant can be modified. To change a single value, edit the table cell. To change the value for multiple constraints, select the table rows, then edit one of the table cells and press <span class="Keys">Ctrl+Enter</span> (⌘<span class="Keys">Enter</span>). </p>
        <p>The value of the distance, angle, or torsion can also be set in the relevant table column. This allows you to force the parameter to a value other than its input value.</p>
        <p>For fixed distances, angles, and torsional angles, the position of the potential minimum can be adjusted. A flat-bottom potential, essentially a harmonic potential with the two halves separated by a region of zero potential, can be requested by specifying the half width for the flat region in the +/- column. </p>
        <p><b>Specifying a nondefault force constant and half width prior to selecting atoms:</b> If atom-centered constraints are being applied, constraint parameters can be set up beforehand with the Maestro command <code>constrainedset</code>. For example, to set the force constant to 50 and the width to 0.8, enter the following command in the <span class="GUI">Commands</span> text box of the main window:</p><pre>
constrainedset constant=50 width=0.8
</pre>
        <p>Constrained atoms that are subsequently selected use these constraint parameters.</p>
        <p><b>Removing constraints:</b> To remove one constraint, select it from the list at the top of the specific constraints panel and click <span class="GUI">Delete</span>. To remove all constraints of a particular type, click <span class="GUI">Delete All</span> in the corresponding constraints panel. To remove all constraints of all types, click <span class="GUI">Delete All</span> <span class="GUI">Constraints</span>.</p>
        <p><b>Reading and writing constraints:</b> To write out constraints to a substructure file, click <span class="GUI">Write .sbc File</span>, and enter the file name in the file selector that opens. To read in constraints that were defined previously, click <span class="GUI">Read .sbc File</span> and select the substructure file that contains the constraints. </p>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="mm_general_settings_constraints.htm">The MacroModel Constraints Tab</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="macromodel_user_manualTOC.htm">MacroModel User Manual</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="mm_general_settings_constraints_freezing.htm">Freezing Atoms in MacroModel</a> ▶</span>
                </td>
            </tr>
        </table>
    </body>
</html>