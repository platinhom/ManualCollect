<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="Documentation.xml" data-mc-path-to-help-system="../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="User Manuals|Desmond User Manual|Running Desmond Simulations from Maestro">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>Desmond Molecular Dynamics Simulations</title>
        <link href="../Resources/Stylesheets/docs.css" rel="stylesheet" />
        <script src="../Resources/Scripts/custom.modernizr.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/foundation.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body><a name="aanchor1821"></a>
        <MadCap:concept term="User Manuals" /><a name="aanchor1822"></a>
        <MadCap:concept term="Desmond" /><a name="desmond_panels_3537631757_743821"></a><a name="desmond_panels_3537631757_38463"></a>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="desmond_panels_minimization.htm">Desmond Minimizations</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="desmond_user_manualTOC.htm">Desmond User Manual</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="desmond_panels_simanneal.htm">Desmond Simulated Annealing Simulations</a> ▶</span>
                </td>
            </tr>
        </table>
        <h1 class="Title">Desmond Molecular Dynamics Simulations</h1>
        <p>Molecular dynamics jobs simulate the Newtonian dynamics of the model system, producing a trajectory of the particle coordinates, velocities, and energies, on which statistical analyses can be performed to derive properties of interest about the model system. The molecular dynamics task performs a single MD simulation under the chosen ensemble condition for a given model system, generating simulation data for post-simulation analyses.</p>
        <p>This task is set up in the <span class="GUI">Molecular Dynamics</span> panel, which you open by choosing <span class="GUI">Tasks → Classical Simulation → Molecular Dynamics : Molecular Dynamics</span> in the Task Tool.</p>
        <p class="image">
            <img src="molecular_dynamics.png" style="margin: 2px;" />
        </p>
        <p>The controls at the top of the <span class="GUI">Simulation</span> section allow you to specify the simulation time in ns and the recording interval in ps for the energy and for the trajectory.</p>
        <p>For the recording intervals you can enter a value in ps in the text boxes. The values are rounded to an integer multiple of the far time step size. This time step size is set in the <span class="GUI">Integration</span> tab of the <span class="GUI">Advanced Options</span> dialog box, in the <span class="GUI">RESPA integrator</span> section.</p>
        <p>The controls in the lower part of the <span class="GUI">Simulation</span> section allow you to choose the ensemble class, from <span class="GUI">NVE</span>, <span class="GUI">NVT</span>, <span class="GUI">NPT</span>, <span class="GUI">NPAT</span>, and <span class="GUI">NP</span><span class="Symbol">g</span><span class="GUI">T</span>, to set the temperature (except for NVE) and the pressure (except for NVE and NVT), and set the surface tension (NP<span class="Symbol">g</span>T only). It also allows you to relax the model system before performing the simulation, and choose the protocol for the relaxation. </p>
        <p>When <span class="GUI">Relax model system before simulation</span> is selected, a series of minimizations and short molecular dynamics simulations are performed to relax the model system before performing the simulation you set up. This option is selected by default, and a default protocol is used. Usually, if the model system was just created from the <span class="GUI">System Builder</span> panel, it needs to be relaxed; if the model system has been relaxed before, it does not need to be relaxed again. As an alternative you can run a minimization before the molecular dynamics calculation.</p>
        <p>The stages in the default relaxation process for the NPT ensemble are:</p>
        <table class="AutoNumber_p_Numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 32px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Numbered1" valign="top"><span>1.</span>
                </td>
                <td class="AutoNumber_p_Numbered1" valign="top" data-mc-autonum="1.">Simulate in the NVT ensemble with Brownian dynamics at 10 K with small time steps and solute non-hydrogen atoms restrained</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Numbered1_" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 32px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Numbered1" valign="top"><span>2.</span>
                </td>
                <td class="AutoNumber_p_Numbered1" valign="top" data-mc-autonum="2.">Simulate in the NVT ensemble using a Berendsen thermostat with:</td>
            </tr>
        </table>
        <ul class="ListCompact">
            <li value="1">a simulation time of 12ps
    </li>
            <li value="2">a temperature of 10K
    </li>
            <li value="3">a fast temperature relaxation constant
    </li>
            <li value="4">velocity resampling every 1ps
    </li>
            <li value="5">non-hydrogen solute atoms restrained
    </li>
        </ul>
        <table class="AutoNumber_p_Numbered1_" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 32px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Numbered1" valign="top"><span>3.</span>
                </td>
                <td class="AutoNumber_p_Numbered1" valign="top" data-mc-autonum="3.">Simulate in the NPT ensemble using a Berendsen thermostat and a Berendsen barostat with:</td>
            </tr>
        </table>
        <ul class="ListCompact">
            <li value="1">a simulation time of 12ps
    </li>
            <li value="2">a temperature of 10K and a pressure of 1 atm
    </li>
            <li value="3">a fast temperature relaxation constant
    </li>
            <li value="4">a slow pressure relaxation constant
    </li>
            <li value="5">velocity resampling every 1ps
    </li>
            <li value="6">non-hydrogen solute atoms restrained
    </li>
        </ul>
        <table class="AutoNumber_p_Numbered1_" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 32px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Numbered1" valign="top"><span>4.</span>
                </td>
                <td class="AutoNumber_p_Numbered1" valign="top" data-mc-autonum="4.">Run the <code>solvate_pocket</code> script as necessary. </td>
            </tr>
        </table>
        <table class="AutoNumber_p_Numbered1_" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 32px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Numbered1" valign="top"><span>5.</span>
                </td>
                <td class="AutoNumber_p_Numbered1" valign="top" data-mc-autonum="5.">Simulate in the NPT ensemble using a Berendsen thermostat and a Berendsen barostat with:</td>
            </tr>
        </table>
        <ul class="ListCompact">
            <li value="1">a simulation time of 12&#160;ps
    </li>
            <li value="2">a temperature of 300&#160;K and a pressure of 1 atm
    </li>
            <li value="3">a fast temperature relaxation constant
    </li>
            <li value="4">a slow pressure relaxation constant
    </li>
            <li value="5">velocity resampling every 1ps
    </li>
            <li value="6">non-hydrogen solute atoms restrained
    </li>
        </ul>
        <table class="AutoNumber_p_Numbered1_" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 32px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Numbered1" valign="top"><span>6.</span>
                </td>
                <td class="AutoNumber_p_Numbered1" valign="top" data-mc-autonum="6.">Simulate in the NPT ensemble using a Berendsen thermostat and a Berendsen barostat with:</td>
            </tr>
        </table>
        <ul class="ListCompact">
            <li value="1">a simulation time of 24ps
    </li>
            <li value="2">a temperature of 300K and a pressure of 1 atm
    </li>
            <li value="3">a fast temperature relaxation constant
    </li>
            <li value="4">a normal pressure relaxation constant
    </li>
        </ul>
        <p>This protocol is used for the NPAT and NP<span class="Symbol">g</span>T ensembles as well. A similar protocol is used for the NVT ensemble. </p>
        <p>The protocol files can be found in <code>$SCHRODINGER/mmshare-v</code><i class="UserReplace">version</i><code>/data/desmond</code>. The procedure follows a similar pattern as for NPT. If you are relaxing a protein in a membrane, we strongly recommend using the <code>desmond_membrane_relax.msj</code> protocol from that directory. This protocol can take a while to run, as it involves about 1.2 ns of simulation, and must be run on a CPU, not a GPU. For more information, see <a class="TopicLink MCXref xref xrefTopicLink" href="desmond_panels_membrane.htm#desmond_panels_3537631757_748756">Desmond Simulations on Systems with Membranes</a>. </p>
        <p>If you want to modify the protocol, you can copy these files and edit them. To make use of the modified protocol, click <span class="GUI">Browse</span> and navigate to the new protocol file, which has a <code>.msj</code> extension. The file name is then listed in the <span class="GUI">Relaxation protocol</span> text box.</p>
        <p>When the simulation finishes, the output structure file (<code>.cms</code>) is written to disk and incorporated into the Maestro project. In addition, a new trajectory directory is created, called <i class="UserReplace">jobname</i><code>_trj</code> by default. Checkpoint files are written during the simulation, but are not written during the relaxation process. </p>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="desmond_panels_minimization.htm">Desmond Minimizations</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="desmond_user_manualTOC.htm">Desmond User Manual</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="desmond_panels_simanneal.htm">Desmond Simulated Annealing Simulations</a> ▶</span>
                </td>
            </tr>
        </table>
    </body>
</html>