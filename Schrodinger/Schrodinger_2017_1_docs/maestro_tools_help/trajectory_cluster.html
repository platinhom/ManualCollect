<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="Documentation.xml" data-mc-path-to-help-system="../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Help|Maestro Tools Help">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/docs.css" rel="stylesheet" type="text/css" /><title>RMSD Based Clustering of Frames from Desmond Trajectory Panel</title>
        <script src="../Resources/Scripts/custom.modernizr.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/foundation.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body><a name="aanchor3013"></a>
        <MadCap:concept term="Help Topics" /><a name="aanchor3014"></a>
        <MadCap:concept term="Maestro" />
        <table class="navlink">
            <tr>
                <td class="navlink"><a class="navbutton" href="#using">Using</a>
                </td>
                <td class="navlink"><a class="navbutton" href="#features">Features</a>
                </td>
                <td class="navlink"><a class="navbutton" href="#links">Links</a>
                </td>
            </tr>
        </table>
        <h1 class="title">RMSD Based Clustering of Frames from Desmond Trajectory Panel</h1><a name="summary"></a>
        <p>Perform hierarchical clustering on structures from a Desmond trajectory based on the RMSD matrix of a specified set of atoms.</p>
        <h2><a name="using"></a>Using the RMSD Based Clustering of Frames from Desmond Trajectory Panel</h2>
        <p>The trajectory to analyze must be specified via either an output CMS file for a Desmond or a project entry that incorporated the results of such a simulation. The frames used to calculate the RMSD for the clustering are selected from the trajectory at a specified interval, and by default the frames are superimposed before calculating the RMSD. The RMSD matrix is then used in hierarchical agglomerative clustering, with a specified number of clusters or a cutoff on the distance between clusters to terminate the clustering. The results include a representative frame from each cluster.</p>
        <p>The following files are produced by the clustering job:</p>
        <table>
            <tbody>
                <tr>
                    <td style="vertical-align: top;padding-right: 20;"><i>basename_</i><code>_</code><i>i</i><code>.mae</code>
                    </td>
                    <td style="vertical-align: top;">
Structure file containing structures for each cluster <i>i</i>.
</td>
                </tr>
                <tr>
                    <td style="vertical-align: top;padding-right: 20;"><i>basename</i><code>.csv</code>
                    </td>
                    <td style="vertical-align: top;">
File containing the RMSD matrix. Default: <code>rmsd_cluster.csv</code></td>
                </tr>
                <tr>
                    <td style="vertical-align: top;padding-right: 20;"><i>basename</i><code>.clu</code>
                    </td>
                    <td style="vertical-align: top;">
File containing cluster information. Default: <code>rmsd_cluster.clu</code></td>
                </tr>
                <tr>
                    <td style="vertical-align: top;padding-right: 20;"><i>basename</i><code>.out</code>
                    </td>
                    <td style="vertical-align: top;">
File containing the details of clustering. Default: <code>rmsd_cluster.out</code></td>
                </tr>
                <tr>
                    <td style="vertical-align: top;padding-right: 20;"><i>basename</i><code>_representatives.mae</code>
                    </td>
                    <td style="vertical-align: top;">
Representatives containing the topmost frame from each cluster.
</td>
                </tr>
            </tbody>
        </table>
        <h2><a name="features"></a>RMSD Based Clustering of Frames from Desmond Trajectory Panel Features</h2>
        <ul>
            <li value="1"><a href="#structures"><span class="GUI">Use structures from</span> option menu</a>
            </li>
            <li value="2"><a href="#PTbutton"><span class="GUI">Open Project Table</span> button</a>
            </li>
            <li value="3"><a href="#filebrowse"><span class="GUI">File name</span> text box and <span class="GUI">Browse</span> button</a>
            </li>
            <li value="4"><a href="#feature1"><span class="GUI">RMSD Matrix</span> section</a> <ul> <li value="1"><a href="#feature1.1"><span class="GUI">Use ASL</span> buttons and text box</a></li><li value="2"><a href="#feature1.2"><span class="GUI">Keep solvent</span> option</a></li><li value="3"><a href="#feature1.3"><span class="GUI">Calculate RMSD in place</span> option</a></li><li value="4"><a href="#feature1.4"><span class="GUI">Frequency</span> text box</a></li><li value="5"><a href="#feature1.5"><span class="GUI">Multithreading</span> text boxes</a></li></ul></li>
            <li value="5"><a href="#feature2"><span class="GUI">Clustering</span> section</a> <ul> <li value="1"><a href="#feature2.1"><span class="GUI">Hierarchichal clustering linkage method</span> option menu</a></li><li value="2"><a href="#feature2.2"><span class="GUI">Use N as</span> text box and options</a></li></ul></li>
            <li value="6"><a href="#feature3"><span class="GUI"> Status</span> display area</a>
            </li>
            <li value="7"><a href="#job_toolbar">Job toolbar</a>
            </li>
            <li value="8"><a href="#status_bar">Status bar</a>
            </li>
        </ul>
        <dl>
            <dt><a name="structures"></a><span class="GUI"><span class="SnippetUseFromLabel">Use structures from</span></span> option menu</dt>
            <dd>
                <p>Choose the source of the structures for <span class="SnippetCurrentTask">the current task</span>. <span class="SnippetUseComment" data-mc-variable-override="Snippet.UseComment:The structure specified must be a Desmond CMS file or one that is imported into the project.,">The structure specified must be a Desmond CMS file or one that is imported into the project.</span></p>
                <ul>
                    <li value="1" data-mc-conditions="Snippet.PTn"><span class="GUI">Project Table (<i>n</i> selected entries)</span>—Use the entries that are currently selected in the Project Table. The number of entries selected is shown on the menu item.  An icon is displayed to the right which you can click to open the Project Table and select entries.</li>
                    <li value="2" data-mc-conditions="Snippet.File"><span class="GUI">File</span>—Use the structures from the specified file. When this option is selected, the <span class="GUI"><span class="SnippetFileBrowseLabel">File name</span></span> text box and <span class="GUI">Browse</span> button are displayed.  Click <span class="GUI">Browse</span> and navigate to the file you want to use. The file name is displayed in the text box when you click <span class="GUI">Open</span> in the file selector. You can also enter the file name in the text box.</li>
                </ul>
            </dd>
            <dt><a name="PTbutton"></a><span class="GUI">Open Project Table</span> button</dt>
            <dd>
                <p>Open the <span class="GUI">Project Table</span> panel, so you can select or include the entries for the source of the structures.
<br style="margin-bottom: 10px;" /><img src="../Resources/Images/Toolbuttons/projecttable.png" /><br style="margin-bottom: 10px;" /></p>
            </dd>
            <dt><a name="filebrowse"></a><span class="GUI"><span class="SnippetFileBrowseLabel">File name</span></span> text box and <span class="GUI">Browse</span> button</dt>
            <dd>
                <p>If you chose  from the <span class="GUI"><span class="SnippetUseFromLabel">Use structures from</span></span> option menu, enter the file name in this text box, or click <span class="GUI">Browse</span> and navigate to the file. The name of the file you selected is displayed in the text box. </p>
            </dd>
            <dt><a name="feature1"></a><span class="GUI">RMSD Matrix</span> section</dt>
            <dd>
                <p>Select the atoms to be used for the RMSD calculation and the frames that are clustered.</p>
                <dl>
                    <dt><a name="feature1.1"></a><span class="GUI">Use ASL</span> buttons and text box</dt>
                    <dd>
                        <p>Provide an ASL (Atom Selection Language) expression for the atoms to use in the clustering of the frames. Click <span class="GUI">Select</span> to open the <a href="../maestro_help/asd.html"><span class="GUI">Atom Selection</span> dialog box</a> to set up the ASL expression, or enter the expression in the text box. To clear the existing expression, click <span class="GUI">Clear</span>.</p>
                    </dd>
                    <dt><a name="feature1.2"></a><span class="GUI">Keep solvent</span> option</dt>
                    <dd>
                        <p>Select this option to include any solvent molecules in the RMSD calculation.</p>
                    </dd>
                    <dt><a name="feature1.3"></a><span class="GUI">Calculate RMSD in place</span> option</dt>
                    <dd>
                        <p>Calculate the RMSD without performing any superposition of each frame. By default, a superposition is performed to minimize the RMSD between the two frames for which the RMSD is calculated. This eliminates drift or orientation changes from the RMSD, so that the RMSD represents internal structural changes.</p>
                    </dd>
                    <dt><a name="feature1.4"></a><span class="GUI">Frequency</span> text box</dt>
                    <dd>
                        <p>Specify the interval at which a frame is selected for an RMSD calculation, in number of frames. The default is to calculate the RMSD for every 10th frame.</p>
                    </dd>
                    <dt><a name="feature1.5"></a><span class="GUI">Multithreading</span> text boxes</dt>
                    <dd>
                        <p>If you want to run the calculation on multiple threads to speed up throughput, use these text boxes to specify the number of frames to allocate to each thread, and the number of threads to use. The product of these two numbers does not have to equal the total number of frames: once a thread has finished with a set of frames, it starts calculations on the next set of frames, and so on until all frames are processed.</p>
                    </dd>
                </dl>
            </dd>
            <dt><a name="feature2"></a><span class="GUI">Clustering</span> section</dt>
            <dd>
                <p>Set options for determining how clusters are separated and how many clusters to report.</p>
                <dl>
                    <dt><a name="feature2.1"></a><span class="GUI">Hierarchichal clustering linkage method</span> option menu</dt>
                    <dd>
                        <p>Choose the linkage method for computing the distance between clusters.</p>
                        <ul>
                            <li value="1">
                                <p><span class="GUI">Complete</span>—The distance between clusters is the largest distance between any pair of objects (one object from each cluster). This option produces compact, spherical clusters.</p>
                            </li>
                            <li value="2">
                                <p><span class="GUI">Average</span>—The distance between clusters is the average distance between all pairs of objects in the two clusters.</p>
                            </li>
                            <li value="3">
                                <p><span class="GUI">Single</span>—The distance between clusters is the smallest distance between any pair of objects (one object from each cluster). This option produces diffuse, elongated clusters.</p>
                            </li>
                        </ul>
                    </dd><a name="feature2.2"></a>
                    <dt><span class="GUI">Use N as</span> text box and options</dt>
                    <dd>
                        <p>Choose the method for determining how many clusters are reported, and enter the appropriate value in the text box.</p>
                        <ul>
                            <li value="1">
                                <p><span class="GUI">Number of clusters</span>—the number of clusters for which the output is written is given by the value in the text box.</p>
                            </li>
                            <li value="2">
                                <p><span class="GUI">Merging distance cutoff</span>—the value in the text box is the number of clusters that is formed at or below the merging distance specified in the text box. The merging distance is the distance at which two clusters are merged into a single cluster, so the cutoff gives the minimum distance between clusters.</p>
                            </li>
                        </ul>
                    </dd>
                </dl>
            </dd>
            <dt><a name="feature3"></a><span class="GUI"> Status</span> display area</dt>
            <dd>
                <p>Displays status information on the clustering process.</p>
            </dd>
            <dt><a name="job_toolbar"></a>Job toolbar</dt>
            <dd>
                <p>Manage job submission. See <a href="../maestro_help/job_toolbar.html">Job Toolbar</a> for a description of this toolbar.</p>
            </dd>
            <dt><a name="status_bar"></a>Status bar</dt>
            <dd>
                <p>The status bar displays information about the current job settings for the panel. This includes the job name, task name and task settings (if any), number of subjobs (if any) and the host name and job incorporation setting. It also displays a message for a short time when you start a new job.</p>
                <p>The status bar also contains the <span class="GUI">Help</span> button, which opens the help topic for the panel.</p>
                <p>
                    <img src="../Resources/Images/Toolbuttons/help.png" />
                </p>
            </dd>
        </dl>
        <h2><a name="links"></a>Related Topics</h2>
        <ul>
            <li value="1"><a href="../maestro_projects_help/trajectory_player.html" class="MCXref xref" xrefformat="{paratext}">Trajectory Panel</a>
            </li>
        </ul>
    </body>
</html>