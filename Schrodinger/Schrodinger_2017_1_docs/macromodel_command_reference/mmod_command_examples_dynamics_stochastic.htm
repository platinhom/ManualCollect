<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="Documentation.xml" data-mc-path-to-help-system="../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Command References|MacroModel Command Reference|MacroModel Command File Examples|Command File Examples for MacroModel Dynamics Calculations">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>MacroModel Example: Stochastic Dynamics</title>
        <link href="../Resources/Stylesheets/docs.css" rel="stylesheet" />
        <script src="../Resources/Scripts/custom.modernizr.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/foundation.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body><a name="aanchor4845"></a>
        <MadCap:concept term="Command Reference" /><a name="aanchor4846"></a>
        <MadCap:concept term="MacroModel" /><a name="mmod_command_examples_1066535316_746115"></a>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="mmod_command_examples_dynamics.htm" xrefformat="{paratext}">Command File Examples for MacroModel Dynamics Calculations</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="macromodel_command_referenceTOC.htm" xrefformat="{paratext}">MacroModel Command Reference Manual</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="mmod_command_examples_dynamics_annealing.htm" xrefformat="{paratext}">
            MacroModel Example: Simulated Annealing</a> ▶</span>
                </td>
            </tr>
        </table>
        <h1 class="Title">MacroModel Example: Stochastic Dynamics</h1>
        <p>Below is an example of the command file for a stochastic dynamics simulation and explanations of the opcodes that appear in the file.</p><pre>
sdyn.mae
sdyn-out.mae
 MMOD       0      1      0      0     0.0000     0.0000     0.0000     0.0000
 FFLD      10      1      0      1     1.0000     0.0000     0.0000     0.0000
 BDCO       0      0      0      0    41.5692 99999.0000     0.0000     0.0000
 READ       0      0      0      0     0.0000     0.0000     0.0000     0.0000
 CONV       2      0      0      0     0.0500     0.0000     0.0000     0.0000
 MINI       9      0    500      0     0.0000     0.0000     0.0000     0.0000
 MDIT       0      0      0      0   300.0000     0.0000     0.0000     0.0000
 MDYN       0      1      1      0     1.5000     1.0000   300.0000     0.0000
 MDSA      10      0      0      0     0.0000     0.0000     1.0000     0.0000
 MDDA      14     15     16     17     0.0000     0.0000     0.0000     0.0000
 MDYN       1      1      1      0     1.5000    10.0000   300.0000     0.0000
 WRIT       0      0      0      0     0.0000     0.0000     0.0000     0.0000
</pre>
        <p><span class="CodeLink"><a href="opcodes_file.htm#opcodes_509685220_mmod">MMOD</a></span>: Creates and updates an intermediate structure file so that structures can be displayed in Maestro as the job progresses.</p>
        <p><span class="CodeLink"><a href="opcodes_ffld.htm#opcodes_509685220_ffld">FFLD</a></span>: Force field selection. Arg1 denotes the actual force field used in the calculation (in this case MMFF94). Arg2 defines the electrostatic treatment for the calculation. The default (arg=0) is to use the dielectric treatment encoded in the force field, however, in this case a constant dielectric is used. Arg4 is MMFF94-specific. Arg4=1 defines the MMFF94s version of the force field, ensuring planarity around delocalized <i>sp</i><sup>2</sup> nitrogens.</p>
        <p><span class="CodeLink"><a href="opcodes_ffld.htm#opcodes_509685220_bdco">BDCO</a></span>: Use the Bond Dipole CutOff (BDCO) method for truncating electrostatic interactions. Arg5 and arg6 are used to specify the cutoffs used for charge-dipole and charge-charge interactions, respectively.</p>
        <p><span class="CodeLink"><a href="opcodes_file.htm#opcodes_509685220_read">READ</a></span>: Read the input file.</p>
        <p><span class="CodeLink"><a href="opcodes_minimization.htm#opcodes_509685220_conv">CONV</a></span>: Defines convergence criteria. Arg1=2 signifies derivative convergence (default, if no <code>CONV</code> command is present, criterion is 0.05&#160;kJ/mol-Å; this value is set in arg5).</p>
        <p><span class="CodeLink"><a href="opcodes_minimization.htm#opcodes_509685220_mini">MINI</a></span>: An energy minimization precedes the dynamics calculation in order to eliminate excess potential energy. Arg1=9 indicates that the TNCG minimization method should be used for arg3 minization iterations.</p>
        <p><span class="CodeLink"><a href="opcodes_mdmc.htm#opcodes_509685220_mdit">MDIT</a></span>: Apply random initial velocities corresponding to 300K (arg5) to all atoms.</p>
        <p><span class="CodeLink"><a href="opcodes_mdmc.htm#opcodes_509685220_mdyn">MDYN</a></span>:<code>  <![CDATA[ ]]></code>Perform the dynamics simulation. Arg2=1 selects the use of the SHAKE protocol to constrain hydrogen bonds to their natural values. Arg3=1 sets up a stochastic dynamics run. The time step (in fs) is set in arg5, the length of the simulation (in ps) in arg6, and the temperature (in K) of the simulation in arg7. </p>
        <p>Two <code>MDYN</code> command lines appear in this command file. The first performs a short equilibration run, while the second is where the actual sampling occurs. Arg1 defines printing of energy listing. In the first <code>MDYN</code> line, arg1=0, meaning that a summary of the energies is printed to the log file only. In the second <code>MDYN</code> line, arg1=1, signifying that energies as well as monitoring results are written to the <code>.mmo</code> file.</p>
        <p><span class="CodeLink"><a href="opcodes_mdmc.htm#opcodes_509685220_mdsa">MDSA</a></span>: Perform structure sampling during the stochastic dynamics simulation. Intermediate structures generated in the dynamics simulation are saved to the output structure file at regular intervals during the calculation. Arg1 defines the total number of structures to sample (number of “snapshots” to take) during the simulation. Structures can also be written out based on time-intervals (in ps) using arg5. Arg7=1 forces deletion of all structures stored in the <code>-out.mae</code> file prior to each simulation.</p>
        <p><span class="CodeLink"><a href="opcodes_mdmc.htm#opcodes_509685220_mdda">MDDA</a></span>: Monitor a dihedral angle during the simulation. Arg1-arg4 defines the atom numbers of the angle to be monitored. The default arg5 divides the reported results into 10-degree increments. Average values are reported in the <code>.log</code> file while more detailed information (including the distribution of angles) is reported in the <code>.mmo</code> file.</p>
        <p><span class="CodeLink"><a href="opcodes_file.htm#opcodes_509685220_writ">WRIT</a></span>: Write the final structure to the output file.</p>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="mmod_command_examples_dynamics.htm" xrefformat="{paratext}">Command File Examples for MacroModel Dynamics Calculations</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="macromodel_command_referenceTOC.htm" xrefformat="{paratext}">MacroModel Command Reference Manual</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="mmod_command_examples_dynamics_annealing.htm" xrefformat="{paratext}">
            MacroModel Example: Simulated Annealing</a> ▶</span>
                </td>
            </tr>
        </table>
    </body>
</html>