<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="Documentation.xml" data-mc-path-to-help-system="../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Help|Desmond Help">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/docs.css" rel="stylesheet" type="text/css" /><title>Replica Exchange Panel</title>
        <script src="../Resources/Scripts/custom.modernizr.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/foundation.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body><a name="aanchor7454"></a>
        <MadCap:concept term="Help Topics" /><a name="aanchor7455"></a>
        <MadCap:concept term="Desmond" />
        <table class="navlink">
            <tr>
                <td class="navlink"><a class="navbutton" href="#using">Using</a>
                </td>
                <td class="navlink"><a class="navbutton" href="#features">Features</a>
                </td>
                <td class="navlink"><a class="navbutton" href="#links">Links</a>
                </td>
            </tr>
        </table>
        <h1 class="title">Replica Exchange Panel</h1><a name="summary"></a>
        <p>This panel allows you to set up and run Desmond temperature replica exchange simulations.</p>
        <p class="opening">To open this panel, choose <span class="GUI">Tasks → Classical Simulation → Molecular Dynamics → Replica Exchange</span> in the Task Tool.</p>
        <h2><a name="using"></a>Using the Replica Exchange Panel</h2>
        <p>Replica exchange is an important simulation method that is used to overcome the common quasi-ergodicity problem in sampling. In replica exchange simulations, the original chemical system is replicated into N copies, and in the simulation each copy or replica is independently propagated with a slightly different Hamiltonian. Often, the Hamiltonians differ from each other only in the reference temperature, known as <i>temperature replica exchange</i>. During the simulation, the replicas attempt periodically to exchange the configuration of the system with each other. The exchange acceptance ratio satisfies the detailed balance or balance condition so that each replica remains in equilibrium after the exchange.</p>
        <p>The replica exchange simulation produces one trajectory for each replica, labeled <i>jobname</i><code>_replica</code><i>num</i><code>_trj</code>, where <i>num</i> is the index of the replica, starting from 0.</p>
        <p>When the calculation finishes, you can review the results in the <span class="GUI">Replica Exchange Review</span> panel, which you can open with <span class="GUI">Tasks → Classical Simulation → Molecular Dynamics → Replica Exchange</span>.</p>
        <h2><a name="features"></a>Replica Exchange Panel Features</h2>
        <ul>
            <li value="1"><a href="#model_system"><span class="GUI">Model system</span> section</a>
            </li>
            <li value="2"><a href="#simulation"><span class="GUI">Simulation</span> section</a>
            </li>
            <li value="3"><a href="#job_toolbar">Job toolbar</a>
            </li>
            <li value="4"><a href="#status_bar">Status bar</a>
            </li>
        </ul>
        <h3><a name="model_system"></a>Model system section</h3>
        <p>In this section, you select the model system that you will use for the simulation. A valid model system must contain both the coordinates of the particles and the force field parameters. A file of a valid model system normally has the <code>.cms</code> extension. You can use the <a href="system_builder.html"><span class="GUI">System Builder</span> panel</a> to prepare the model system for any structure that you have. If you want to build an amorphous structure from scratch, you can use the <a href="../materials_help/disordered_system_builder.html"><span class="GUI">Disordered System Builder</span> panel</a> to create a model system.</p>
        <p>The option menu offers two choices for the source of the model system:</p>
        <ul>
            <li value="1">
                <p><span class="GUI">Load from Workspace</span>—Load the model system from the Workspace. When you choose this option, the <span class="GUI">Load</span> button is displayed to the right of the menu. Click this button to load the model system.</p>
            </li>
            <li value="2">
                <p><span class="GUI">Import from file</span>—Import the model system from a file. When you choose this option, a text box and <span class="GUI">Browse</span> button are displayed to the right of the menu. You can enter the name of the file in the text box, or click <span class="GUI">Browse</span> and navigate to the file.</p>
                <p data-mc-conditions="Snippet.desmond_cpt">You can choose to import a model system file (<code>.cms</code>) or a checkpoint file (<code>.cpt</code>).</p>
                <p data-mc-conditions="Snippet.desmond_cpt">If you import a model system file, it  must contain a model system that has already been prepared. When the file is imported, a message about the system is displayed below the option menu.</p>
                <p data-mc-conditions="Snippet.desmond_cpt">If you import a checkpoint file, most of the panel controls are unavailable. The purpose of the checkpoint file is to restart an interrupted simulation, so the parameters of the simulation cannot be altered. You can change the total simulation time, and then start the job.</p>
            </li>
        </ul>
        <h3><a name="simulation"></a>Simulation section</h3>
        <p>In this section you set up the parameters of the simulation.</p>
        <ul>
            <li value="1"><a href="#feature2.1"><span class="GUI">Number of replicas</span> text box</a>
            </li>
            <li value="2"><a href="#feature2.2"><span class="GUI">Exchange scheme</span> options</a>
            </li>
            <li value="3"><a href="#feature2.3"><span class="GUI">Exchange attempt</span> text boxes</a>
            </li>
            <li value="4"><a href="#feature2.4"><span class="GUI">Temperature range</span> text boxes</a>
            </li>
            <li value="5"><a href="#feature2.5"><span class="GUI">Temperature profile</span> options</a>
            </li>
            <li value="6"><a href="#feature2.6">Replica table</a>
            </li>
            <li value="7"><a href="#feature2.7"><span class="GUI">Simulation time</span> text boxes</a>
            </li>
            <li value="8"><a href="#feature2.8"><span class="GUI">Recording interval</span> text boxes</a>
            </li>
            <li value="9"><a href="#feature2.9"><span class="GUI">Ensemble class</span> option menu</a>
            </li>
            <li value="10"><a href="#feature2.10"><span class="GUI">Pressure</span> text box</a>
            </li>
            <li value="11"><a href="#feature2.14"><span class="GUI">Surface tension</span> text box</a>
            </li>
            <li value="12"><a href="#feature2.11"><span class="GUI">Relax model system before simulation</span> option</a>
            </li>
            <li value="13"><a href="#feature2.12"><span class="GUI">Relaxation protocol</span> text box and Browse button</a>
            </li>
            <li value="14"><a href="#feature2.13"><span class="GUI">Advanced options</span> button</a>
            </li>
        </ul>
        <dl>
            <dt><a name="feature2.1"></a><span class="GUI">Number of replicas</span> text box</dt>
            <dd>
                <p>Specify the number of replicas to use. The default is 8. Each replica is simulated at a different temperature.</p>
            </dd>
            <dt><a name="feature2.2"></a><span class="GUI">Exchange scheme</span> options</dt>
            <dd>
                <p>Select the exchange scheme to use. The two options are:</p>
                <ul>
                    <li value="1"><span class="GUI">nearest neighbor</span>—allow exchange only between replicas that are adjacent in temperature.</li>
                    <li value="2"><span class="GUI">random</span>—allow exchange between randomly chosen replicas.</li>
                </ul>
            </dd>
            <dt><a name="feature2.3"></a><span class="GUI">Exchange attempt</span> text boxes</dt>
            <dd>
                <p>Set the starting time and the interval for making exchanges, in ps. The first exchange occurs at the specified starting time and thereafter at the specified interval.</p>
            </dd>
            <dt><a name="feature2.4"></a><span class="GUI">Temperature range</span> text boxes</dt>
            <dd>
                <p>Specify the range of temperatures to be used. The defaults are 300&#160;K for the low temperature and 800&#160;K for the high temperature.</p>
            </dd>
            <dt><a name="feature2.5"></a><span class="GUI">Temperature profile</span> options</dt>
            <dd>
                <p>Specify the temperature profile for the replicas. The options are:</p>
                <ul>
                    <li value="1"><span class="GUI">quadratic</span>—Set the temperatures by quadratic interpolation between the minimum and maximum, with the high temperature at the maximum of the quadratic curve.</li>
                    <li value="2"><span class="GUI">linear</span>—Set the temperatures by linear interpolation between the maximum and minimum.</li>
                    <li value="3"><span class="GUI">manual</span>—Set the temperatures manually, by editing the temperatures in the replica table. When you select this option the table becomes editable.</li>
                </ul>
            </dd>
            <dt><a name="feature2.6"></a>Replica table</dt>
            <dd>
                <p>This table displays the temperatures for each replica. You can edit the temperatures by selecting <span class="GUI">manual</span> for the temperature profile.</p>
            </dd>
            <dt><a name="feature2.7"></a><span class="GUI">Simulation time</span> text boxes</dt>
            <dd>
                <p>Specify the total time of the simulation, in ns, in the <span class="GUI">total</span> text box. The <span class="GUI">elapsed</span> text box displays the amount of time the simulation has already run, if you are restarting a simulation. For new simulations it should contain zero. This text box cannot be edited.</p>
            </dd>
            <dt><a name="feature2.8"></a><span class="GUI">Recording interval</span> text boxes</dt>
            <dd>
                <p>Specify the recording interval for the energy and the trajectory. Enter a value in ps in the text box. Values entered in this text box are rounded to an integer multiple of the far time step size. By default, the far time step size is 0.006&#160;ps. This time step size is set in the <a href="advanced_options_db.html"><span class="GUI">Integration</span> tab of the <span class="GUI">Advanced Options</span> dialog box</a>, in the <span class="GUI">RESPA integrator</span> section.</p>
            </dd>
            <dt><a name="feature2.9"></a><span class="GUI">Ensemble class</span> option menu</dt>
            <dd>
                <p>Choose the ensemble class from this option menu. Four classes are available: NVT, NPT, NPAT, and NPγT. The default class is NVT.</p>
            </dd>
            <dt><a name="feature2.10"></a><span class="GUI">Pressure</span> text box</dt>
            <dd>
                <p>Specify the pressure to be used. Not available for the NVT ensemble class.</p>
            </dd>
            <dt><a name="feature2.14"></a><span class="GUI">Surface tension</span> text box</dt>
            <dd>
                <p>Specify the surface tension to be used. Only available for the NPγT ensemble class.</p>
            </dd>
            <dt><a name="feature2.11"></a><span class="GUI">Relax model system before simulation</span> option</dt>
            <dd>
                <p>When selected, a series of minimizations and short molecular dynamics simulations are performed to relax the model system before performing the simulation you set up. The relaxation procedure follows a default protocol. Normally, this option is needed only for model systems that have just been prepared with the <span class="GUI">System Builder</span> panel and have not been relaxed.</p>
            </dd>
            <dt><a name="feature2.12"></a><span class="GUI">Relaxation protocol</span> text box and Browse button</dt>
            <dd>
                <p>Specify the protocol for the relaxation. The protocol is defined in an <code>.msj</code> file, which you can open by clicking <span class="GUI">Browse</span> and navigating to the file. The default protocol is described in the <i>Desmond User Manual</i>.</p>
            </dd>
            <dt><a name="feature2.13"></a><span class="GUI">Advanced options</span> button</dt>
            <dd>
                <p>Opens the <a href="advanced_options_db.html"><span class="GUI">Advanced Options</span> dialog box</a>, in which you can control many more of the detailed settings for the simulation than are available in the <span class="GUI">Desmond</span> panel.</p>
            </dd>
        </dl>
        <h3><a name="job_toolbar"></a>Job toolbar</h3>
        <p>Manage job submission. See <a href="../maestro_help/job_toolbar.html">Job Toolbar</a> for a description of this toolbar.</p>
        <h3><a name="status_bar"></a>Status bar</h3>
        <p>The status bar displays information about the current job settings for the panel. This includes the job name, task name and task settings (if any), number of subjobs (if any) and the host name and job incorporation setting. It also displays a message for a short time when you start a new job.</p>
        <p>The status bar also contains the <span class="GUI">Help</span> button, which opens the help topic for the panel.</p>
        <p>
            <img src="../Resources/Images/Toolbuttons/help.png" />
        </p>
        <h2><a name="links"></a>Related Topics</h2>
        <ul>
            <li value="1"><a href="advanced_options_db.html" class="MCXref xref" xrefformat="{paratext}">Desmond — Advanced Options Dialog Box</a>
            </li>
        </ul>
    </body>
</html>