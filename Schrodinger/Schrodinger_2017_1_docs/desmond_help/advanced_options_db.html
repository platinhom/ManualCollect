<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="Documentation.xml" data-mc-path-to-help-system="../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Help|Desmond Help">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/docs.css" rel="stylesheet" type="text/css" /><title>Desmond — Advanced Options Dialog Box</title>
        <script src="../Resources/Scripts/custom.modernizr.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/foundation.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body><a name="aanchor1934"></a>
        <MadCap:concept term="Help Topics" /><a name="aanchor1935"></a>
        <MadCap:concept term="Desmond" />
        <table class="navlink">
            <tr>
                <td class="navlink"><a class="navbutton" href="#features">Features</a>
                </td>
                <td class="navlink"><a class="navbutton" href="#links">Links</a>
                </td>
            </tr>
        </table>
        <h1 class="title">Desmond — Advanced Options Dialog Box</h1><a name="summary"></a>
        <p>This dialog box provides access to advanced options for control of the simulation or the minimization, such as the frequency of data output, integration time step sizes, thermostat and barostat parameters, restraints, cutoff radii, and so on. The dialog box title includes the name of the parent panel, e.g. <span class="GUI">Metadynamics - Advanced Options</span>.</p>
        <p>The settings in this dialog box and the settings in the <span class="GUI">Desmond</span> panel are not entirely independent, and can affect each other. For example, changing the far time step can affect the values of the recording periods in the panel, because the latter are automatically rounded by the far time step. As another example, changing the temperature or pressure in the <span class="GUI">Desmond</span> panel updates the temperature or pressure parameters in the dialog box. Changes in the <span class="GUI">Desmond</span> panel take effect immediately and update parameters in the dialog box, whereas changes made in the dialog box only take effect when you click <span class="GUI">OK</span> or <span class="GUI">Apply</span>.</p>
        <h2><a name="features"></a>Advanced Options Dialog Box Features</h2>
        <ul>
            <li value="1"><a href="#integration"><span class="GUI">Integration</span> tab</a>
            </li>
            <li value="2"><a href="#ensemble"><span class="GUI">Ensemble</span> tab</a>
            </li>
            <li value="3"><a href="#minimization"><span class="GUI">Minimization</span> tab</a>
            </li>
            <li value="4"><a href="#interaction"><span class="GUI">Interaction</span> tab</a>
            </li>
            <li value="5"><a href="#restraints"><span class="GUI">Restraints</span> tab</a>
            </li>
            <li value="6"><a href="#output"><span class="GUI">Output</span> tab</a>
            </li>
            <li value="7"><a href="#misc"><span class="GUI">Misc</span> tab</a>
            </li>
            <li value="8"><a href="#feature8"><span class="GUI">Reset</span> button</a>
            </li>
        </ul>
        <h3><a name="integration"></a>Integration tab</h3>
        <p>Set parameters for the integration algorithm. This tab has one section:</p>
        <dl>
            <dt><span class="GUI">RESPA integrator</span> section</dt>
            <dd>
                <p>Specify the time steps in fs for bonded, near, and far, by entering values in the text boxes, or using the arrow buttons to change the value in increments of the bonded time step. Because the bonded, near, and far time steps must maintain a certain ratio, when a new value is set for the bonded time step, the other two time steps are automatically updated according the current ratio. Changing the near or far time steps adjusts this ratio.</p>
                <p>Selecting <span class="GUI">Set time step automatically based on constraint setting</span> couples the RESPA time step settings with those in the <span class="GUI">Constraint</span> section. The time steps will be automatically set based on the settings in the <span class="GUI">Constraint</span> section, and are not available for editing.</p>
            </dd>
        </dl>
        <h3><a name="ensemble"></a>Ensemble tab</h3>
        <p>In this tab you can set the thermostat method and the barostat method and make settings for these methods. There are two sections:</p>
        <dl>
            <dt><span class="GUI">Thermostat method</span> section</dt>
            <dd>
                <p>Select the thermostat method from the option menu, from <span class="GUI">Nose-Hoover</span>, <span class="GUI">Berendsen</span>, <span class="GUI">Langevin</span>, or <span class="GUI">None</span>. The thermostat method and the barostat method are coupled: the choice you make from the <span class="GUI">Thermostat method</span> option menu changes the selection from the <span class="GUI">Barostat method</span> option menu. The exception is that you can choose  <span class="GUI">None</span> for the barostat method for any of the thermostat methods.</p>
                <dl>
                    <dt>Number of groups text box</dt>
                    <dd>
                        <p>Enter the number of thermostat groups in this text box. This value determines the number of columns in the table below. Up to 8 thermostat groups are supported by Desmond, but it is recommended to use only one thermostat group.</p>
                    </dd>
                    <dt>Thermostat group settings table</dt>
                    <dd>
                        <p>This table provides text boxes for making settings for each thermostat group. The settings that can be made are:</p>
                        <ul>
                            <li value="1">Temperature (K)</li>
                            <li value="2">Relaxation time (ps)</li>
                        </ul>
                    </dd>
                </dl>
            </dd>
            <dt><span class="GUI">Barostat method</span> section</dt>
            <dd>
                <p>Select the barostat method from the option menu, from <span class="GUI">Martyna-Tobias-Klein</span>, <span class="GUI">Berendsen</span>, or <span class="GUI">None</span>. The thermostat method and the barostat method are coupled: the choice you make from the <span class="GUI">Barostat method</span> option menu changes the selection from the <span class="GUI">Thermostat method</span> option menu. The exception is that you can choose <span class="GUI">None</span> for the barostat method for any of the thermostat methods.</p>
                <p>The controls for the barostat method are:</p>
                <dl>
                    <dt>Relaxation time text box</dt>
                    <dd>
                        <p>Enter the relaxation time in ps in this text box.</p>
                    </dd>
                    <dt>Coupling style option menu</dt>
                    <dd>
                        <p>Choose the coupling style from this option menu, from <span class="GUI">Isotropic</span>, <span class="GUI">Semi-isotropic</span>, <span class="GUI">Anisotropic</span>, and <span class="GUI">Constant area</span>.</p>
                    </dd>
                </dl>
            </dd>
        </dl>
        <h3><a name="minimization"></a>Minimization tab</h3>
        <p>In this tab you can set parameters for the minimization, and also specify the output file. Minimization is performed with the LBFGS method, with an initial steepest descent phase.</p>
        <dl>
            <dt><span class="GUI">Minimizer</span> section</dt>
            <dd>
                <p>This section provides controls for the minimizer.</p>
                <dl>
                    <dt><span class="GUI">LBFGS vectors</span> text box</dt>
                    <dd>
                        <p>Specify the number of history vectors used by the LBFGS minimizer for the update of the Hessian. The maximum is 6.</p>
                    </dd>
                    <dt><span class="GUI">Minimum SD steps</span> text box</dt>
                    <dd>
                        <p>Specify the minimum number of steepest descent steps to be used before switching to the LBFGS minimizer.</p>
                    </dd>
                </dl>
            </dd>
            <dt>Output section</dt>
            <dd>
                <p>In this section you can specify the name of the structure output file. You can use <code>$JOBNAME</code> as a variable representing the job name that you will set when you start the job or write out the input files.</p>
            </dd>
        </dl>
        <h3><a name="interaction"></a>Interaction tab</h3>
        <p>In this tab you can specify how the short-range Coulombic interactions are handled.</p>
        <dl>
            <dt><span class="GUI">Short range method</span> option menu</dt>
            <dd>
                <p>Choose the method for defining the short-range region from this option menu, from <span class="GUI">Cutoff</span>, <span class="GUI">Force tapering</span>, or <span class="GUI">Potential tapering</span>. The controls below this menu depend on the method chosen.</p>
            </dd>
            <dt><span class="GUI">Cutoff radius</span> text box</dt>
            <dd>
                <p>Specify the cutoff radius for the <span class="GUI">Cutoff</span> method.</p>
            </dd>
            <dt><span class="GUI">Tapering range</span> text boxes</dt>
            <dd>
                <p>Specify the range in angstroms over which the force or the potential is tapered off in the two text boxes.</p>
            </dd>
        </dl>
        <h3><a name="restraints"></a>Restraints tab</h3>
        <p>In this tab you can specify restraints on atom positions. To define a restraint, you must specify the force constant for the restraint and provide an ASL expression for the atoms that are to be restrained.</p>
        <dl>
            <dt>Restraints table</dt>
            <dd>
                <p>Lists the restraints. You must enter the force constant for the restraint in the <span class="GUI">Force Constant</span> column. The <span class="GUI">Atoms</span> column is filled in automatically when you click <span class="GUI">Select</span> and use the <span class="GUI">Atom Selection</span> dialog box to specify the atoms.</p>
            </dd>
            <dt><span class="GUI">Select</span> button</dt>
            <dd>
                <p>Opens the <a href="../maestro_help/asd.html"><span class="GUI">Atom Selection</span> dialog box</a> to specify the atoms for the selected restraint. Only available if a single row is selected in the table.</p>
            </dd>
            <dt><span class="GUI">Add</span> button</dt>
            <dd>
                <p>Adds a restraint on a set of atoms. Clicking this button adds a row to the restraints table.</p>
            </dd>
            <dt><span class="GUI">Delete</span> button</dt>
            <dd>
                <p>Deletes the selected restraints.</p>
            </dd>
            <dt><span class="GUI">Reset</span> button</dt>
            <dd>
                <p>Resets the table to its default state.</p>
            </dd>
        </dl>
        <h3><a name="output"></a>Output tab</h3>
        <p>In this tab you can set names for various output files and directories, and set the times for which recording in these files begins and the update frequency. The default names include the variable <code>$JOBNAME</code>, which is set to the job name specified in the <span class="GUI">Job Settings</span> dialog box. For replica exchange calculations the default names also include the variable <code>$REPLICA</code>, which indexes the replicas starting from 0. You should not remove the <code>$REPLICA</code> variable, as it is used to store results for each replica separately.</p>
        <p>For each file or directory there is a <span class="GUI">starting time</span> text box, in which you can enter the starting time for recording of information to this file or adjust the starting time in increments of 50 times the far time step (except for the checkpoint file, where the increment is 5000 times the far time step). Some files also have a <span class="GUI">period</span> text box, in which you can enter or adjust the recording period (in the same increments as the starting time). The files or directories are listed below, with any extra controls. The periods for the energy sequence file and for the trajectory can be set in the <span class="GUI">Desmond</span> panel and thus are omitted from the <span class="GUI">Output</span> tab.</p>
        <dl>
            <dt>Energy sequence file</dt>
            <dd>
                <p>This file contains a sequence of various energies of the system.</p>
            </dd>
            <dt>Trajectory directory</dt>
            <dd>
                <p>This directory is used by Desmond to periodically write out files to record coordinates and velocities (optional) of all particles in the system at a particular point in the simulation. You can provide a title for the trajectory, and you can select <span class="GUI">Record velocities</span> if you want the velocities to be recorded along with the coordinates. To ensure that associated solutes appear together rather than on opposite sides of the simulation box, you can select <span class="GUI">Glue close solute molecules together</span>. This option only affects the way the trajectory is displayed.</p>
            </dd>
            <dt>Checkpoint file</dt>
            <dd>
                <p>This file contains information that can be used to restart an interrupted simulation.</p>
            </dd>
        </dl>
        <h3><a name="misc"></a>Misc tab</h3>
        <p>This tab provides access to various options that do not fit into the other categories. In this tab you can specify when and how the velocities are randomized, and specify atom groups for special treatment in the simulation.</p>
        <dl>
            <dt><span class="GUI">Randomize velocities</span> section</dt>
            <dd>
                <p>In this section you can randomize the velocities at a specific start time and interval, and specify a random number seed. By default velocities are randomized at the beginning of a calculation, and not randomized again. For some kinds of simulations (e.g. in the gas phase), periodic randomization of velocities can improve the sampling.</p>
                <dl>
                    <dt><span class="GUI">Seed</span> options</dt>
                    <dd>
                        <p>Select an option to specify the seed for random number generation to randomize the velocities:</p>
                        <ul>
                            <li value="1"><span class="GUI">Random</span>—Use a seed selected at random. The seed changes each time it is used.</li>
                            <li value="2"><span class="GUI">Custom</span>—Use the seed specified in the text box. The same seed is used each time. This option allows you to reproduce the results of the velocity randomization.</li>
                        </ul>
                    </dd>
                    <dt><span class="GUI">Starting time</span> text box</dt>
                    <dd>
                        <p>Specify the time for the first randomization of the velocities.</p>
                    </dd>
                    <dt><span class="GUI">Interval</span> text box</dt>
                    <dd>
                        <p>Specify the interval at which velocities are randomized after the initial randomization.</p>
                    </dd>
                </dl>
            </dd>
            <dt><span class="GUI">Atom group</span> section</dt>
            <dd>
                <p>In this section you can specify atom groups. Atom groups are used for various special treatments of atoms in the simulation. For example, if you define the <span class="GUI">thermostat</span> atom group, each thermostat group index corresponds to a thermostat group in the <span class="GUI">Ensemble</span> tab. Likewise, the <span class="GUI">energy</span> group is used by the <code>energy_group</code> plugin, and the <code>ligand</code> group is used in absolute FEP jobs. Other groups can be defined for special treatment as needed.</p>
                <dl>
                    <dt>Atom group table</dt>
                    <dd>
                        <p>Lists the atom groups. The <span class="GUI">Atoms</span> column is filled in automatically when you click <span class="GUI">Select</span> and use the <span class="GUI">Atom Selection</span> dialog box to specify the atoms. Otherwise you can edit this column to specify the ASL expression for the atoms in the group.</p>
                    </dd>
                    <dt><span class="GUI">Select</span> button</dt>
                    <dd>
                        <p>Opens the <a href="../maestro_help/asd.html"><span class="GUI">Atom Selection</span> dialog box</a> to specify the atoms for the selected group. Only available if a single row is selected in the table.</p>
                    </dd>
                    <dt><span class="GUI">Add</span> button</dt>
                    <dd>
                        <p>Adds an atom group. Clicking this button adds a row to the table.</p>
                    </dd>
                    <dt><span class="GUI">Delete</span> button</dt>
                    <dd>
                        <p>Deletes the selected groups. This operation can only be done on user-defined groups.</p>
                    </dd>
                    <dt><span class="GUI">Reset</span> button</dt>
                    <dd>
                        <p>Resets the table to its default state.</p>
                    </dd>
                </dl>
            </dd>
        </dl>
        <h3><a name="feature8"></a>Reset button</h3>
        <p>Discards changes made since the last set of changes were committed with the <span class="GUI">Apply</span> button or the <span class="GUI">OK</span> button, and resets the values to the last set committed.</p>
        <h2><a name="links"></a>Related Topics</h2>
        <ul>
            <li value="1"><a href="minimization_panel.html" class="MCXref xref" xrefformat="{paratext}">Minimization Panel</a>
            </li>
            <li value="2"><a href="simulated_annealing_panel.html" class="MCXref xref" xrefformat="{paratext}">Simulated Annealing Panel</a>
            </li>
            <li value="3"><a href="molecular_dynamics_panel.html" class="MCXref xref" xrefformat="{paratext}">Molecular Dynamics Panel</a>
            </li>
        </ul>
    </body>
</html>