<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="Documentation.xml" data-mc-path-to-help-system="../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Help|MacroModel Help">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/docs.css" rel="stylesheet" type="text/css" /><title>MacroModel — Constraints Tab</title>
        <script src="../Resources/Scripts/custom.modernizr.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/foundation.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body><a name="aanchor2689"></a>
        <MadCap:concept term="Help Topics" /><a name="aanchor2690"></a>
        <MadCap:concept term="MacroModel" />
        <table class="navlink">
            <tr>
                <td class="navlink"><a class="navbutton" href="#features">Features</a>
                </td>
                <td class="navlink"><a class="navbutton" href="#links">Links</a>
                </td>
            </tr>
        </table>
        <h1 class="title">MacroModel — Constraints Tab</h1><a name="summary"></a>
        <p>The controls in this tab allow specification of atoms whose movement is restricted or forbidden during MacroModel calculations. Constraints are additions of energy penalty functions to the normal force field terms, which are usually flat-bottomed harmonic functions.</p>
        <p>This tab is present in all the MacroModel panels that calculate energies.</p>
        <h2><a name="features"></a>Constraints Tab Features</h2>
        <p>This tab contains four subtabs that you can use to define the different kinds of constraints. Each tab contains a table that lists the constraints and a set of <a href="../maestro_help/picking_controls.html">picking tools</a> that you can use to define a constraint. The force constant and the width of the flat bottom (if required) can be set by editing the table cells. To set the same force constant for multiple constraints, select the constraints, edit the value for one of them and press <span class="Keys">Ctrl+Enter</span> (<span class="Keys">⌘Enter</span>).</p>
        <ul>
            <li value="1"><a href="#atoms_tab"><span class="GUI">Atoms</span> tab</a>
            </li>
            <li value="2"><a href="#distances_tab"><span class="GUI">Distances</span> tab</a>
            </li>
            <li value="3"><a href="#angles_tab"><span class="GUI">Angles</span> tab</a>
            </li>
            <li value="4"><a href="#torsions_tab"><span class="GUI">Torsions</span> tab</a>
            </li>
            <li value="5"><a href="#feature5">Action buttons</a>
            </li>
        </ul>
        <h3><a name="atoms_tab"></a>Atoms tab</h3>
        <p>In this tab you can constrain individual atoms. The total number of atom constraints defined is shown in the tab label.</p>
        <p>To constrain an atom, select <span class="GUI">Pick</span> in the <span class="GUI">Define constrained atoms</span> section, and click on the atom that you wish to constrain. A row is added to the table with the default force constant, and you can edit the table cells to change the force constant and set a range of free movement before the constraint is applied.</p>
        <ul>
            <li value="1"><a href="#feature1.1"><span class="GUI">Constrained atoms</span> table</a>
            </li>
            <li value="2"><a href="#feature1.2"><span class="GUI">Delete</span> and <span class="GUI">Delete All</span> buttons</a>
            </li>
            <li value="3"><a href="#feature1.3"><span class="GUI">Define constrained atoms</span> picking tools</a>
            </li>
        </ul>
        <dl>
            <dt><a name="feature1.1"></a><span class="GUI">Constrained atoms</span> table</dt>
            <dd>
                <p>This table lists the defined constraints. Multiple rows can be selected in the table with the usual shift-click and control-click. You can change the value in all selected rows for a given column by editing one of the values and pressing <span class="Keys">Ctrl+Enter</span> (<span class="Keys">⌘Enter</span>). The table columns are described below.</p>
                <table>
                    <tr>
                        <td style="padding-right: 20;"><span class="GUI">Atom</span>
                        </td>
                        <td>Atom number of the constrained atom.
</td>
                    </tr>
                    <tr>
                        <td style="padding-right: 20;"><span class="GUI">Frozen</span>
                        </td>
                        <td>Checkbox for freezing the atom rather than constraining it. When the box is
checked, the <span class="GUI">Force Constant</span> and <span class="GUI">+/-</span> columns are cleared; when the box is cleared, the previous
values are restored. You can freeze multiple atoms by selecting the rows and
checking the box in one of them.<br />
Frozen atoms are those that do not have any forces acting on them
during minimization or dynamics procedures, and hence will not move.
Frozen atoms do, however, exert a presence on other, non-frozen,
atoms through normal nonbonded interactions.
</td>
                    </tr>
                    <tr>
                        <td style="padding-right: 20;"><span class="GUI">Force Constant</span>
                        </td>
                        <td>Force constant for the constraint. The default value for the force constant
is 100 kJ/mol Å<sup>2</sup> for the OPLS_2005 and OPLS3 force fields,
and 100 kcal/mol Å<sup>2</sup> for all other force fields.
You can edit the table cell to change the force constant. To change the force
constant for multiple atoms, select the table rows, edit one of the values, and
press <span class="Keys">Ctrl+Enter</span> (<span class="Keys">⌘Enter</span>).
</td>
                    </tr>
                    <tr>
                        <td style="padding-right: 20;"><span class="GUI">+/-</span>
                        </td>
                        <td>Width of the flat-bottomed region, in angstroms. This is the distance that
the atom can move freely from its input position. The default value is 0,
meaning that the constraint potential is in effect for all deviations from the
input position.
</td>
                    </tr>
                </table>
            </dd>
            <dt><a name="feature1.2"></a><span class="GUI">Delete</span> and <span class="GUI">Delete All</span> buttons</dt>
            <dd>
                <p>Delete constraints. <span class="GUI">Delete</span> deletes the constraints that are selected in the table, and <span class="GUI">Delete All</span> deletes all constraints in the table.</p>
            </dd>
            <dt><a name="feature1.3"></a><span class="GUI">Define constrained atoms</span> picking tools</dt>
            <dd>
                <p>Select the atoms to be constrained using the standard <a href="../maestro_help/picking_controls.html">picking tools</a>. A constraint is added for each atom that is picked. If <span class="GUI">Markers</span> is selected, the atoms to be constrained are marked with an orange cross and a "spring" icon in the Workspace display. The markers for the currently selected constrained atoms are colored turquoise. A padlock icon is added to the marker if the atom is frozen.</p>
            </dd>
        </dl>
        <h3><a name="distances_tab"></a>Distances tab</h3>
        <p>In this tab you can constrain distances between atoms. The total number of distance constraints defined is shown in the tab label.</p>
        <p>To constrain a distance, select <span class="GUI">Pick</span> in the <span class="GUI">Define constrained distances</span> section, and click on the two atoms that define the distance you wish to constrain. A row is added to the table with the default force constant and current distance, and you can edit the table cells to change the force constant, set a target distance, and set a range of free movement before the constraint is applied.</p>
        <ul>
            <li value="1"><a href="#feature2.1"><span class="GUI">Constrained distances</span> table</a>
            </li>
            <li value="2"><a href="#feature2.2"><span class="GUI">Delete</span> and <span class="GUI">Delete All</span> buttons</a>
            </li>
            <li value="3"><a href="#feature2.3"><span class="GUI">Define constrained distances</span> picking tools</a>
            </li>
            <li value="4"><a href="#feature2.4"><span class="GUI">Add All Atom Pairs</span> button</a>
            </li>
        </ul>
        <dl>
            <dt><a name="feature2.1"></a><span class="GUI">Constrained distances</span> table</dt>
            <dd>
                <p>This table lists the defined constraints. Multiple rows can be selected in the table with the usual shift-click and control-click. You can change the value in all selected rows for a given column by editing one of the values and pressing <span class="Keys">Ctrl+Enter</span> (<span class="Keys">⌘Enter</span>). The table columns are described below.</p>
                <table>
                    <tr>
                        <td style="padding-right: 20;"><span class="GUI">Atoms</span>
                        </td>
                        <td>Atom numbers of the atoms that define the constrained distance.
</td>
                    </tr>
                    <tr>
                        <td style="padding-right: 20;"><span class="GUI">Force Constant</span>
                        </td>
                        <td>Force constant for the constraint. The default value for the force constant
is 100 kJ/mol Å<sup>2</sup>.
You can edit the table cell to change the force constant. To change the force
constant for multiple distances, select the table rows, edit one of the values,
and press <span class="Keys">Ctrl+Enter</span> (<span class="Keys">⌘Enter</span>).
</td>
                    </tr>
                    <tr>
                        <td style="padding-right: 20;"><span class="GUI">Distance</span>
                        </td>
                        <td>Target value for the distance, in angstroms. The default is the input value,
but you can change it to force the distance to the new value. 
</td>
                    </tr>
                    <tr>
                        <td style="padding-right: 20;"><span class="GUI">+/-</span>
                        </td>
                        <td>Width of the flat-bottomed region, in angstroms. This is the amount that
the distance can change from the target value before the constraint is
applied. The default value is 0, meaning that the constraint potential is in
effect for all deviations from the target value.
</td>
                    </tr>
                </table>
            </dd>
            <dt><a name="feature2.2"></a><span class="GUI">Delete</span> and <span class="GUI">Delete All</span> buttons</dt>
            <dd>
                <p>Delete constraints. <span class="GUI">Delete</span> deletes the constraints that are selected in the table, and <span class="GUI">Delete All</span> deletes all constraints in the table.</p>
            </dd>
            <dt><a name="feature2.3"></a><span class="GUI">Define constrained distances</span> picking tools</dt>
            <dd>
                <p>Select the atoms to be constrained using the standard <a href="../maestro_help/picking_controls.html">picking tools</a>. A constraint is added for each atom that is picked. If <span class="GUI">Markers</span> is selected, the distances to be constrained are marked in the Workspace with a purple dotted line. The markers for the currently selected constrained distances are colored turquoise.</p>
            </dd>
            <dt><a name="feature2.4"></a><span class="GUI">Add All Atom Pairs</span> button</dt>
            <dd>
                <p>Add all atom pairs in the Workspace selection to the table, or if there is no selection, add all atom pairs in the Workspace structure.</p>
            </dd>
        </dl>
        <h3><a name="angles_tab"></a>Angles tab</h3>
        <p>In this tab you can constrain angles between atoms. The total number of angle constraints defined is shown in the tab label.</p>
        <p>To constrain an angle, select <span class="GUI">Pick</span> in the <span class="GUI">Define constrained angles</span> section, and click on the three atoms that define the angle you wish to constrain. The atoms are makred with a purple box as you pick them. On the third pick, the boxes are removed and a row is added to the table with the default force constant and current angle. You can edit the table cells to change the force constant, set a target angle, and set a range of free movement before the constraint is applied.</p>
        <ul>
            <li value="1"><a href="#feature3.1"><span class="GUI">Constrained angles</span> table</a>
            </li>
            <li value="2"><a href="#feature3.2"><span class="GUI">Delete</span> and <span class="GUI">Delete All</span> buttons</a>
            </li>
            <li value="3"><a href="#feature3.3"><span class="GUI">Define constrained angles</span> picking tools</a>
            </li>
            <li value="4"><a href="#feature3.4"><span class="GUI">Add All Bond Angles</span> button</a>
            </li>
        </ul>
        <dl>
            <dt><a name="feature3.1"></a><span class="GUI">Constrained angles</span> table</dt>
            <dd>
                <p>This table lists the defined constraints. Multiple rows can be selected in the table with the usual shift-click and control-click. You can change the value in all selected rows for a given column by editing one of the values and pressing <span class="Keys">Ctrl+Enter</span> (<span class="Keys">⌘Enter</span>). The table columns are described below.</p>
                <table>
                    <tr>
                        <td style="padding-right: 20;"><span class="GUI">Atoms</span>
                        </td>
                        <td>Atom numbers of the atoms that define the constrained angle.
</td>
                    </tr>
                    <tr>
                        <td style="padding-right: 20;"><span class="GUI">Force Constant</span>
                        </td>
                        <td>Force constant for the constraint. The default value for the force constant
is 100 kJ/mol rad<sup>2</sup>.
You can edit the table cell to change the force constant. To change the force
constant for multiple angles, select the table rows, edit one of the values, and
press <span class="Keys">Ctrl+Enter</span> (<span class="Keys">⌘Enter</span>).
</td>
                    </tr>
                    <tr>
                        <td style="padding-right: 20;"><span class="GUI">Angle</span>
                        </td>
                        <td>Target value for the angle, in angstroms. The default is the input value,
but you can change it to force the angle to the new value. 
</td>
                    </tr>
                    <tr>
                        <td style="padding-right: 20;"><span class="GUI">+/-</span>
                        </td>
                        <td>Width of the flat-bottomed region, in angstroms. This is the amount that
the angle can change from the target value before the constraint is
applied. The default value is 0, meaning that the constraint potential is in
effect for all deviations from the target value.
</td>
                    </tr>
                </table>
            </dd>
            <dt><a name="feature3.2"></a><span class="GUI">Delete</span> and <span class="GUI">Delete All</span> buttons</dt>
            <dd>
                <p>Delete constraints. <span class="GUI">Delete</span> deletes the constraints that are selected in the table, and <span class="GUI">Delete All</span> deletes all constraints in the table.</p>
            </dd>
            <dt><a name="feature3.3"></a><span class="GUI">Define constrained angles</span> picking tools</dt>
            <dd>
                <p>Select the atoms defining the angle to be constrained using the standard <a href="../maestro_help/picking_controls.html">picking tools</a>. A constraint is added for each atom that is picked. If <span class="GUI">Markers</span> is selected, the angles to be constrained are marked in the Workspace in green with a "spring" icon. The markers for the currently selected constrained angles are colored turquoise.</p>
            </dd>
            <dt><a name="feature3.4"></a><span class="GUI">Add All Bond Angles</span> button</dt>
            <dd>
                <p>Add all bond angles in the Workspace selection to the table, or if there is no selection, add all bond angles in the Workspace structure.</p>
            </dd>
        </dl>
        <h3><a name="torsions_tab"></a>Torsions tab</h3>
        <p>In this tab you can constrain torsions between atoms. The total number of torsion constraints defined is shown in the tab label.</p>
        <p>To constrain an torsion, select <span class="GUI">Pick</span> in the <span class="GUI">Define constrained torsions</span> section, and click on the four atoms that define the torsion you wish to constrain. The atoms are makred with a purple box as you pick them. On the fourth pick, the boxes are removed and a row is added to the table with the default force constant and current torsion. You can edit the table cells to change the force constant, set a target torsion, and set a range of free movement before the constraint is applied.</p>
        <ul>
            <li value="1"><a href="#feature4.1"><span class="GUI">Constrained torsions</span> table</a>
            </li>
            <li value="2"><a href="#feature4.2"><span class="GUI">Delete</span> and <span class="GUI">Delete All</span> buttons</a>
            </li>
            <li value="3"><a href="#feature4.3"><span class="GUI">Define constrained torsions</span> picking tools</a>
            </li>
            <li value="4"><a href="#feature4.4"><span class="GUI">Add All Torsions</span> button</a>
            </li>
        </ul>
        <dl>
            <dt><a name="feature4.1"></a><span class="GUI">Constrained torsions</span> table</dt>
            <dd>
                <p>This table lists the defined constraints. Multiple rows can be selected in the table with the usual shift-click and control-click. You can change the value in all selected rows for a given column by editing one of the values and pressing <span class="Keys">Ctrl+Enter</span> (<span class="Keys">⌘Enter</span>). The table columns are described below.</p>
                <table>
                    <tr>
                        <td style="padding-right: 20;"><span class="GUI">Atoms</span>
                        </td>
                        <td>Atom numbers of the atoms that define the constrained torsion.
</td>
                    </tr>
                    <tr>
                        <td style="padding-right: 20;"><span class="GUI">Force Constant</span>
                        </td>
                        <td>Force constant for the constraint. The default value for the force constant
is 1000 kJ/mol. (The units and default value are different from those for angles
because the constraining function is a cosine rather than a quadratic function
of the coordinate). 
You can edit the table cell to change the force constant. To change the force
constant for multiple torsions, select the table rows, edit one of the values,
and press <span class="Keys">Ctrl+Enter</span> (<span class="Keys">⌘Enter</span>).
</td>
                    </tr>
                    <tr>
                        <td style="padding-right: 20;"><span class="GUI">Torsion</span>
                        </td>
                        <td>Target value for the torsion, in angstroms. The default is the input value,
but you can change it to force the torsion to the new value. 
</td>
                    </tr>
                    <tr>
                        <td style="padding-right: 20;"><span class="GUI">+/-</span>
                        </td>
                        <td>Width of the flat-bottomed region, in angstroms. This is the amount that
the torsion can change from the target value before the constraint is
applied. The default value is 0, meaning that the constraint potential is in
effect for all deviations from the target value.
</td>
                    </tr>
                </table>
            </dd>
            <dt><a name="feature4.2"></a><span class="GUI">Delete</span> and <span class="GUI">Delete All</span> buttons</dt>
            <dd>
                <p>Delete constraints. <span class="GUI">Delete</span> deletes the constraints that are selected in the table, and <span class="GUI">Delete All</span> deletes all constraints in the table.</p>
            </dd>
            <dt><a name="feature4.3"></a><span class="GUI">Define constrained torsions</span> picking tools</dt>
            <dd>
                <p>Select the atoms defining the torsion to be constrained using the standard <a href="../maestro_help/picking_controls.html">picking tools</a>. A constraint is added for each atom that is picked. If <span class="GUI">Markers</span> is selected, the torsions to be constrained are marked in the Workspace in green with a "spring" icon. The markers for the currently selected constrained torsions are colored turquoise.</p>
            </dd>
            <dt><a name="feature4.4"></a><span class="GUI">Add All Torsions</span> button</dt>
            <dd>
                <p>Add all bond torsions in the Workspace selection to the table, or if there is no selection, add all bond torsions in the Workspace structure.</p>
            </dd>
        </dl>
        <h3><a name="feature5"></a>Action buttons</h3>
        <p>These buttons can be used to perform actions on all the constraints.</p>
        <ul>
            <li value="1"><a href="#feature5.1"><span class="GUI">Delete All Constraints</span> button</a>
            </li>
            <li value="2"><a href="#feature5.2"><span class="GUI">Read .sbc File</span> button</a>
            </li>
            <li value="3"><a href="#feature5.3"><span class="GUI">Write .sbc File</span> button</a>
            </li>
        </ul>
        <dl>
            <dt><a name="feature5.1"></a><span class="GUI">Delete All Constraints</span> button</dt>
            <dd>
                <p>Delete all constraints from all tabs.</p>
            </dd>
            <dt><a name="feature5.2"></a><span class="GUI">Read .sbc File</span> button</dt>
            <dd>
                <p>Read constraints from a substructure (<code>.sbc</code>) file. Opens a file selector, in which you can navigate to and select the file.</p>
            </dd>
            <dt><a name="feature5.3"></a><span class="GUI">Write .sbc File</span> button</dt>
            <dd>
                <p>Write all constraints to a substructure (<code>.sbc</code>) file. Opens a file selector, in which you can navigate to a location and name the file.</p>
            </dd>
        </dl>
        <h2><a name="links"></a>Related Topics</h2>
        <ul>
            <li value="1"><a href="energy_calculation.html" class="MCXref xref" xrefformat="{paratext}">MacroModel — Current Energy Panel</a>
            </li>
            <li value="2"><a href="energy_minimization.html" class="MCXref xref" xrefformat="{paratext}">MacroModel — Minimization Panel</a>
            </li>
            <li value="3"><a href="conformational_search.html" class="MCXref xref" xrefformat="{paratext}">Conformational Search Panel</a>
            </li>
            <li value="4"><a href="coordinate_scan.html" class="MCXref xref" xrefformat="{paratext}">Coordinate Scan Panel</a>
            </li>
            <li value="5"><a href="dynamics.html" class="MCXref xref" xrefformat="{paratext}">MacroModel — Dynamics Panel</a>
            </li>
            <li value="6"><a href="mcsd.html" class="MCXref xref" xrefformat="{paratext}">MC/SD Panel</a>
            </li>
        </ul>
    </body>
</html>