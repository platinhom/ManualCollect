<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<link rel="stylesheet" href="../support/help.css" charset="ISO-8859-1" type="text/css" />
<title>Replica Exchange Panel</title>
</head>
<body>
<table bgcolor="#dcdcdc" border="0" cellspacing="0" width="100%">
<tr><td>
<p><img src="../images/common/schrodinger_logo.png" align="left" alt=""
 border="0" hspace="5" vspace="5" /></p>
</td></tr>
<tr><td>
<h1 class="title">Replica Exchange Panel</h1>
</td></tr>
</table>

<ul>
<li><a href="#summary">Summary</a></li>
<li><a href="#opening">Opening the <span class="GUI">Replica Exchange</span> Panel</a></li>
<li><a href="#using">Using the <span class="GUI">Replica Exchange</span> Panel</a></li>
<li><a href="#features"><span class="GUI">Replica Exchange</span> Panel Features</a></li>
<li><a href="#links">Related Topics</a></li>
</ul>

<a name="summary"></a>
<h2>Summary</h2>

<p>This panel allows you to set up and run Desmond temperature replica exchange
simulations. 
</p>

<a name="opening"></a>
<h2>Opening the Replica Exchange Panel</h2>

<p>To open the <span class="GUI">Replica Exchange</span> panel, you can:</p>
<ul>
<li><p>Choose <span class="GUI">Applications &rarr; Desmond &rarr; Replica Exchange</span> 
in the main window.
</p></li>
</ul>


<a name="using"></a> 
<h2>Using the Replica Exchange Panel</h2> 


<p>Replica exchange is an important simulation method that is used to overcome
the common quasi-ergodicity problem in sampling. In replica exchange
simulations, the original chemical system is replicated into N copies, and in
the simulation each copy or replica is independently propagated with a slightly
different Hamiltonian. Often, the Hamiltonians differ from each other only in
the reference temperature, known as <i>temperature replica exchange</i>. During
the simulation, the replicas attempt periodically to exchange the configuration
of the system with each other. The exchange acceptance ratio satisfies the
detailed balance or balance condition so that each replica remains in
equilibrium after the exchange. 
</p>

<p>The replica exchange simulation produces one trajectory for each replica,
labeled <i>jobname</i><code>_replica</code><i>num</i><code>_trj</code>, where
<i>num</i> is the index of the replica, starting from 0.
</p>

<p>When the calculation finishes, you can review the results in the 
<span class="GUI">Replica Exchange Review</span> panel, which you can open with
(<span class="GUI">Applications &rarr; Desmond &rarr; Replica Exchange Review</span>).
</p>

<a name="features"></a> 
<h2>Replica Exchange Panel Features</h2> 


<ul>
<li><a href="#model_system"><span class="GUI">Model system</span> section</a></li>
<li><a href="#simulation"><span class="GUI">Simulation</span> section</a></li>
<li><a href="#job_toolbar">Job toolbar</a></li>
<li><a href="#status_bar">Status bar</a></li>
</ul>

<a name="model_system"></a>
<h3>Model system section</h3>

<p>In this section, you select the model system that you will use for the
simulation. A valid model system must contain both the coordinates of the
particles and the force field parameters. A file of a valid model system
normally has the <code>.cms</code> extension. </p>

<p>There are two options on the option menu, and the tools in this
section depend on which option you choose.
</p>

<dl>
<dt><span class="GUI">Load from Workspace</span></dt>
<dd><p>Load the model system from the Workspace. The Workspace must contain a
model system that has already been prepared with the <span class="GUI">System
Builder</span> panel. 
When you choose this item, the <span
class="GUI">Load</span> button is displayed, which you click to load the model
system from the Workspace.
</p></dd>
<dt><span class="GUI">Import from file</span></dt>
<dd><p>Import the model system from a file. You can choose to import a model
system file (<code>.cms</code>) or a checkpoint file 
(<span class="GUI">.cpt</span>). </p>
<p>If you import a model system file, it  must contain a model
system that has already been prepared with the <span class="GUI">System
Setup</span> panel. When the file is imported, a message about the system is
displayed below the option menu. </p>
<p>If you import a checkpoint file, most of the panel controls are
unavailable. The purpose of the checkpoint file is to restart an 
interrupted simulation, so the parameters of the simulation cannot be
altered. You can change the total simulation time, and then start the job.
</p></dd>
</dl>

<a name="simulation"></a>
<h3>Simulation section</h3>
<p>In this section you set up the parameters of the simulation.
</p>

<ul>
<li><a href="#feature2.1"><span class="GUI">Number of replicas</span> text box</a></li>
<li><a href="#feature2.2"><span class="GUI">Exchange scheme</span> options</a></li>
<li><a href="#feature2.3"><span class="GUI">Exchange attempt</span> text boxes</a></li>
<li><a href="#feature2.4"><span class="GUI">Temperature range</span> text boxes</a></li>
<li><a href="#feature2.5"><span class="GUI">Temperature profile</span> options</a></li>
<li><a href="#feature2.6">Replica table</a></li>
<li><a href="#feature2.7"><span class="GUI">Simulation time</span> text boxes</a></li>
<li><a href="#feature2.8"><span class="GUI">Recording interval</span> text boxes</a></li>
<li><a href="#feature2.9"><span class="GUI">Ensemble class</span> option menu</a></li>
<li><a href="#feature2.10"><span class="GUI">Pressure</span> text box</a></li>
<li><a href="#feature2.14"><span class="GUI">Surface tension</span> text box</a></li>
<li><a href="#feature2.11"><span class="GUI">Relax model system before simulation</span> option</a></li>
<li><a href="#feature2.12"><span class="GUI">Relaxation protocol</span> text box and Browse button</a></li>
<li><a href="#feature2.13"><span class="GUI">Advanced options</span> button</a></li>
</ul>

<dl>

<a name="feature2.1"></a>
<dt><span class="GUI">Number of replicas</span> text box</dt>
<dd><p>Specify the number of replicas to use. The default is 8. Each replica is
simulated at a different temperature.
</p></dd>

<a name="feature2.2"></a>
<dt><span class="GUI">Exchange scheme</span> options</dt>
<dd><p>Select the exchange scheme to use. The two options are:</p>
<ul>
<li><span class="GUI">nearest neighbor</span>&mdash;allow exchange only between
replicas that are adjacent in temperature.</li>
<li><span class="GUI">random</span>&mdash;allow exchange between randomly chosen
replicas.</li>
</ul>
</dd>

<a name="feature2.3"></a>
<dt><span class="GUI">Exchange attempt</span> text boxes</dt>
<dd><p>Set the starting time and the interval for making exchanges, in ps. The
first exchange occurs at the specified starting time and thereafter at the
specified interval.
</p></dd>

<a name="feature2.4"></a>
<dt><span class="GUI">Temperature range</span> text boxes</dt>
<dd><p>Specify the range of temperatures to be used. The defaults are 300&nbsp;K
for the low temperature and 800&nbsp;K for the high temperature.
</p></dd>

<a name="feature2.5"></a>
<dt><span class="GUI">Temperature profile</span> options</dt>
<dd><p>Specify the temperature profile for the replicas. The options are:
</p>
<ul>
<li><span class="GUI">quadratic</span>&mdash;Set the temperatures by
quadratic interpolation between the minimum and maximum, with the high
temperature at the maximum of the quadratic curve. </li>
<li><span class="GUI">linear</span>&mdash;Set the temperatures by linear
interpolation between the maximum and minimum.</li>
<li><span class="GUI">manual</span>&mdash;Set the temperatures manually, by
editing the temperatures in the replica table. When you select this option the
table becomes editable. </li>
</ul>
</dd>

<a name="feature2.6"></a>
<dt>Replica table</dt>
<dd><p>This table displays the temperatures for each replica. You can edit the
temperatures by selecting <span class="GUI">manual</span> for the temperature
profile. 
</p></dd>

<a name="feature2.7"></a>
<dt><span class="GUI">Simulation time</span> text boxes</dt>
<dd><p>Specify the total time of the simulation, in ns, in the <span
class="GUI">total</span> text box.  The <span class="GUI">elapsed</span> text box
displays the amount of time the simulation has already run, if you are
restarting a simulation. For new simulations it should contain zero. This text
box cannot be edited.
</p></dd>

<a name="feature2.8"></a>
<dt><span class="GUI">Recording interval</span> text boxes</dt>
<dd><p>Specify the recording interval for the energy and the trajectory. Enter a
value in ps in the text box. Values entered in this text box are rounded to an
integer multiple of the far time step size. By default, the far time step size
is 0.006&nbsp;ps. This time step size is set in the  
<a href="advanced_options_db.html"><span class="GUI">Integration</span> tab of
the <span class="GUI">Advanced Options</span> dialog box</a>, in the 
<span class="GUI">RESPA integrator</span> section.</p></dd> 

<a name="feature2.9"></a>
<dt><span class="GUI">Ensemble class</span> option menu</dt>
<dd><p>Choose the ensemble class from this option menu. Four classes are
available: NVT, NPT, NPAT, and NP&gamma;T. The default class is NVT. 
</p></dd>

<a name="feature2.10"></a>
<dt><span class="GUI">Pressure</span> text box</dt>
<dd><p>Specify the pressure to be used. Not available for the NVT ensemble class.
</p></dd>

<a name="feature2.14"></a>
<dt><span class="GUI">Surface tension</span> text box</dt>
<dd><p>Specify the surface tension to be used. Only available for the NP&gamma;T
ensemble class.
</p></dd>

<a name="feature2.11"></a>
<dt><span class="GUI">Relax model system before simulation</span> option</dt>
<dd><p>When selected, a series of minimizations and short molecular dynamics
simulations are performed to relax the model system before performing the
simulation you set up. The relaxation procedure follows a default
protocol. Normally, this option is needed only for model systems that 
have just been prepared with the <span class="GUI">System Builder</span> panel
and have not been relaxed.
</p></dd>

<a name="feature2.12"></a>
<dt><span class="GUI">Relaxation protocol</span> text box and Browse button</dt>
<dd><p>Specify the protocol for the relaxation. The protocol is defined in an
<code>.msj</code> file, which you can open by clicking <span
class="GUI">Browse</span> and navigating to the file. The default protocol is
described in the <i>Desmond User Manual</i>.
</p></dd>

<a name="feature2.13"></a>
<dt><span class="GUI">Advanced options</span> button</dt>
<dd><p>Opens the <a href="advanced_options_db.html"><span class="GUI">Advanced
Options</span> dialog box</a>, in which you can control many more of the
detailed settings for the simulation than are available in the 
<span class="GUI">Desmond</span> panel.
</p></dd>

</dl>


<a name="job_toolbar"></a>
<h3>Job toolbar</h3>
<p>The Job toolbar is used to make settings for a job and to start it. </p>

<dl>
<dt><span class="GUI">Job name</span> text box</dt>
<dd><p>Enter a name for the job in this text box.
</p></dd>
<dt><span class="GUI">Settings</span> button menu</dt>
<dd><p>This button opens the <a href="../misc/job_settings.html"><span
class="GUI">Job Settings</span> dialog box</a>. The arrow to the right opens
a menu, from which you can make settings or perform actions that are related to
the job. </p>
<img src="../images/MaestroToolbarIcons/settings.png" />
<p>The menu items are described below.</p>
<ul>
<li><span class="GUI">Job Settings</span>&mdash;Make and save settings for the
incorporation of the job into the Maestro project, the job name, the host,
the distribution of subjobs, and any other application-specific job settings.
Opens the <span class="GUI">Job Settings</span> dialog box.</li>
<li><span class="GUI">Preferences</span>&mdash;Set general preferences for
running jobs. Opens the <span class="GUI">Preferences</span> panel at the <a
href="../maestro_menu/preferences.html#jobs_starting"><span class="GUI">Jobs - 
Starting</span> section</a>.</li>
<li><span class="GUI">Read</span>&mdash;Read an input(configuration)file and apply the settings in the file to the panel controls.
Opens a file selector in which you can navigate to the desired input file.</li>
<li><span class="GUI">Write</span>&mdash;Write the input files for the job but do not start it. 
The file names are based on the current job name, and the files are written to
a subdirectory of the current working directory that is named with the job
name.</li>
<li><span class="GUI">Reset Panel</span>&mdash;Reset the values in the panel to 
their defaults.</li>
</ul>
</dd>

<dt><span class="GUI">Job status</span> button</dt>
<dd><p>This icon indicates when there are jobs running for the application that
belong to the current project. It starts spinning when the first job starts, and
stops when there are no more jobs running. If a job fails to start, it changes
to an exclamation point. 
</p>
<img src="../images/MaestroToolbarIcons/job_status.png" />
<p>
Clicking the button shows a small job status window that lists the job name and
status for all active jobs submitted from the current panel (for Jaguar and
MacroModel this means all jobs from any of the application panels). You can
double-click on a row to open the <a href="../misc/monitor_panel.html"><span
class="GUI">Monitor</span> panel</a> and monitor the job, or click the <span
class="GUI">Monitor</span> button to open the <span class="GUI">Monitor</span>
panel and close the job status window. The job status is updated while the
window is open. If a job finishes while the window is open, the job remains
displayed but with the new status.  The rows are colored according to the
status: yellow for submitted, green for launched, running, or finished, red for
incorporated, died, or killed.  Click anywhere outside the window to close it.
</p></dd>

<dt><span class="GUI">Run</span> button</dt>
<dd><p>Run the job with the current job settings.
</p></dd>
</dl>


<a name="status_bar"></a>
<h3>Status bar</h3>
<p>The status bar displays information about the current job settings for the
panel. This includes the job name, task name and task settings (if any), number
of subjobs (if any) and the host name and job incorporation setting. It also
displays a message for a short time when you start a new job.</p>
<p>The status bar also contains the <span class="GUI">Help</span> button, which
opens the help topic for the panel.</p>
<img src="../images/MaestroToolbarIcons/help.png" />



<a name="links"></a>
<h2>Related Topics</h2>
<ul>
<li><a href="advanced_options_db.html">Desmond &mdash; Advanced Options Dialog Box</a></li>
</ul>
<hr />
<table width="100%">
<tr><td><p class="small"><a href="../support/legal_notice.html" target="LegalNoticeWindow">Legal Notice</a></p></td>
<td>
<table align="right">
<tr><td><p class="small">
File: desmond/replica_exchange_panel.html<br />
Last updated: 10 Jan 2014
</p></td></tr>
</table>
</td></tr>
</table>
</body>
</html>
