<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<link rel="stylesheet" href="../support/help.css" charset="ISO-8859-1" type="text/css" />
<title>Monitor Panel</title>
</head>
<body>
<table bgcolor="#dcdcdc" border="0" cellspacing="0" width="100%">
<tr><td>
<p><img src="../images/common/schrodinger_logo.png" align="left" alt=""
 border="0" hspace="5" vspace="5" /></p>
</td></tr>
<tr><td>
<h1 class="title">Monitor Panel</h1>
</td></tr>
</table>

<ul>
<li><a href="#summary">Summary</a></li>
<li><a href="#opening">Opening the <span class="GUI">Monitor</span> Panel</a></li>
<li><a href="#using">Using the <span class="GUI">Monitor</span> Panel</a></li>
<li><a href="#features"><span class="GUI">Monitor</span> Panel Features</a></li>
<li><a href="#descriptors">Job Status Descriptors</a></li>
<li><a href="#links">Related Topics</a></li>
</ul>

<a name="summary"></a>
<h2>Summary</h2>

<p>The <span class="GUI">Monitor</span> panel can be used to manage and monitor
the progress of any Schr&ouml;dinger computational job.</p>

<a name="opening"></a>
<h2>Opening the Monitor Panel</h2>

<p>To open the <span class="GUI">Monitor</span> panel, you can:</p>
<ul>
<li><p>Choose <span class="GUI">Applications &rarr; Monitor Jobs</span> 
in the main window.
</p></li>
<li><p>Choose <span class="GUI">Tasks &rarr; Monitor Jobs</span> 
in the main window.
</p></li>
<li><p>Click the <span class="GUI">Monitor</span> button in the job status
window, which you open from the Job toolbar in an application panel.
</p></li>
<li><p>Double-click a table row in the job status window.
</p></li>
<li><p>Click the <span class="GUI">Jobs</span> button in the status bar of the
main window.
</p></li>
<li><p>Click the job status icon in any workflow panel that has this icon.
</p></li></ul>
<p>
The <span class="GUI">Monitor</span> panel can be opened automatically when you
start a job, by setting a preference to do so in the <a
href="../maestro_menu/preferences.html#jobs_monitoring"><span class="GUI">Jobs - 
Monitoring</span> tab</a> of the <span class="GUI">Preferences</span> panel.
</p>

<a name="using"></a> 
<h2>Using the Monitor Panel</h2> 


<p>The <span class="GUI">Monitor</span> panel is used for showing information on
jobs, monitoring the progress of jobs, and managing jobs. </p>

<p>Only one job can be monitored at any given time. To monitor a job,
double-click it in the table in the <span class="GUI">Jobs</span> tab. The table
row is colored blue, and the <span class="GUI">File</span> tab is placed on
top, so you can see the log file.</p>

<p>Monitoring a job is necessary for the job to be incorporated under the
following circumstances:</p>
<ul>
<li>If you have selected <span class="GUI">Only when monitored</span> in the
<span class="GUI">Jobs &rarr; Incorporation</span> tab of the <span
class="GUI">Preferences</span> panel (this is the default).</li>
<li>If you have selected <span class="GUI">When approved</span> in the
<span class="GUI">Jobs &rarr; Incorporation</span> tab of the <span
class="GUI">Preferences</span> panel and you choose not to incorporate a job
when prompted.</li>
</ul>

<p>Most jobs write information to a log file as the job progresses. This
file is copied back periodically to the job submission directory, and is
available to the <span class="GUI">Monitor</span> panel. Some jobs copy back
other files periodically, and these files can also be monitored. Some jobs
(notably Jaguar and MacroModel) do structural monitoring, and the current
structure is displayed in the Workspace as a scratch entry, and is updated while
the job is being monitored.</p>

<p>When a job from the current project that is being monitored finishes, the
results are automatically incorporated into the project using the settings that
were active when the job was started.  Once incorporation is complete the newly
incorporated entries are selected in the project and the first of these is
included in the Workspace.  The job can then be removed from the list of jobs
with the <span class="GUI">Delete</span> button on the monitor panel. </p>

<a name="features"></a> 
<h2>Monitor Panel Features</h2> 


<p>The <span class="GUI">Monitor</span> panel has a jobs table and two
tabs. Below the table is a set of action buttons that can be applied to
jobs. </p>

<ul>
<li><a href="#feature1">Jobs table</a></li>
<li><a href="#feature1.2"><span class="GUI">Show</span> option menu</a></li>
<li><a href="#feature4">Action buttons</a></li>
<li><a href="#feature2"><span class="GUI">Details</span> tab</a></li>
<li><a href="#feature3"><span class="GUI">File</span> tab</a></li>
</ul>

<a name="feature1"></a>
<h4>Jobs table</h4>

<p>The jobs table lists jobs started by the current user, using a tree
format. The job information is taken from the job database for the user. This
information is updated periodically.</p>

<p>To monitor a job, select the table row and click <span
class="GUI">Monitor</span>, or double-click the table row. The table row is
highlighted in blue,and the <span class="GUI">File</span> tab is placed on top
with the log file displayed.</p>

<p>You can select multiple rows in the table with the usual shift-click and
control-click actions, or you can select all rows by using the shortcut menu. If
you select multiple rows, the <span class="GUI">Details</span>
and <span class="GUI">File</span> tabs and the <span class="GUI">Monitor</span>
button are unavailable. You can apply an action to the selected jobs with the
other action buttons. The actions are also available from the shortcut menu. You
can also show and hide subjobs, using the &quot;turner&quot; in the parent job
row.</p>

<p>You can sort the table rows by clicking in the heading of the column whose
values you want to sort by. Subjobs are kept under the parent job during
sorting, so the top-level jobs are sorted by the column values, then for each
job, the subjobs are sorted.</p>

<p>The table cells have tooltips, which are displayed when you pause the pointer
over the cell. The tooltips display the full content of the cell, except for the
<span class="GUI">Status</span> column, where an informative message describing
the meaning of the status is displayed, and the <span class="GUI">Host</span>
column, where the host entry name from the hosts file is displayed.
</p>

<table cellpadding=5>
<tr>
<td>Job ID</td>
<td>&nbsp;</td>
<td>ID by which the job is identified to Job Control. Jobs that have subjobs are
displayed with a &plus; or &minus; symbol to the left of the ID. The &plus;
symbol indicates that the list is hidden; the &minus; symbol indicates that the
list is displayed. To display or undisplay the list, click the symbol. Subjob
IDs are indented relative to the parent job ID. </td>
</tr>
<tr>
<td>Name</td>
<td>&nbsp;</td>
<td>Name of the job. The job name can be specified on the Job toolbar or in the
<span class="GUI">Job Settings</span> dialog box when you start a job from
Maestro, or on the command line. Subjob job names are indented relative to the
parent job name.</td>
</tr>
<tr>
<td>Status</td>
<td>&nbsp;</td>
<td>Job status.  The status for subjobs is indented relative to the parent job
status. See <a href="#descriptors">Job Status Descriptors</a> below for
information on the content of this column.
</td>
</tr>
<tr>
<td>Errs</td>
<td>&nbsp;</td>
<td>Number of errors logged for this job. These errors are not necessarily fatal
errors. Most of them are for tasks initiated by Job Control. You can view
details of the errors by selecting the job record in the <span
class="GUI">Details</span> tab and viewing it in the <span class="GUI">File</span> tab. </td>
</tr>
<tr>
<td>Start Time</td>
<td>&nbsp;</td>
<td>Time at which the job was started</td>
</tr>
<tr>
<td>Host</td>
<td>&nbsp;</td>
<td>Host to which the job was submitted or on which the job is running. This is
the actual host name, such as the name of the machine or cluster node, not the
name of the host entry in the hosts file. The host entry name is available in
the tooltip for this cell and in the job summary (shown in
the <span class="GUI">Details</span> tab). </td>
</tr>
<tr>
<td>Application</td>
<td>&nbsp;</td>
<td>Name of the application being run (e.g. MacroModel). </td>
</tr>
<tr>
<td>Project</td>
<td>&nbsp;</td>
<td>Name of the project to which the job belongs.</td>
</tr>
</table>

<a name="feature1.2"></a>
<h4>Show option menu</h4>
<p>This menu allows you to choose the class of jobs that is displayed in the
table. There are three options:</p>
<ul>
<li><span class="GUI">Jobs from this project only</span></li>
<li><span class="GUI">Active jobs only</span></li>
<li><span class="GUI">All jobs</span></li>
</ul>

<a name="feature4"></a>
<h4>Action Buttons</h4>
<p>These buttons perform actions on the table or table rows. The buttons are
spread over two rows in the panel.
</p>


<ul>
<li><a href="#feature4.10">Refresh</a></li>
<li><a href="#feature4.11">Incorporate All</a></li>
<li><a href="#feature4.8a">Clean Up</a></li>
<li><a href="#feature4.12">Preferences</a></li>
<li><a href="#feature4.1">Monitor</a></li>
<li><a href="#feature4.3">Pause</a></li>
<li><a href="#feature4.4">Resume</a></li>
<li><a href="#feature4.5">Stop</a></li>
<li><a href="#feature4.6">Kill</a></li>
<li><a href="#feature4.7">Update</a></li>
<li><a href="#feature4.8">Delete</a></li>
<li><a href="#feature4.9">Postmortem</a></li>
</ul>

<dl>
<a name="feature4.10"></a>
<dt><span class="GUI">Refresh</span></dt>
<dd><p>Update the status of all running jobs.
</p></dd>

<a name="feature4.11"></a>
<dt><span class="GUI">Incorporate All</span></dt>
<dd><p>Incorporate all jobs for the current project that are waiting for
incorporation. This includes jobs whose incorporation method was set to 
<span class="GUI">Workspace</span>. For these jobs, display of the structure in
the Workspace is suppressed. 
</p></dd>

<a name="feature4.8a"></a>
<dt><span class="GUI">Clean Up</span></dt>
<dd><p>Clean up the job database. This action removes records for the
incorporated jobs and completed jobs that cannot be incorporated. The command
that is executed is <code>$SCHRODINGER/jobcontrol -delete all</code>.
</p></dd>

<a name="feature4.12"></a>
<dt><span class="GUI">Preferences</span></dt>
<dd><p>Set preferences for job monitoring. Opens
the <span class="GUI">Preferences</span> panel at the 
<a href="../maestro_menu/preferences.html#jobs_monitoring"><span class="GUI">Jobs
&ndash; Monitoring</span> tab</a>.
</p></dd>

<a name="feature4.1"></a>
<dt><span class="GUI">Monitor</span></dt>
<dd><p>Monitors the currently selected job. Switches to the <span
class="GUI">File</span> tab and by default displays the log file for the job. If
the job includes structural monitoring the generated structures will be
displayed in the Workspace. </p></dd>

<a name="feature4.3"></a>
<dt><span class="GUI">Pause</span></dt>
<dd><p>Suspend the selected jobs. The jobs are not stopped, but they will take no
CPU time and make no progress on the calculation.</p></dd>

<a name="feature4.4"></a>
<dt><span class="GUI">Resume</span></dt>
<dd><p>Resume progress on the selected jobs, after they have been paused.</p>
</dd>

<a name="feature4.5"></a>
<dt><span class="GUI">Stop</span></dt>
<dd><p>Stop the selected jobs at the next convenient stopping point. This point
is defined by the application and allows a clean shutdown of the job, with
return of the results up to the stopping point. This action is only available
for some applications (MacroModel, Jaguar, Desmond). Some time may elapse before
the job finally stops.</p></dd>

<a name="feature4.6"></a>
<dt><span class="GUI">Kill</span></dt>
<dd><p>Force termination of the selected jobs as soon as possible. Subjobs are
killed by the parent job to ensure a clean job termination. Note that it may not
be possible to successfully incorporate the output from a killed job into
the project.</p></dd>

<a name="feature4.7"></a>
<dt><span class="GUI">Update</span></dt>
<dd><p>[MacroModel conformational searches only] Instructs the program to print
the current results and write all the currently found structures to the
<code>.out</code> file. This button has no effect on any other type of job.</p></dd>

<a name="feature4.8"></a>
<dt><span class="GUI">Delete</span></dt>
<dd><p>Delete the selected job from the job database and delete the associated
files. If you delete a job that has subjobs, the subjobs are also deleted.
When you click <span class="GUI">Delete</span>, a dialog box is displayed with
two options for cleaning up the job: </p>
<ul>
<li><span class="GUI">Remove from job database and remove monitoring
files</span>&mdash;removes the job from the database and deletes temporary
files that were created for monitoring purposes only.</li>
<li><span class="GUI">Remove all files associated with this job</span>&mdash;deletes all
the input and output files associated with this job as well as removing the job
from the database.</li>
</ul>
</dd>

<a name="feature4.9"></a>
<dt><span class="GUI">Postmortem</span></dt>
<dd><p>Create a postmortem report on each of the selected jobs. Opens the <a
href="create_postmortem_db.html"><span class="GUI">Create Postmortem</span>
dialog box</a> in which you can choose options for information to go into the
report (archive), and create reports for the jobs.
</p></dd>

</dl>


<a name="feature2"></a>
<h4>Details Tab</h4>

<p>This tab shows details of the selected job. The job information is repeated
in the <span class="GUI">Job Summary</span> text area. The <span
class="GUI">Files</span> table lists all files associated with the job except
for the structure files. When you select a file in the table, the file is
displayed in the <span class="GUI">File</span> tab. If you double-click a file,
the <span class="GUI">File</span> tab is displayed with the selected file. By
default, the log file is selected.  Gray rows in the table mark files that are
not available for viewing.</p>

<p>The job record for the job is the last file in the list. This file shows
details of the progress of the job and is useful for diagnosing errors. </p>



<a name="feature3"></a>
<h4>File Tab</h4>

<p>The <span class="GUI">File</span> tab displays the file that is selected in
the <span class="GUI">Details</span> tab. By default, this file is the log file
for the job. The display is updated at regular intervals. When new text is added,
the display scrolls to show any new text if the display is already at the end of
the file. If the display is not at the end of the file when text is added, the
display remains at the same location in the file, and you must scroll down to
the end of the file to see the new text.  </p>



<a name="descriptors"></a>
<h2>Job Status Descriptors</h2>

<p>The status of a job can be one of the following descriptors:</p>
<table cellpadding=5>
<tr>
<td>launched </td>
<td>&nbsp;</td>
<td>Job submitted and a JobId assigned</td>
</tr>
<tr>
<td>submitted </td>
<td>&nbsp;</td>
<td>Job waiting to start on a batch queue</td>
</tr>
<tr>
<td>started </td>
<td>&nbsp;</td>
<td>Environment for job is being set up</td>
</tr>
<tr>
<td>running</td>
<td>&nbsp;</td>
<td>Job running</td>
</tr>
<tr>
<td>paused</td>
<td>&nbsp;</td>
<td>Job temporarily suspended</td>
</tr>
<tr>
<td>exited</td>
<td>&nbsp;</td>
<td>Job terminated and being cleaned up</td>
</tr>
<tr>
<td>completed</td>
<td>&nbsp;</td>
<td>Job terminated and cleaned up. Followed by the exit status (see below) </td>
</tr>
<tr>
<td>incorporated</td>
<td>&nbsp;</td>
<td>job output incorporated into Maestro project. Followed by the exit status (see below)</td>
</tr>
<tr>
<td>stranded</td>
<td>&nbsp;</td>
<td>job could not be reached by job control</td>
</tr>
<tr>
<td>unreachable</td>
<td>&nbsp;</td>
<td>machine running the job could not be reached by job control</td>
</tr>
</table>

<p>When the job status is <span class="GUI">completed</span> or
<span class="GUI">incorporated</span>, it is followed by a colon and the exit
status. The possible exit status values are:</p>

<table>
<tr>
<td>finished</td>
<td>&nbsp;</td>
<td>Job finished successfully</td>
</tr>
<tr>
<td>fizzled</td>
<td>&nbsp;</td>
<td>Job failed before the program could be run</td>
</tr>
<tr>
<td>stopped</td>
<td>&nbsp;</td>
<td>Job stopped gracefully at user's request</td>
</tr>
<tr>
<td>killed</td>
<td>&nbsp;</td>
<td>Job was killed by a kill request</td>
</tr>
<tr>
<td>died</td>
<td>&nbsp;</td>
<td>Job failed during program execution</td>
</tr>
</table>

<a name="links"></a>
<h2>Related Topics</h2>
<ul>
<li><a href="job_settings.html">Job Settings Dialog Box</a></li>
<li><a href="../maestro_menu/preferences.html">Preferences Panel</a></li>
</ul>
<hr />
<table width="100%">
<tr><td><p class="small"><a href="../support/legal_notice.html" target="LegalNoticeWindow">Legal Notice</a></p></td>
<td>
<table align="right">
<tr><td><p class="small">
File: misc/monitor_panel.html<br />
Last updated: 22 Oct 2014
</p></td></tr>
</table>
</td></tr>
</table>
</body>
</html>
