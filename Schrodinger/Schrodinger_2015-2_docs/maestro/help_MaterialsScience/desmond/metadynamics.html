<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<link rel="stylesheet" href="../support/help.css" charset="ISO-8859-1" type="text/css" />
<title>Metadynamics Panel</title>
</head>
<body>
<table bgcolor="#dcdcdc" border="0" cellspacing="0" width="100%">
<tr><td>
<p><img src="../images/common/schrodinger_logo.png" align="left" alt=""
 border="0" hspace="5" vspace="5" /></p>
</td></tr>
<tr><td>
<h1 class="title">Metadynamics Panel</h1>
</td></tr>
</table>

<ul>
<li><a href="#summary">Summary</a></li>
<li><a href="#opening">Opening the <span class="GUI">Metadynamics</span> Panel</a></li>
<li><a href="#using">Using the <span class="GUI">Metadynamics</span> Panel</a></li>
<li><a href="#features"><span class="GUI">Metadynamics</span> Panel Features</a></li>
<li><a href="#links">Related Topics</a></li>
</ul>

<a name="summary"></a>
<h2>Summary</h2>

<p>In this panel you can set up and start a metadynamics job. 
</p>

<a name="opening"></a>
<h2>Opening the Metadynamics Panel</h2>

<p>To open the <span class="GUI">Metadynamics</span> panel, you can:</p>
<ul>
<li><p>Choose <span class="GUI">Applications &rarr; Desmond &rarr; Metadynamics</span> 
in the main window.
</p></li>
<li><p>Choose <span class="GUI">Applications &rarr; More Applications &rarr; Desmond &rarr; Metadynamics</span> 
in the main window.
</p></li>
</ul>


<a name="using"></a> 
<h2>Using the Metadynamics Panel</h2> 


<p>Metadynamics is a technique in which the potential for one or more chosen
variables (&quot;collective variables&quot;) is modified by periodically adding
a repulsive potential of Gaussian shape at the location given by particular
values of the variables. These repulsive Gaussians eventually fill up the well
that is being sampled, and force the calculation to sample elsewhere. At certain
points in the simulation, the sum of the Gaussians and the free-energy surface
(FES) becomes flat, and therefore the sum of Gaussians is the negative image of
the FES. 
</p>
<p>The parameters that control the accuracy of the simulation are the height and
width of the Gaussian potential and the interval at which the Gaussians are
added. The accuracy is not very sensitive to the ratio of the height to the
interval; however, smaller values of this ratio increase the accuracy
somewhat. The width of the Gaussian should be roughly 1/4 to 1/3 of the average
fluctuations of the collective variable during a free MD run.
</p>

<a name="features"></a> 
<h2>Metadynamics Panel Features</h2> 


<ul>
<li><a href="#feature1"><span class="GUI">Model system</span> section</a></li>
<li><a href="#feature2"><span class="GUI">Simulation</span> section</a></li>
<li><a href="#job_toolbar">Job toolbar</a></li>
<li><a href="#status_bar">Status bar</a></li>
</ul>


<a name="feature1"></a>
<h3>Model system section</h3>
<p>In this section, you select the model system that you will use for the
simulation. A valid model system for simulations must contain both the
coordinates of the particles and the force field parameters. A file of a valid
model system normally has the <code>.cms</code> extension. </p>
<p>There are two options on the option menu, and the tools in this
section depend on which option you choose.
</p>

<dl>
<dt><span class="GUI">Load from  Workspace</span></dt>
<dd><p>Load the model system from the Workspace. The Workspace must contain a
model system that has already been prepared with the <span class="GUI">System
Builder</span> panel. When you choose this item, the <span
class="GUI">Load</span> button is displayed, which you click to load the model system from the Workspace. 
</p></dd>
<dt><span class="GUI">Import from file</span></dt>
<dd><p>Import the model system from a file. You can choose to import a model
system file (<code>.cms</code>) or a checkpoint file 
(<span class="GUI">.cpt</span>). </p>
<p>If you import a model system file, it  must contain a model
system that has already been prepared with the <span class="GUI">System
Builder</span> panel. When the file is imported, a message about the system is
displayed below the option menu. </p>
<p>If you import a checkpoint file, most of the panel controls are
unavailable. The purpose of the checkpoint file is to restart an 
interrupted simulation, so the parameters of the simulation cannot be
altered. You can change the total simulation time, and then start the job.
</p></dd>
</dl>
<p>
</p>

<a name="feature2"></a>
<h3>Simulation section</h3>
<p>
</p>

<ul>
<li><a href="#feature2.1"><span class="GUI">Height</span> text box</a></li>
<li><a href="#feature2.2"><span class="GUI">Frequency</span> text box</a></li>
<li><a href="#feature2.3"><span class="GUI">Collective variable type</span> options</a></li>
<li><a href="#feature2.4"><span class="GUI">Pick atoms</span> option</a></li>
<li><a href="#feature2.5"><span class="GUI">Atom</span> text boxes</a></li>
<li><a href="#feature2.6"><span class="GUI">Width</span> text box</a></li>
<li><a href="#feature2.7"><span class="GUI">Wall at</span> text box</a></li>
<li><a href="#feature2.8"><span class="GUI">Add</span> and <span
class="GUI">Remove</span> buttons</a></li>
<li><a href="#feature2.9">Collective Variable table</a></li>
<li><a href="#feature2.10"><span class="GUI">Simulation time</span> text boxes</a></li>
<li><a href="#feature2.11"><span class="GUI">Recording interval</span> text boxes</a></li>
<li><a href="#feature2.12"><span class="GUI">Ensemble class</span> option menu</a></li>
<li><a href="#feature2.13"><span class="GUI">Pressure</span> text box</a></li>
<li><a href="#feature2.14"><span class="GUI">Surface tension</span> text box</a></li>
<li><a href="#feature2.15"><span class="GUI">Relax model system before simulation</span> option</a></li>
<li><a href="#feature2.16"><span class="GUI">Relaxation protocol</span> text box and Browse button</a></li>
<li><a href="#feature2.17"><span class="GUI">Advanced options</span> button</a></li>
</ul>

<dl>

<a name="feature2.1"></a>
<dt><span class="GUI">Height</span> text box</dt>
<dd><p>Height of the repulsive Gaussian potential. The accuracy of the
results is inversely proportional to the height for a given interval for
addition of the Gaussian. However, if smaller heights are used, the simulation
takes longer.
</p></dd>

<a name="feature2.2"></a>
<dt><span class="GUI">Frequency</span> text box</dt>
<dd><p>Time interval at which the repulsive Gaussian potential is
added. The accuracy of the results increases as the time interval increases, but
the simulation time also increases.
</p></dd>

<a name="feature2.3"></a>
<dt><span class="GUI">Collective variable type</span> options</dt>
<dd><p>Select the type of collective variable to use for the sampled degree of
freedom.
</p></dd>

<a name="feature2.4"></a>
<dt><span class="GUI">Pick atoms</span> option</dt>
<dd><p>Select this option to pick the atoms for the collective variable: two for
a distance, three for an angle, and four for a dihedral. 
</p></dd>

<a name="feature2.5"></a>
<dt><span class="GUI">Atom</span><i>N</i> text boxes</dt>
<dd><p>These text boxes display the atom number of the atoms picked for the
collective variable.
</p></dd>

<a name="feature2.6"></a> <dt><span class="GUI">Width</span> text box</dt>
<dd><p>Width (rms width) of the repulsive Gaussian potential, in angstroms or
radians. The width should be roughly 1/4 to 1/3 of the average fluctuations of
the collective variable during a free MD run. The default values are
0.05&nbsp;&Aring; for distances, 2.5&deg; for angles, and 5&deg; for dihedrals.
</p></dd>

<a name="feature2.7"></a>
<dt><span class="GUI">Wall at</span> text box</dt>
<dd><p>Distance along the collective variable at which a barrier is
placed. Introducing a wall prevents the system from moving too far in the
direction defined by the collective variable. Only applies to distance
variables.
</p></dd>

<a name="feature2.8"></a>
<dt><span class="GUI">Add</span> and <span class="GUI">Remove</span> buttons</dt>
<dd><p>Add the collective variable defined above to the table, or remove the
selected variable from the table. 
</p></dd>

<a name="feature2.9"></a>
<dt>Collective variable table</dt>
<dd><p>This table lists the collective variable atom numbers with their
parameters. You can select a single row to remove from the table. The table is
noneditable.
</p></dd>


<a name="feature2.10"></a>
<dt><span class="GUI">Simulation time</span> text boxes</dt>
<dd><p>Specify the total time of the simulation, in ns, in the <span
class="GUI">total</span> text box.  The <span class="GUI">elapsed</span> text box
displays the amount of time the simulation has already run, if you are
restarting a simulation. For new simulations it should contain zero. This text
box cannot be edited.
</p></dd>

<a name="feature2.11"></a>
<dt><span class="GUI">Recording interval</span> text boxes</dt>
<dd><p>Specify the recording interval for the energy and the trajectory. Enter a
value in ps in the text box. Values entered in this text box are rounded to an
integer multiple of the far time step size. By default, the far time step size
is 0.006&nbsp;ps. This time step size is set in the  
<a href="advanced_options_db.html"><span class="GUI">Integration</span> tab of
the <span class="GUI">Advanced Options</span> dialog box</a>, in the 
<span class="GUI">RESPA integrator</span> section.</p></dd> 

<a name="feature2.12"></a>
<dt><span class="GUI">Ensemble class</span> option menu</dt>
<dd><p>Choose the ensemble class from this option menu. Four classes are
available: NVT, NPT, NPAT, and NP&gamma;T. The default class is NVT. 
</p></dd>

<a name="feature2.13"></a>
<dt><span class="GUI">Pressure</span> text box</dt>
<dd><p>Specify the pressure to be used. Not available for the NVT ensemble class.
</p></dd>

<a name="feature2.14"></a>
<dt><span class="GUI">Surface tension</span> text box</dt>
<dd><p>Specify the surface tension to be used. Only available for the NP&gamma;T
ensemble class.
</p></dd>

<a name="feature2.15"></a>
<dt><span class="GUI">Relax model system before simulation</span> option</dt>
<dd><p>When selected, a series of minimizations and short molecular dynamics
simulations are performed to relax the model system before performing the
simulation you set up. The relaxation procedure follows a default
protocol. Normally, this option is needed only for model systems that 
have just been prepared with the <span class="GUI">System Builder</span> panel
and have not been relaxed.
</p></dd>

<a name="feature2.16"></a>
<dt><span class="GUI">Relaxation protocol</span> text box and Browse button</dt>
<dd><p>Specify the protocol for the relaxation. The protocol is defined in an
<code>.msj</code> file, which you can open by clicking <span
class="GUI">Browse</span> and navigating to the file. The default protocol is
described in the <i>Desmond User Manual</i>.
</p></dd>

<a name="feature2.17"></a>
<dt><span class="GUI">Advanced options</span> button</dt>
<dd><p>Opens the <a href="advanced_options_db.html"><span class="GUI">Advanced
Options</span> dialog box</a>, in which you can control many more of the
detailed settings for the simulation than are available in the 
<span class="GUI">Desmond</span> panel.
</p></dd>

</dl>

<a name="job_toolbar"></a>
<h3>Job toolbar</h3>
<p>The Job toolbar is used to make settings for a job and to start it. </p>

<dl>
<dt><span class="GUI">Job name</span> text box</dt>
<dd><p>Enter a name for the job in this text box.
</p></dd>
<dt><span class="GUI">Settings</span> button menu</dt>
<dd><p>This button opens the <a href="../misc/job_settings.html"><span
class="GUI">Job Settings</span> dialog box</a>. The arrow to the right opens
a menu, from which you can make settings or perform actions that are related to
the job. </p>
<img src="../images/MaestroToolbarIcons/settings.png" />
<p>The menu items are described below.</p>
<ul>
<li><span class="GUI">Job Settings</span>&mdash;Make and save settings for the
incorporation of the job into the Maestro project, the job name, the host,
the distribution of subjobs, and any other application-specific job settings.
Opens the <span class="GUI">Job Settings</span> dialog box.</li>
<li><span class="GUI">Preferences</span>&mdash;Set general preferences for
running jobs. Opens the <span class="GUI">Preferences</span> panel at the <a
href="../maestro_menu/preferences.html#jobs_starting"><span class="GUI">Jobs - 
Starting</span> section</a>.</li>
<li><span class="GUI">Read</span>&mdash;Read an input(configuration)file and apply the settings in the file to the panel controls.
Opens a file selector in which you can navigate to the desired input file.</li>
<li><span class="GUI">Write</span>&mdash;Write the input files for the job but do not start it. 
The file names are based on the current job name, and the files are written to
a subdirectory of the current working directory that is named with the job
name.</li>
<li><span class="GUI">Reset Panel</span>&mdash;Reset the values in the panel to 
their defaults.</li>
</ul>
</dd>

<dt><span class="GUI">Job status</span> button</dt>
<dd><p>This icon indicates when there are jobs running for the application that
belong to the current project. It starts spinning when the first job starts, and
stops when there are no more jobs running. If a job fails to start, it changes
to an exclamation point. 
</p>
<img src="../images/MaestroToolbarIcons/job_status.png" />
<p>
Clicking the button shows a small job status window that lists the job name and
status for all active jobs submitted from the current panel (for Jaguar and
MacroModel this means all jobs from any of the application panels). You can
double-click on a row to open the <a href="../misc/monitor_panel.html"><span
class="GUI">Monitor</span> panel</a> and monitor the job, or click the <span
class="GUI">Monitor</span> button to open the <span class="GUI">Monitor</span>
panel and close the job status window. The job status is updated while the
window is open. If a job finishes while the window is open, the job remains
displayed but with the new status.  The rows are colored according to the
status: yellow for submitted, green for launched, running, or finished, red for
incorporated, died, or killed.  Click anywhere outside the window to close it.
</p></dd>

<dt><span class="GUI">Run</span> button</dt>
<dd><p>Run the job with the current job settings.
</p></dd>
</dl>


<a name="status_bar"></a>
<h3>Status bar</h3>
<p>The status bar displays information about the current job settings for the
panel. This includes the job name, task name and task settings (if any), number
of subjobs (if any) and the host name and job incorporation setting. It also
displays a message for a short time when you start a new job.</p>
<p>The status bar also contains the <span class="GUI">Help</span> button, which
opens the help topic for the panel.</p>
<img src="../images/MaestroToolbarIcons/help.png" />



<a name="links"></a>
<h2>Related Topics</h2>
<ul>
<li><a href="advanced_options_db.html">Desmond &mdash; Advanced Options Dialog
Box</a></li>
</ul>
<hr />
<table width="100%">
<tr><td><p class="small"><a href="../support/legal_notice.html" target="LegalNoticeWindow">Legal Notice</a></p></td>
<td>
<table align="right">
<tr><td><p class="small">
File: desmond/metadynamics.html<br />
Last updated: 10 Jan 2014
</p></td></tr>
</table>
</td></tr>
</table>
</body>
</html>
