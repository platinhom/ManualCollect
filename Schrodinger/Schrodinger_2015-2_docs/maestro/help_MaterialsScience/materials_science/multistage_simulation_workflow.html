<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<link rel="stylesheet" href="../support/help.css" charset="ISO-8859-1" type="text/css" />
<title>Multistage Simulation Workflow Panel</title>
</head>
<body>
<table bgcolor="#dcdcdc" border="0" cellspacing="0" width="100%">
<tr><td>
<p><img src="../images/common/schrodinger_logo.png" align="left" alt=""
 border="0" hspace="5" vspace="5" /></p>
</td></tr>
<tr><td>
<h1 class="title">Multistage Simulation Workflow Panel</h1>
</td></tr>
</table>

<ul>
<li><a href="#summary">Summary</a></li>
<li><a href="#opening">Opening the <span class="GUI">Multistage Simulation Workflow</span> Panel</a></li>
<li><a href="#using">Using the <span class="GUI">Multistage Simulation Workflow</span> Panel</a></li>
<li><a href="#features"><span class="GUI">Multistage Simulation Workflow</span> Panel Features</a></li>
<li><a href="#links">Related Topics</a></li>
</ul>

<a name="summary"></a>
<h2>Summary</h2>

<p>In this panel you can set up a multistage molecular dynamics simulation
workflow, consisting of an arbitrary number of stages, chosen from minimization,
molecular dynamics, or simulated annealing. The results of each stage are fed
into the next stage. 
</p>

<a name="opening"></a>
<h2>Opening the Multistage Simulation Workflow Panel</h2>

<p>To open the <span class="GUI">Multistage Simulation Workflow</span> panel, you can:</p>
<ul>
<li><p>Choose <span class="GUI">Tasks &rarr; Molecular Dynamics &rarr; Multistage Simulation Workflow</span> 
in the main window.
</p></li>
<li><p>Choose <span class="GUI">Applications &rarr; Materials Science &rarr; Multistage Simulation Workflow</span> 
in the main window.
</p></li>
</ul>


<a name="using"></a> 
<h2>Using the Multistage Simulation Workflow Panel</h2> 


<p>The <span class="GUI">Multistage Simulation Workflow</span> panel uses a
Desmond model system as input. The model system can be generated in the 
<a href="disordered_system_builder.html"><span class="GUI">Disordered System
Builder</span></a> panel, or the standard Desmond <span class="GUI">System
Builder</span> panel.</p>
<p>The panel was primarily designed to allow processing of the initial condensed
phase model generated from the <span class="GUI">Disordered System
Builder</span>, using a series of NVE, NVT, 
and finally target temperature NPT simulations to predict the amorphous system
density and structure. However it can be used for any Desmond simulation, and
compute properties such as the coefficient of thermal expansion or T<sub>g</sub>.
</p>
<p>When the panel opens, a single simulation step is shown below the <span
class="GUI">Model system</span> section. You can add steps in two ways: click
<span class="GUI">Add Step</span> to add a new default step, or click the
Duplicate button (two squares) at the top right of a step to duplicate the step
with all its settings.
</p>
<p>You can rearrange steps with the arrow buttons at the top right of the
steps. This makes it easy to duplicate an earlier step then move it down into
the desired location, and modify the settings.
</p>

<a name="features"></a> 
<h2>Multistage Simulation Workflow Panel Features</h2> 


<ul>
<li><a href="#feature1"><span class="GUI">Model system</span> section</a></li>
<li><a href="#feature2">Simulation step</a></li>
<li><a href="#feature3"><span class="GUI">Add Step</span> button</a></li>
<li><a href="#feature4"><span class="GUI">Add Steps from File</span> button</a></li>
<li><a href="#job_toolbar">Job toolbar</a></li>
<li><a href="#status_bar">Status bar</a></li>
</ul>

<dl>

<a name="feature1"></a>
<dt><span class="GUI">Model system</span> section</dt>
<dd>
<p>In this section, you select the model system that you will use for the
simulation. A valid model system must contain both the coordinates of the
particles and the force field parameters. A file of a valid model system
normally has the <code>.cms</code> extension. </p>

<p>There are two options on the option menu, and the tools in this
section depend on which option you choose.
</p>

<dl>
<dt><span class="GUI">Load from Workspace</span></dt>
<dd><p>Load the model system from the Workspace. The Workspace must contain a
model system that has already been prepared with the <span class="GUI">System
Builder</span> panel. 
When you choose this item, the <span
class="GUI">Load</span> button is displayed, which you click to load the model
system from the Workspace.
</p></dd>
<dt><span class="GUI">Import from file</span></dt>
<dd><p>Import the model system from a file. You can choose to import a model
system file (<code>.cms</code>) or a checkpoint file 
(<span class="GUI">.cpt</span>). </p>
<p>If you import a model system file, it  must contain a model
system that has already been prepared with the <span class="GUI">System
Setup</span> panel. When the file is imported, a message about the system is
displayed below the option menu. </p>
<p>If you import a checkpoint file, most of the panel controls are
unavailable. The purpose of the checkpoint file is to restart an 
interrupted simulation, so the parameters of the simulation cannot be
altered. You can change the total simulation time, and then start the job.
</p></dd>
</dl>
</dd>

<a name="feature2"></a>
<dt>Simulation step</dt>
<dd><p>Each simulation step has controls for a single step of the simulation.
</p>

<dl>

<dt>Step label</dt>
<dd><p>The label indicates the step number and the type of the step. It is
updated if the step type is changed or the step is moved. If the step settings
are hidden, the label gives a brief summary of the main step parameters.
</p></dd>

<dt>Step operation buttons</dt>
<dd><p>These buttons perform various display and ordering operations on the step.
They allow for easy duplication and rearrangement of steps.
</p>
<table border=0 cellpadding=5>
<tr>
<td><img src="../images/materials_science/plus1.png" />&nbsp;&nbsp;&nbsp;
<img src="../images/materials_science/minus1.png" />&nbsp;&nbsp;&nbsp;</td>
<td>Show or hide the simulation options. This is useful when
you have a number of steps and want to compare two separated steps, for example.
</td>
</tr>
<tr>
<td><img src="../images/materials_science/up1.png" />&nbsp;&nbsp;&nbsp;
<img src="../images/materials_science/down1.png" /></td>
<td>Move the step up or down one place in the workflow. 
</td>
</tr>
<tr>
<td><img src="../images/materials_science/copy1.png" /></td>
<td>Duplicate the step. This is useful for creating similar steps with
variations on the settings.
</td>
</tr>
<tr>
<td><img src="../images/materials_science/ex1.png" /></td>
<td>Delete the step.
</td>
</tr>
</table>

</dd>

<dt>Simulation type options</dt>
<dd><p>Select the type of simulation step, from <span
class="GUI"><span class="GUI">Minimization</span>, Molecular Dynamics</span>,
and <span class="GUI">Simulated Annealing</span>. When you select a step type,
the label is updated with the type, and the relevant settings are displayed
below these options. 
</p></dd>

<dt>Simulation options</dt>
<dd><p>Set options for the simulation step. The options depend on the simulation
type. They are the same as in the corresponding Desmond panels, except that the
relaxation options are not present. Links to the descriptions are given here:</p>
<ul>
<li><a href="../desmond/minimization_panel.html#simulation">Minimization</a></li>
<li><a href="../desmond/molecular_dynamics_panel.html#simulation">Molecular Dynamics</a></li>
<li><a href="../desmond/simulated_annealing_panel.html#simulation">Simulated Annealing</a></li>
</ul>
</dd>

</dl>

</dd>

<a name="feature3"></a>
<dt><span class="GUI">Append Step</span> button</dt>
<dd><p>Add a step to the end of the workflow. By default, the step is a
minimization step with the default minimization parameters. 
</p></dd>

<a name="feature4"></a>
<dt><span class="GUI">Append Steps from File</span> button</dt>
<dd><p>Add steps to the workflow from a previous simulation, by importing them
from a multisim MSJ file (<code>.msj</code>). Opens a file selector, in which
you can navigate to and open the file. 
The simulation must be one that was initiated from this panel, the 
<a href="../desmond/minimization_panel.html"><span class="GUI">Minimization</span>
panel</a> (<span class="GUI">Tasks &rarr; Minimization &rarr; Periodic Minimization</span>), the 
<a href="../desmond/molecular_dynamics_panel.html"><span class="GUI">Molecular
Dynamics</span> panel</a> (<span class="GUI">Tasks &rarr; Molecular Dynamics &rarr; Molecular Dynamics</span>), or the 
<a href="../desmond/simulated_annealing_panel.html"><span class="GUI">Simulated
Annealing</span> panel</a> (<span class="GUI">Tasks &rarr; Molecular Dynamics &rarr; Simulated Annealing</span>). 
Importing steps from other types of jobs is likely to cause failure, and a
warning is posted for any step that is not recognized by this panel.
</p></dd>

<a name="job_toolbar"></a>
<dt>Job toolbar</dt>
<dd><p>The Job toolbar is used to make settings for a job and to start it. </p>

<dl>
<dt><span class="GUI">Job name</span> text box</dt>
<dd><p>Enter a name for the job in this text box.
</p></dd>
<dt><span class="GUI">Settings</span> button menu</dt>
<dd><p>This button opens the <a href="../misc/job_settings.html"><span
class="GUI">Job Settings</span> dialog box</a>. The arrow to the right opens
a menu, from which you can make settings or perform actions that are related to
the job. </p>
<img src="../images/MaestroToolbarIcons/settings.png" />
<p>The menu items are described below.</p>
<ul>
<li><span class="GUI">Job Settings</span>&mdash;Make and save settings for the
incorporation of the job into the Maestro project, the job name, the host,
the distribution of subjobs, and any other application-specific job settings.
Opens the <span class="GUI">Job Settings</span> dialog box.</li>
<li><span class="GUI">Preferences</span>&mdash;Set general preferences for
running jobs. Opens the <span class="GUI">Preferences</span> panel at the <a
href="../maestro_menu/preferences.html#jobs_starting"><span class="GUI">Jobs - 
Starting</span> section</a>.</li>
<li><span class="GUI">Write</span>&mdash;Write the input files for the job but do not start it. 
The file names are based on the current job name, and the files are written to
a subdirectory of the current working directory that is named with the job
name.</li>
</ul>
</dd>

<dt><span class="GUI">Job status</span> button</dt>
<dd><p>This icon indicates when there are jobs running for the application that
belong to the current project. It starts spinning when the first job starts, and
stops when there are no more jobs running. If a job fails to start, it changes
to an exclamation point. 
</p>
<img src="../images/MaestroToolbarIcons/job_status.png" />
<p>
Clicking the button shows a small job status window that lists the job name and
status for all active jobs submitted from the current panel (for Jaguar and
MacroModel this means all jobs from any of the application panels). You can
double-click on a row to open the <a href="../misc/monitor_panel.html"><span
class="GUI">Monitor</span> panel</a> and monitor the job, or click the <span
class="GUI">Monitor</span> button to open the <span class="GUI">Monitor</span>
panel and close the job status window. The job status is updated while the
window is open. If a job finishes while the window is open, the job remains
displayed but with the new status.  The rows are colored according to the
status: yellow for submitted, green for launched, running, or finished, red for
incorporated, died, or killed.  Click anywhere outside the window to close it.
</p></dd>

<dt><span class="GUI">Run</span> button</dt>
<dd><p>Run the job with the current job settings.
</p></dd>
</dl>
</dd>


<a name="status_bar"></a>
<dt>Status bar</dt>
<dd><p>The status bar displays information about the current job settings for the
panel. This includes the job name, task name and task settings (if any), number
of subjobs (if any) and the host name and job incorporation setting. It also
displays a message for a short time when you start a new job.</p>
<p>The status bar also contains the <span class="GUI">Help</span> button, which
opens the help topic for the panel.</p>
<img src="../images/MaestroToolbarIcons/help.png" />
</dd>

</dl>

<a name="links"></a>
<h2>Related Topics</h2>
<ul>

<li><a href="disordered_system_builder.html">Disordered System Builder Panel</a></li>
<li><a href="../desmond/system_builder.html">Desmond &mdash; System Builder Panel</a></li>
<li><a href="../desmond/minimization_panel.html">Desmond &mdash; Minimization Panel</a></li>
<li><a href="../desmond/molecular_dynamics_panel.html">Desmond &mdash; Molecular Dynamics Panel</a></li>
<li><a href="../desmond/simulated_annealing_panel.html">Desmond &mdash; Simulated Annealing Panel</a></li>
<li><a href="../desmond/advanced_options_db.html">Desmond &mdash; Advanced Options Dialog Box</a></li>
</ul>
<hr />
<table width="100%">
<tr><td><p class="small"><a href="../support/legal_notice.html" target="LegalNoticeWindow">Legal Notice</a></p></td>
<td>
<table align="right">
<tr><td><p class="small">
File: materials_science/multistage_simulation_workflow.html<br />
Last updated: 02 May 2014
</p></td></tr>
</table>
</td></tr>
</table>
</body>
</html>
