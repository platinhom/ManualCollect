<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<link rel="stylesheet" href="../support/help.css" charset="ISO-8859-1" type="text/css" />
<title>MacroModel &mdash; Substructure Tab</title>
</head>
<body>
<table bgcolor="#dcdcdc" border="0" cellspacing="0" width="100%">
<tr><td>
<p><img src="../images/common/schrodinger_logo.png" align="left" alt=""
 border="0" hspace="5" vspace="5" /></p>
</td></tr>
<tr><td>
<h1 class="title">MacroModel &mdash; Substructure Tab</h1>
</td></tr>
</table>

<ul>
<li><a href="#summary">Summary</a></li>
<li><a href="#features"><span class="GUI">Substructure</span> Tab Features</a></li>
<li><a href="#links">Related Topics</a></li>
</ul>

<a name="summary"></a>
<h2>Summary</h2>

<p>The <span class="GUI">Substructure</span> tab, located on many of the
MacroModel panels, allows you to define a substructure of freely moving atoms
and any &quot;shells&quot; of constrained or frozen atoms that surround it.</p>

<p>In calculations involving large systems of atoms often only a portion of the
system needs to be fully modeled.  For instance, often it is sufficient to model
only the immediate environment around the active site of a receptor-ligand
complex.  The substructure facility provides an effective mechanism for focusing
the calculation on the key portions of such systems.</p>

<p>Substructure atoms are those atoms that are modeled in the normal manner,
that is they move freely and interact with other atoms.  To provide an effective
environment for the substructure atoms, you can define shells of restrained or
even immobile (frozen) atoms.  These shells can be specified in a number of
ways.  A common method is to select those atoms that lie within a given distance
from substructure atoms or from those atoms in previously defined shells.  A
typical setup consists of a shell of constrained atoms (radius 5-8&nbsp;&Aring;)
around the substructure and then a shell of frozen atoms (radius
5-8&nbsp;&Aring;) around the first shell. If substructures and shells are used
in this way, any atoms that are not either in the substructure or in the shells
are completely ignored in a substructure calculation. By ignoring such atoms and
calculating only certain types of interactions amongst the shell atoms, you can
dramatically reduce the required memory and computing time.</p>

<p><b> Note:</b> If only shell atoms are defined and no substructure atoms
are defined, all unspecified atoms are treated as substructure atoms and thus fully modeled.</p>

<p>It is possible to read in an existing substructure definition file
and display the resulting substructure in this panel. However, note that substructure files only
store the numbers of the atoms in the substructure or shells (with the
restraining force constant),  not the rules used to identify to which shell they
belong. In any particular shell, atoms are just listed in <span
class="GUI">Additional atoms for shell</span> with a  shell radius of 0, even if
the shells were originally defined using distances. However, if substructure
definition files are written in ASL format, the ASL syntax for the shell is stored.</p>


<a name="features"></a> 
<h2>Substructure Tab Features</h2> 


<ul>
<li><a href="#feature1">Substructure Definition Section</a></li>
<li><a href="#feature2">Shells Definition Section</a></li>
<li><a href="#feature3">Input and Output Section</a></li>
<li><a href="#feature4">Atom count</a></li>
</ul>

<a name="feature1"></a>
<h3>Substructure Definition Section</h3>

<dl>

<a name="feature1.1"></a>
<dt><span class="GUI">Freely moving atoms (substructure)</span> picking controls</dt>
<dd><p>Use the standard <a href="../misc/picking_controls.html">picking controls</a>
to define the freely moving atoms for the substructure. Normal
energy calculations can be performed on the substructure atoms.  </p></dd>

<a name="feature1.2"></a>
<dt><span class="GUI">Expand to atoms within radius of</span> text box</dt>
<dd><p>Specify a radius for expanding the substructure. The substructure includes all atoms
within the specified radius of the atom set defined in <span class="GUI">Atoms for substructure</span>.</p></dd>

<a name="feature1.3"></a>
<dt><span class="GUI">Complete residues</span> option</dt>
<dd><p>Select to expand the substructure to include residue boundaries,
thereby ensuring that only complete residues are included in the
substructure. This feature is often used when modeling biopolymers.</p></dd>

<a name="feature1.4"></a>
<dt><span class="GUI">Calculate constrained-atom mutual interactions</span>
option</dt> 
<dd><p>Select this option to calculate mutual interactions between constrained
atoms (both fixed and frozen). These terms are not included in the total energy,
which affects energy comparisons. 
</p></dd>


</dl>

<a name="feature2"></a>
<h3>Shell Definition Section</h3>

<p>Once the substructure has been defined, it is normal to define
&quot;shells&quot; of atoms around the substructure that are to be constrained or
frozen. To define a new shell around the substructure, click
<span class="GUI">New</span> below the <span class="GUI">Shells</span> list,
then select the atoms in the <span class="GUI">Selected shell</span> section.</p>

<ul>
<li><a href="#feature2.1"><span class="GUI">Shells (constrained and frozen
atoms)</span> list</a></li>
<li><a href="#feature2.2"><span class="GUI">New</span> button</a></li>
<li><a href="#feature2.3"><span class="GUI">Delete</span> button</a></li>
<li><a href="#feature2.4"><span class="GUI">Radius</span> text box</a></li>
<li><a href="#feature2.5"><span class="GUI">Complete residues</span> option</a></li>
<li><a href="#feature2.6"><span class="GUI">Force constant</span> text box</a></li>
<li><a href="#feature2.7"><span class="GUI">Freeze atoms</span> option</a></li>
<li><a href="#feature2.8"><span class="GUI">Additional atoms for shell</span> section</a></li>
</ul>

<dl>
<a name="feature2.1"></a>
<dt><span class="GUI">Shells (constrained and frozen atoms)</span> list</dt>

<dd><p>Lists the defined shells, numbered sequentially. To add a shell, click <span
class="GUI">New</span> below the list, and use the controls in the <span
class="GUI">Selected shell</span> section to specify the shell.  When you select
a shell in the list, the shell definition is displayed using the controls in the
<span class="GUI">Selected shell</span> section.</p>
</dd>

<a name="feature2.2"></a>
<dt><span class="GUI">New</span> button</dt>
<dd><p>Click to create a new shell. The shell appears in the <span
class="GUI">Shells</span> list. You can then use the controls in the <span
class="GUI">Selected shell</span> section to select atoms in the shell.</p></dd>

<a name="feature2.3"></a>
<dt><span class="GUI">Delete</span> button</dt>
<dd><p>Delete the shell that is selected in the <span class="GUI">Shells</span> list.
</p></dd>

<a name="feature2.4"></a>
<dt><span class="GUI">Radius</span></dt>
<dd><p>Specify a radius for the currently selected shell. All atoms within this
distance from atoms in the substructure or in lower-numbered shells are selected. </p></dd>

<a name="feature2.5"></a>
<dt><span class="GUI">Complete residues</span></dt>
<dd><p>Click to automatically encompass complete residues in the selected
shell. In biopolymers, a common practice is to select shell boundaries so that they
coincide with complete residues. </p></dd>

<a name="feature2.6"></a>
<dt><span class="GUI">Force constant</span></dt>
<dd><p>Specify a force constant, if the atoms in the selected shell are to be
constrained with harmonic positional constraints. </p></dd>

<a name="feature2.7"></a>
<dt><span class="GUI">Freeze atoms</span></dt>
<dd><p>Click to freeze, rather than constrain, the atoms in the selected shell. Frozen
atoms have no forces acting on them during minimization and dynamics procedures (and hence
do not move from their starting positions), however, they do interact with other
(moving) atoms </p></dd>

<a name="feature2.8"></a>
<dt><span class="GUI">Additional atoms for shell</span></dt>
<dd><p>Use the standard <a href="../misc/picking_controls.html">picking controls</a>
to define atoms to add to the currently selected shell. </p></dd>
</dl>

<a name="feature3"></a>
<h3>Input and Output Section</h3>

<p>In this section you can read and write substructure files, which include the
substructure and the shell definitions. </p>

<dl>

<a name="feature3.0"></a>
<dt><span class="GUI">Read .sbc File </span></dt>
<dd><p>Click to import substructure and shell definitions from an existing
<tt>.sbc</tt> file. Opens a file selector so that you can navigate to and select
the file.</p></dd>

<a name="feature3.1"></a>
<dt><span class="GUI">Write .sbc File </span></dt>
<dd><p>Click to save substructure and shell definitions for future use. Enter
the desired filename for the <tt>.sbc</tt> file in the dialog box that opens </p></dd>

<a name="feature3.2"></a>
<dt><span class="GUI">Write ASL formatted .sbc file</span>
option</dt>
<dd><p>Select this option to write substructures in ASL format (with
<code>ASL1</code> and <code>ASL2</code> opcodes) to the
<tt>.sbc</tt> file. </p></dd>

<a name="feature3.3"></a>
<dt><span class="GUI">Write absolute atom coordinates</span> option</dt>
<dd><p>Select this option to write the absolute atom coordinates to the
<tt>.sbc</tt> file. By default, zeroes are written, meaning that the
coordinates from the structure are used for the constraints rather than the
coordinates in the <tt>.sbc</tt> file. </p></dd>

</dl>

<a name="feature4"></a>
<h3>Atom Count</h3>
<p>Below the input and output section is a count of the number of substructure
atoms, the number of fixed atoms, and the number of frozen atoms. This count is
updated when you add atoms to the substructure or shells.
</p>


<a name="links"></a>
<h2>Related Topics</h2>
<ul>

<li><a href="potential_tab.html">MacroModel &mdash; Potential Tab</a></li>
<li><a href="../misc/asl.html">Atom Specification Language (ASL)</a></li>

</ul>
<hr />
<table width="100%">
<tr><td><p class="small"><a href="../support/legal_notice.html" target="LegalNoticeWindow">Legal Notice</a></p></td>
<td>
<table align="right">
<tr><td><p class="small">
File: macromodel/substructure.html<br />
Last updated: 16 Jun 2014
</p></td></tr>
</table>
</td></tr>
</table>
</body>
</html>
