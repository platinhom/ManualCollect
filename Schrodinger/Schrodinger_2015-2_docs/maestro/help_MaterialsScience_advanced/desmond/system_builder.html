<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<link rel="stylesheet" href="../support/help.css" charset="ISO-8859-1" type="text/css" />
<title>System Builder Panel</title>
</head>
<body>
<table bgcolor="#dcdcdc" border="0" cellspacing="0" width="100%">
<tr><td>
<p><img src="../images/common/schrodinger_logo.png" align="left" alt=""
 border="0" hspace="5" vspace="5" /></p>
</td></tr>
<tr><td>
<h1 class="title">System Builder Panel</h1>
</td></tr>
</table>

<ul>
<li><a href="#summary">Summary</a></li>
<li><a href="#opening">Opening the <span class="GUI">System Builder</span> Panel</a></li>
<li><a href="#using">Using the <span class="GUI">System Builder</span> Panel</a></li>
<li><a href="#features"><span class="GUI">System Builder</span> Panel Features</a></li>
<li><a href="#links">Related Topics</a></li>
</ul>

<a name="summary"></a>
<h2>Summary</h2>

<p>The <span class="GUI">System Builder</span> panel allows you to set up a
biological system consisting of proteins, ligands, explicit solvent, membrane,
and counter ions, so that you can perform simulations on the system with
Desmond.
</p>

<a name="opening"></a>
<h2>Opening the System Builder Panel</h2>

<p>To open the <span class="GUI">System Builder</span> panel, you can:</p>
<ul>
<li><p>Choose <span class="GUI">Applications &rarr; Desmond &rarr; System Builder</span> 
in the main window.
</p></li>
<li><p>Choose <span class="GUI">Applications &rarr; More Applications &rarr; Desmond &rarr; System Builder</span> 
in the main window.
</p></li>
</ul>


<a name="using"></a> 
<h2>Using the System Builder Panel</h2> 


<p>Performing simulations on aqueous biological systems requires preparation of
biological molecules such as proteins and ligands, addition of counter ions to
neutralize the system, selection of simulation box size, solvation of the
solutes using explicit solvent molecules, and alignment of proteins to a
membrane bilayer (if used). This procedure is often tedious and needs much
manual work. It is even more difficult to add counter ions in certain positions
to avoid their artificial interference on the actives sites of interest. The
<span class="GUI">System Builder</span> automates this process and significantly
reduces the effort required. Once the solute biological molecules are prepared,
the <span class="GUI">System Builder</span> performs the other tasks listed. 
</p>
<p>
Preparation of proteins should be performed with the 
<a href="../workflows/protein_preparation.html">Protein Preparation Wizard</a>.
Preparation of ligands or other small molecules should be performed with <a href="../ligprep/ligprep.html">LigPrep</a>.
</p>

<p>The instructions below take you through the simplest setup procedures. Before
you use them, ensure that you have imported the protein and ligand structures
into Maestro, and displayed them in the Workspace.
</p>

<p><span class="HB">To set up the solvent:</span></p>

<ol>
<li><p>Select <span class="GUI">Predefined</span> for the 
<span class="GUI">Solvent model</span> option,
and choose a model from the option menu.</p></li>
<li><p>Choose the box shape.</p></li>
<li><p>Select a box size calculation method.</p></li>
<li><p>Enter buffer distances or side lengths in the available text boxes.</p></li>
<li><p>Enter angles if you selected <span class="GUI">Triclinic</span> for the
box shape.</p></li> 
<li><p>If you want the minimum box volume, click <span
class="GUI">Find</span>.</p></li>
</ol>

<p><span class="HB">To add ions:</span></p> 
<ol>
<li><p>In the <span class="GUI">Ions</span> tab, choose an option for the
addition of ions.</p></li> 
<li><p>If you selected <span class="GUI">Add</span>, enter the number of ions
to add in the text box.</p></li>
<li><p>Choose an ion type from the option menu. 
</p></li>
<li><p>If the solvent is intended to be a salt solution, select <span
class="GUI">Add salt</span>.
</p></li>
<li><p>
Enter the desired salt concentration in the <span class="GUI">Salt
concentration</span> text box.</p></li>  
<li><p>
Choose positive and negative ion types from the <span class="GUI">Salt
positive ion</span> and <span class="GUI">Salt negative ion</span> option menus,
</p></li>
</ol>

<p><span class="HB">To add a membrane:</span></p> 
<ol>
<li><p>Click <span class="GUI">Set Up Membrane</span> in the 
<span class="GUI">Solvation</span> tab.</p></li>
<li><p>In the <span class="GUI">Desmond - Set Up Membrane</span> panel, select 
<span class="GUI">Predefined</span> for the membrane model, and choose 
a membrane type from the option menu.</p></li>
<li><p>Click <span class="GUI">Position Membrane</span></p></li>
<li><p>Select <span class="GUI">Adjust membrane position</span> and adjust the
orientation of the solutes in the Workspace.</p></li> 
<li><p>Click <span class="GUI">OK</span>.</p></li>
</ol>

<p>When you have finished making all the desired settings, choose <span
class="GUI">Job Settings</span> from the <span class="GUI">Settings</span>
button menu,</p> 
<img src="../images/MaestroToolbarIcons/settings.png" />
<p>set the job parameters in the <span class="GUI">Job Settings</span> dialog
box, and click <span class="GUI">Run</span> to run the job.
</p> 
<p>The resulting model system can be added to the project as a new entry if you
choose <span class="GUI">Append new entries</span>. Otherwise, the model system
is written to your working directory.</p>
<p>Note that alternate coordinates are deleted when the system is built. 
</p>

<p><span class="HB">To edit and rebuild a model system:</span>
</p>
<ol>
<li><p>Display the entry for the full model system in the Workspace.
</p></li>
<li><p>Make the desired changes to the entry.
</p></li>
<li><p>Choose <span class="GUI">Tasks &rarr; Molecular Dynamics &rarr; Model
System Regeneration</span> or <span class="GUI">Applications &rarr; Desmond
&rarr; Model System Regeneration</span>.
</p></li>
</ol>

<a name="features"></a> 
<h2>System Builder Panel Features</h2> 


<ul>
<li><a href="#feature1">Solvation tab</a></li>
<li><a href="#feature3">Ions tab</a></li>
<li><a href="#job_toolbar">Job toolbar</a></li>
<li><a href="#status_bar">Status bar</a></li>
</ul>


<a name="feature1"></a>
<h3>Solvation tab</h3>
<p>In this tab you set up the solvent and the membrane, and define the box used
for the periodic boundary conditions.
</p>

<dl>

<dt><span class="GUI">Set Up Membrane</span> button</dt>
<dd><p>Opens the <a href="set_up_membrane.html"><span class="GUI">Desmond - Set Up
Membrane</span> dialog box</a>, in which you can set up a membrane.
</p></dd>

<dt><span class="GUI">Delete Membrane</span> button</dt>
<dd><p>Delete the membrane from the system, if one has been defined.
</p></dd>

<dt><span class="GUI">Solvent model</span> options</dt>
<dd><p>Specify the solvent to use. You can choose from a set of predefined
solvent models, or provide a custom solvent model.</p>

<ul>
<li><span class="GUI">None</span>&mdash;Do not use a solvent. This allows you to
run  simulations for a pure liquid, for example, or in vacuum (low-density gas).</li>
<li><span class="GUI">Predefined</span>&mdash;Use one of the predefined
solvent models, which you can select from the option menu. The available models
are four water models, <span class="GUI">SPC</span>, <span
class="GUI">TIP3P</span>, <span class="GUI">TIP4P</span>, and <span
class="GUI">TIP4PEW</span>, and three organic solvents, <span
class="GUI">DMSO</span>, <span class="GUI">METHANOL</span>, and 
<span class="GUI">OCTANOL</span>.</li> 
<li><span class="GUI">Custom</span>&mdash;Import a custom solvent system from
file. Enter the solvent system file name in the text box, or click <span
class="GUI">Browse</span>, and navigate to the solvent system file in the file
selector that is displayed. For information on creating a custom solvent, see
<a href="http://www.schrodinger.com/kb/1006"
target="external">http://www.schrodinger.com/kb/1006</a>.</li> 
</ul>
</dd>


<dt><span class="GUI">Boundary conditions</span> section</dt>
<dd><p>In this section you set up the parameters of the periodic box used for
the simulation.
</p>

<dl>
<dt><span class="GUI">Box shape</span> option menu</dt>
<dd><p>Select the box shape. Three basic shapes are provided: 
<span class="GUI">Cubic</span>, <span class="GUI">Orthorhombic</span>, 
and <span class="GUI">Triclinic</span>. 
As special cases of the triclinic box shape, three other shapes are supported:
<span class="GUI">Truncated octahedron</span>, <span class="GUI">Rhombic
dodecahedron xy-square</span>, and <span class="GUI">Rhombic dodecahedron
xy-hexagon</span>. The default shape is orthorhombic.
</p></dd>
 
<dt><span class="GUI">Box size calculation method</span> options</dt>
<dd><p>Specify the box boundary either in terms of a buffer region
around the solute or a specified size.</p>
<ul>
<li><span class="GUI">Buffer</span>&mdash;The simulation box
size is calculated by using the given buffer distance between the solute
structures and the simulation box boundary.</li>
<li><span class="GUI">Absolute size</span>&mdash;Specify the lengths
of the sides of the simulation box size (and angles if necessary).</li>
</ul>
</dd>

<dt><span class="GUI">Distances</span> or <span class="GUI">Size</span> text
boxes.</dt>
<dd><p>Set the buffer distances or side lengths, in angstroms, in these text
boxes. The label depends on the choice of boundary condition. The available text 
boxes depend on the box shape. For the <span class="GUI">Cubic</span>, 
<span class="GUI">Truncated octahedron</span>, <span class="GUI">Rhombic
dodecahedron xy-square</span>, and <span class="GUI">Rhombic dodecahedron
xy-hexagon</span> box shapes, only the text box for the <span
class="GUI">a</span> axis is available.</p></dd>

<dt><span class="GUI">Angles</span> text boxes</dt>
<dd><p>Specify the alpha, beta, and gamma angles for the box. This option is
only active if you selected <span class="GUI">Triclinic</span> box
shape.</p></dd>

<dt><span class="GUI">Box volume</span> text box</dt>
<dd><p>This noneditable text box displays the volume of the boundary box.
</p></dd>

<dt><span class="GUI">Calculate</span> button</dt>
<dd><p>Calculate the volume of the box of the selected shape that encompasses
the solutes in their current orientation. The volume is displayed in the
<span class="GUI">Resulting box volume</span> text box. 
</p></dd>

<dt><span class="GUI">Minimize Volume</span> button</dt>
<dd><p>Find the orientation of the solutes that has the minimum box volume, and
reorient the solutes.
</p></dd>

<dt><span class="GUI">Show boundary box</span> option</dt>
<dd><p>Select this option to display the boundary box for the solvent.
Available for all except truncated octahedron box shapes.</p></dd> 
</dl>
</dd>

<dt><span class="GUI">Use custom charges</span> section </dt>
<dd><p>Enable the use of custom partial atomic charges for selected atoms,
rather than the partial charges supplied with the force field. Selecting
this option makes the controls in this section available.
</p>

<dl>
<dt><span class="GUI">Do not use</span> option</dt>
<dd><p>Select this option to use the standard charges from the force field.
</p></dd>

<dt><span class="GUI">Partial charges from structure</span> option</dt>
<dd><p>Use the partial charges in the input structure.  
</p></dd>

<dt><span class="GUI">Custom</span> option and text box</dt>
<dd><p>Use the property name given in the text box to define the custom
charges. The property name is the &quot;internal&quot; name, which should start
with <code>r_</code>. For example, the property <code>r_j_ESP_Charges</code>
selects Jaguar-generated ESP charges. 
</p></dd>

<dt><span class="GUI">Apply to</span> text box and <span
class="GUI">Select</span> button</dt> 
<dd><p>This text box specifies the ASL expression for the atoms for which custom
charges are to be used. There is no default. 
Click <span class="GUI">Select</span> to open the 
<a href="../misc/asd.html"><span class="GUI">Atom Selection</span> dialog
box</a> and select the atoms to use. For a property where only the relevant
atoms have values, you can enter the entire range of values (which is displayed
in the center of the tab) to select those atoms. Atoms that do not have a value
for the property will not be selected. 
</p></dd>
</dl>
</dd>

<dt><span class="GUI">Force field</span> option menu</dt>
<dd><p>Choose the force field to use in the simulations. 
The default is <span class="GUI">OPLS_2005</span>, unless you set the default
in the <a href="../maestro_menu/preferences.html#jobs_forcefield"><span
class="GUI">Preferences</span> panel</a>.
</p></dd>


<a name="custom_ff"></a>
<dt><span class="GUI">Customize</span> button</dt>
<dd><p>Customize the torsions in the OPLS3 force field for a set of molecules
by refitting to quantum-mechanical calculations. 
Opens the <a href="../force_field/force_field_builder.html"><span 
class="GUI">Force Field Builder</span> panel</a>. Only available when you choose
OPLS3 from the <span class="GUI">Force field</span> option menu.
</p></dd>

<a name="use_custom_ff"></a>
<dt><span class="GUI">Use customized version</span> option</dt>
<dd><p>Use your customized version of the OPLS3 force field, rather than the
standard version in the distribution. Only available when you choose OPLS3
from the <span class="GUI">Force field</span> option menu. This option is set by
default to the value of the <span class="GUI">Use custom parameters by
default</span> option in the <span class="GUI">Preferences</span> panel, under  
<a href="../maestro_menu/preferences.html#jobs_forcefield"><span
class="GUI">Jobs - Force field</span></a>.  
</p></dd>


</dl>

<a name="feature3"></a>
<h3>Ions tab</h3>
<p>In this tab you select ions to use for counter ions and as a salt solution,
and add these ions to the system. This tab has three sections: 
<span class="GUI">Excluded region</span>, <span class="GUI">Ion
placement</span>, and <span class="GUI">Add salt</span>.
</p>

<dl>

<dt><span class="GUI">Excluded region</span> section</dt>
<dd><p>In this section you define a region in which ions (both counter and salt)
will <i>not</i> be placed. The region is defined in terms of a buffer zone
around an atom selection. 
</p>

<dl>
<dt><span class="GUI">Exclude ion and salt placement within</span> text box</dt>
<dd><p>In this text box, enter the distance from the selected atoms that
define the region from which ions will be excluded.
</p></dd>
<dt><span class="GUI">Select</span> button</dt>
<dd><p>Click <span class="GUI">Select</span> to select the atoms that will be
used to define the exclusion region. Opens the <a href="../misc/asd.html"><span
class="GUI">Atom Selection</span> dialog box</a> so that you can select the
atoms. The ASL expression for the atom selection is displayed in the noneditable
text box to the left.
</p></dd>
<dt><span class="GUI">Clear</span> button</dt>
<dd><p> Click <span class="GUI">Clear</span> to clear the ASL expression for the
selected atoms.
</p></dd>
</dl>

</dd>


<dt><span class="GUI">Ion placement</span> section</dt>
<dd><p>In this section, you can set up the placement of ions. Automatic
placement is done by selecting one of the options for adding counter ions;
manual placement is done in the <span class="GUI">Advanced ion placement</span>
dialog box. Manual placement is done before automatic placement. 
</p>

<dl>
<dt>Ion placement options</dt>
<dd><p>Select one of these options for ion placement.</p>
<ul>
<li><span class="GUI">None</span>&mdash;Do not add counter ions.</li>
<li><span class="GUI">Neutralize by adding</span>&mdash;Neutralize the net
charge of the system automatically by adding ions. You can choose the ion type
from the option menu. The number of ions is given to the left of the option
menu. Click <span class="GUI">Recalculate</span> to recalculate the number of
ions.  Neutralization is done after manual placement of ions.</li>  
<li><span class="GUI">Add</span>&mdash;Enter the number of ions to add in the
text box and choose the ion type from the option menu. This number includes any
manually placed ions; the remainder (if any) are automatically placed. </li>
</ul>
</dd>

<dt><span class="GUI">Advanced ion placement</span> button</dt>
<dd><p>Opens the <a href="advanced_ion_placement.html"><span
class="GUI">Advanced ion placement</span> dialog box</a>, in which you can
control where the ions are placed. Automatic ion placement is done after
placement of ions using this dialog box. 
</p></dd>
</dl>
</dd>

<dt><span class="GUI">Add salt</span> option</dt> 
<dd><p>Select this option to add salt to the solution.</p></dd>

<dt><span class="GUI">Salt concentration</span> text box</dt>
<dd><p>Enter the salt concentration in mol dm<sup>-3</sup>. This value is used
to calculate the number of ions in the system.</p></dd>

<dt><span class="GUI">Salt positive ion</span> and <span class="GUI">Salt
negative ion </span>option menus</dt> 
<dd><p>Choose positive and negative ions from these option menus to define the
salt to be used to convert the pure solvent to a salt solution.</p></dd>
</dl>

<a name="job_toolbar"></a>
<h3>Job toolbar</h3>
<p>The Job toolbar is used to make settings for a job and to start it. </p>

<dl>
<dt><span class="GUI">Job name</span> text box</dt>
<dd><p>Enter a name for the job in this text box.
</p></dd>
<dt><span class="GUI">Settings</span> button menu</dt>
<dd><p>This button opens the <a href="../misc/job_settings.html"><span
class="GUI">Job Settings</span> dialog box</a>. The arrow to the right opens
a menu, from which you can make settings or perform actions that are related to
the job. </p>
<img src="../images/MaestroToolbarIcons/settings.png" />
<p>The menu items are described below.</p>
<ul>
<li><span class="GUI">Job Settings</span>&mdash;Make and save settings for the
incorporation of the job into the Maestro project, the job name, the host,
the distribution of subjobs, and any other application-specific job settings.
Opens the <span class="GUI">Job Settings</span> dialog box.</li>
<li><span class="GUI">Preferences</span>&mdash;Set general preferences for
running jobs. Opens the <span class="GUI">Preferences</span> panel at the <a
href="../maestro_menu/preferences.html#jobs_starting"><span class="GUI">Jobs - 
Starting</span> section</a>.</li>
<li><span class="GUI">Write</span>&mdash;Write the input files for the job but do not start it. 
The file names are based on the current job name, and the files are written to
a subdirectory of the current working directory that is named with the job
name.</li>
<li><span class="GUI">Reset Panel</span>&mdash;Reset the values in the panel to 
their defaults.</li>
</ul>
</dd>

<dt><span class="GUI">Job status</span> button</dt>
<dd><p>This icon indicates when there are jobs running for the application that
belong to the current project. It starts spinning when the first job starts, and
stops when there are no more jobs running. If a job fails to start, it changes
to an exclamation point. 
</p>
<img src="../images/MaestroToolbarIcons/job_status.png" />
<p>
Clicking the button shows a small job status window that lists the job name and
status for all active jobs submitted from the current panel (for Jaguar and
MacroModel this means all jobs from any of the application panels). You can
double-click on a row to open the <a href="../misc/monitor_panel.html"><span
class="GUI">Monitor</span> panel</a> and monitor the job, or click the <span
class="GUI">Monitor</span> button to open the <span class="GUI">Monitor</span>
panel and close the job status window. The job status is updated while the
window is open. If a job finishes while the window is open, the job remains
displayed but with the new status.  The rows are colored according to the
status: yellow for submitted, green for launched, running, or finished, red for
incorporated, died, or killed.  Click anywhere outside the window to close it.
</p></dd>

<dt><span class="GUI">Run</span> button</dt>
<dd><p>Run the job with the current job settings.
</p></dd>
</dl>


<a name="status_bar"></a>
<h3>Status bar</h3>
<p>The status bar displays information about the current job settings for the
panel. This includes the job name, task name and task settings (if any), number
of subjobs (if any) and the host name and job incorporation setting. It also
displays a message for a short time when you start a new job.</p>
<p>The status bar also contains the <span class="GUI">Help</span> button, which
opens the help topic for the panel.</p>
<img src="../images/MaestroToolbarIcons/help.png" />



<a name="links"></a>
<h2>Related Topics</h2>
<ul>

<li><a href="minimization_panel.html">Minimization Panel</a></li>
<li><a href="molecular_dynamics_panel.html">Molecular Dynamics Panel</a></li>
<li><a href="simulated_annealing_panel.html">Simulated Annealing Panel</a></li>
<li><a href="replica_exchange_panel.html">Replica Exchange Panel</a></li>
</ul>
<hr />
<table width="100%">
<tr><td><p class="small"><a href="../support/legal_notice.html" target="LegalNoticeWindow">Legal Notice</a></p></td>
<td>
<table align="right">
<tr><td><p class="small">
File: desmond/system_builder.html<br />
Last updated: 06 May 2015
</p></td></tr>
</table>
</td></tr>
</table>
</body>
</html>
