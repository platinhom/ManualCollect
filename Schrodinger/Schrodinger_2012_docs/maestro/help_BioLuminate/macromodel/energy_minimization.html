!<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
<meta name="categories" content="tasks_menu">
<meta name="product" content="MacroModel">
<title>MacroModel &mdash; Minimization Panel</title>
<link rel="stylesheet" type="text/css" href="../support/help.css">
</head>
<script type="text/javascript">
function setTitle()
{
top.document.title = document.title + " - " + parent.parent.WINDOW_TITLE;
}
</script>
<body onload="setTitle();">
<table border=0 cellspacing=0 bgcolor=#dcdcdc width=100%>
<tr><td>
<p><img src="../support/schrodinger_logo.gif" border=0 alt="" align="left" vspace=5 hspace=5 /></p>
</td></tr>
<tr><td>
<h1 class=title><span class="macromodel">MacroModel &mdash; Minimization Panel</span></h1>
</td></tr>
</table>

<ul>
<li><a href="#summary">Summary</a></li>
<li><a href="#opening">Opening the Minimization Panel</a></li>
<li><a href="#features">Minimization Panel Features</a></li>
<li><a href="#mini">Mini Tab Features</a></li>
<li><a href="#links">Related Topics</a></li>
</ul>

<a name="links"></a>
<h2>Summary</h2>
<p>The <span class="GUI">Minimization</span> panel is used to perform
energy minimization calculations on structures in the Workspace or entries in
the Project Table.</p>

<a name="opening"></a>
<h2>Opening the Minimization Panel</h2>

<p>To open the <span class="GUI">Minimization</span> panel:</p>
<ul>
<li>Choose <span class="GUI">Tasks &rarr; Minimization</span>.</li>
</ul>


<a name="features"></a>
<h2>Minimization Panel Features</h2>
<p>MacroModel panels allow you to choose structures from either the Workspace or
the Project Table (see <a href="energy_overview.html">Energy Overview</a>
for details). The <span class="GUI">Minimization</span> panel contains four tabs.
For descriptions of the controls in the first three tabs, see
<a href="potential_tab.html"><span class="GUI">Potential</span></a>,
<a href="constraints_tab.html"><span class="GUI">Constraints</span></a>, and
<a href="substructure.html"><span class="GUI">Substructure</span></a>. 
The fourth tab, <span class="GUI">Mini</span>, contains the controls that are
directly related to energy minimization. They are described below. Once you have
finished configuring the settings on the panel, you can click <a
href="../misc/job_start_db.html"><span class="GUI">Start</span></a>
to start the job or click <span class="GUI">Write</span> to write the files
without starting the job (see <a href="energy_overview.html">Energy Overview</a>
for details).</p>

<a name="mini"></a>
<h2>Mini Tab Features</h2>
<p>The <span class="GUI">Mini</span> tab, located on most of the MacroModel
energy panels, allows you to set parameters for energy minimization calculations. </p>
<p>
<ul>
<li><a href="#mini1"><span class="GUI">Method</span></a></li>
<li><a href="#mini2"><span class="GUI">Max Iterations</span></a></li>
<li><a href="#mini3"><span class="GUI">Converge On</span></a></li>
<li><a href="#mini4"><span class="GUI">Convergence Threshold</span></a></li>
</ul>
<dl>
<a name="mini1"></a>
<dt><span class="GUI">Method</span></dt>
<dd><p>Select a minimization method: <p>
<ul>
<li><a href="#mini1.1"><span class="GUI">PRCG</span> (Polak-Ribier Conjugate Gradient)</a></li>
<li><a href="#mini1.2"><span class="GUI">TNCG</span> (Truncated Newton Conjugate Gradient)</a></li>
<li><a href="#mini1.3"><span class="GUI">OSVM</span> (Oren-Spedicato Variable Metric)</a></li>
<li><a href="#mini1.4"><span class="GUI">SD</span> (Steepest Descent)</a></li>
<li><a href="#mini1.5"><span class="GUI">FMNR</span> (Full Matrix Newton Raphson)</a></li>
<li><a href="#mini1.6"><span class="GUI">LBFGS</span> (Low-memory Broyden-Fletcher-Goldfarb-Shanno)</a></li>
<li><a href="#mini1.6"><span class="GUI">Optimal</span></a></li>
</ul>
<dl>
<a name="mini1.1"></a>
<dt><span class="GUI">PRCG</span> (Polak-Ribier Conjugate Gradient):</dt>
<dd><p>This is a conjugate gradient minimization scheme that uses the
Polak-Ribiere first derivative method with restarts every 3N iterations.
This is the best general method for energy minimization, but it should not
be used to find transition states. The MacroModel (the computational component
of MacroModel) code for carrying out this method is highly vectorized for
efficient operation on vector hardware.</p>
<p>
REFERENCE: E. Polak &amp; G. Ribiere, Revenue Francaise Informat.
Recherche Operationelle, 16, 35 (1969) </p></dd>

<a name="mini1.2"></a>
<dt><span class="GUI">TNCG</span> (Truncated Newton Conjugate Gradient):
</dt>
<dd><p>TNCG uses second derivatives and line searching, and is highly
efficient for producing very low gradient structures. It generally
converges in one tenth the number of iterations necessary for a PRCG, but
each iteration takes more time. Often FMNR re-minimization of TNCG
structures gives the lowest final gradients.</p>
<p>
REFERENCE: Ponder, J. W.; Richards, F. M. <i>J. Comp. Chem.</i> <b>1987
</b>, <i>8</i>, 1016. </p></dd>

<a name="mini1.3"></a>
<dt><span class="GUI">OSVM</span> (Oren-Spedicato Variable Metric):</dt>
<dd><p>This is a variable metric minimization that uses the Oren-Spedicato
modification of the Fletcher-Powell quasi-Newton method. Convergence to
saddle points is possible. Typical convergence occurs in 3N - 6N
iterations but note that iteration speed is relatively slow. OSVM is not
recommended for structures with poor starting geometries.</p>
<p>
REFERENCE: S.S. Oren and E. Spedicato, <i>Mathematical Programming</i>, 
<b>1976</b>, <i>10</i>, 70. </p></dd>

<a name="mini1.4"></a>
<dt><span class="GUI">SD</span> (Steepest Descent):</dt>
<dd><p>This is a steepest descent minimization method. 
<span class="GUI">SD</span> should not be
used to find saddle points, and convergence is poor towards the end of
minimization. This is a good method for starting geometries that are far
from the minimum, but a switch to another method is recommended when
derivatives fall below 10 kJ/A or so. SD is one of the least efficient methods.
PRCG is usually a better choice.</p></dd>

<a name="mini1.5"></a>
<dt><span class="GUI">FMNR</span>
(Full Matrix Newton Raphson):</dt>
<dd><p>With this method, convergence to saddle points is not uncommon. Use
FMNR
with preminimized structures having RMS gradients of less than 0.1 kJ/mol.
Use line searching (select after prompt) for problematic cases, or if the
RMS First Derivative is greater than 0.1. The preminimization requirement
derives from the Newton Raphson assumption of a quadratic potential
surface. The method works only if the assumption is valid. FMNR is the
most effective method for fully converging structures, but it requires
significant computational resources for large structures.</p>
<p>
If you wish to find saddle point structures, you need to start very
close to the saddle point, and you have to disable line searching.</p>
<p>
FMNR has excellent convergence properties, and typically converges in 2-10
iterations. </p></dd>
<a name="mini1.6"></a>
<dt><span class="GUI">LBFGS</span>
(Low-memory Broyden-Fletcher- Goldfarb-Shanno ):</dt>
<dd><p>A method that performs well with large structures.
</p></dd>
</dl></dd>

<a name="mini1.7"></a>
<dt><span class="GUI">Optimal</span></dt>
<dd><p>This option selects a method that should be optimal for the calculation
type. It uses the TNCG method if the number of unfixed atoms is less than 1000
and solvation is employed; otherwise it uses the PRCG method with 3-point line
searcher. (Sets <code>MINI</code> arg1 to 20). 
</p></dd>


<a name="mini2"></a>
<dt><span class="GUI">Max iterations</span></dt>
<dd><p>Specify the maximum number of iterations to be performed. If the
minimization has not converged by this point, it will be terminated. The default
for most of the minimization methods is 500 iterations, but for <span
class="GUI">SD</span> and <span class="GUI">FMNR</span>, the
default is 50 iterations.</p>
<p>
<b>Note:</b> In the <span class="GUI">Ligand Torsion Search</span> panel, this
option contains two additional parameters:</p>
<ul>
<li><span class="GUI">Pre-minimization of input structures</span></li>
<li><span class="GUI">Post-minimization of generated structures</span>
(the default is 50, which is the recommended maximum)</li>
</ul></dd>

<a name="mini3"></a>
<dt><span class="GUI">Converge on</span></dt>
<dd><p>Choose a convergence criterion:</p>
<ul>
<li>
<span class="GUI">Gradient</span>: (default)</li>
<li><span class="GUI">Energy</span>: the energy difference between iterations</li>
<li><span class="GUI">Movement</span>: maximum atomic movement at each iteration</li>
<li><span class="GUI">Nothing</span>: the minimization attempts to run for the
maximum number of iterations as described above.</li>
</ul>
</dd>
<a name="mini4"></a>
<dt><span class="GUI">Convergence threshold</span></dt>
<dd><p>Specify the threshold to be applied to the
<span class="GUI">Converge On</span> method. The default is 0.05. </p></dd>
</dl>

<a name="links"></a>
<h2>Related Topics</h2>
<ul>
<li><a href="energy_overview.html">Energy Overview</a></li>
<li><a href="potential_tab.html">Potential Energy Definition</a></li>
<li><a href="constraints_tab.html">Macromodel &mdash; Constraints Tab</a></li>
<li><a href="substructure.html">Substructure Definition</a></li>
<li><a href="../misc/job_start_db.html">Start Dialog Box</a></li>
</ul>
<hr />
<table width="100%">
<td><p class="small"><a href="../support/legal_notice.html" target="LegalNoticeWindow">Legal Notice</a></p></td>
<td>
<table align="right">
<td><p class="small">
File: macromodel/energy_minimization.html<br />
Last updated: 25 Jan 2012
</p></td>
</table>
</td>
</table>
</body>
</html>
