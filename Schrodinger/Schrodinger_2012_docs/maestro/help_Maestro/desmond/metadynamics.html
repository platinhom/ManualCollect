<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta name="categories" content="desmond">
<meta name="product" content="Desmond">
<meta name="profile" content="Maestro">
<link rel="stylesheet" href="../support/help.css" charset="ISO-8859-1" type="text/css" />
<title>Desmond &mdash; Metadynamics Panel</title>
</head>
<script type="text/javascript">
function setTitle()
{
top.document.title = document.title + " - " + parent.parent.WINDOW_TITLE;
}
</script>
<body onload="setTitle();">
<table bgcolor="#dcdcdc" border="0" cellspacing="0" width="100%">
<tr><td>
<p><img src="../support/schrodinger_logo.gif" align="left" alt=""
border="0" hspace="5" vspace="5" /></p>
</td></tr>
<tr><td>
<h1 class="title"><span class="desmond">Desmond &mdash; Metadynamics Panel</span></h1>
</td></tr>
</table>

<ul>
<li><a href="#section1">Summary</a></li>
<li><a href="#section2">Opening the <span class="GUI">Metadynamics</span> Panel</a></li>
<li><a href="#section3">Using the <span class="GUI">Metadynamics</span> Panel</a></li>
<li><a href="#section4"><span class="GUI">Metadynamics</span> Panel Features</a></li>
<li><a href="#section5">Related Topics</a></li>
</ul>

<a name="section1"></a>
<h2>Summary</h2>
<p>In this panel you can set up and start a metadynamics job. 
</p>

<a name="section2"></a>
<h2>Opening the Metadynamics Panel</h2>

<p>To open the <span class="GUI">Metadynamics</span> panel:</p>
<ul>
<li>
<p>Choose <span class="GUI">Applications &rarr; Desmond &rarr; </span>
<span class="GUI">Metadynamics</span> in the main window.</p>
</li>
</ul>

<a name="section3"></a> 
<h2>Using the Metadynamics Panel</h2> 

<p>Metadynamics is a technique in which the potential for one or more chosen
variables (&quot;collective variables&quot;) is modified by periodically adding
a repulsive potential of Gaussian shape at the location given by particular
values of the variables. These repulsive Gaussians eventually fill up the well
that is being sampled, and force the calculation to sample elsewhere. At certain
points in the simulation, the sum of the Gaussians and the free-energy surface
(FES) becomes flat, and therefore the sum of Gaussians is the negative image of
the FES. 
</p>
<p>The parameters that control the accuracy of the simulation are the height and
width of the Gaussian potential and the interval at which the Gaussians are
added. The accuracy is not very sensitive to the ratio of the height to the
interval; however, smaller values of this ratio increase the accuracy
somewhat. The width of the Gaussian should be roughly 1/4 to 1/3 of the average
fluctuations of the collective variable during a free MD run.
</p>

<a name="section4"></a> 
<h2>Metadynamics Panel Features</h2> 

<ul>
<li><a href="#section4.1"><span class="GUI">Model system</span> section</a></li>
<li><a href="#section4.2"><span class="GUI">Simulation</span> section</a></li>
<li><a href="#section4.3">Action buttons</a></li>
</ul>


<a name="section4.1"></a>
<h3>Model system section</h3>
<p>In this section, you select the model system that you will use for the
simulation. A valid model system for simulations must contain both the
coordinates of the particles and the force field parameters. A file of a valid
model system normally has the <code>.cms</code> extension. </p>
<p>There are two options on the option menu, and the tools in this
section depend on which option you choose.
</p>

<dl>
<dt><span class="GUI">Load from  Workspace</span></dt>
<dd><p>Load the model system from the Workspace. The Workspace must contain a
model system that has already been prepared with the <span class="GUI">System
Builder</span> panel. When you choose this item, the <span
class="GUI">Load</span> button is displayed, which you click to load the model system from the Workspace. 
</p></dd>
<dt><span class="GUI">Import from file</span></dt>
<dd><p>Import the model system from a file. You can choose to import a model
system file (<code>.cms</code>) or a checkpoint file 
(<span class="GUI">.cpt</span>). </p>
<p>If you import a model system file, it  must contain a model
system that has already been prepared with the <span class="GUI">System
Builder</span> panel. When the file is imported, a message about the system is
displayed below the option menu. </p>
<p>If you import a checkpoint file, most of the panel controls are
unavailable. The purpose of the checkpoint file is to restart an 
interrupted simulation, so the parameters of the simulation cannot be
altered. You can change the total simulation time, and then start the job.
</p></dd>
</dl>
<p>
</p>

<a name="section4.2"></a>
<h3>Simulation section</h3>
<p>
</p>

<ul>
<li><a href="#section4.2.1"><span class="GUI">Height</span> text box</a></li>
<li><a href="#section4.2.2"><span class="GUI">Frequency</span> text box</a></li>
<li><a href="#section4.2.3"><span class="GUI">Collective variable type</span> options</a></li>
<li><a href="#section4.2.4"><span class="GUI">Pick atoms</span> option</a></li>
<li><a href="#section4.2.5"><span class="GUI">Atom</span> text boxes</a></li>
<li><a href="#section4.2.6"><span class="GUI">Width</span> text box</a></li>
<li><a href="#section4.2.7"><span class="GUI">Wall at</span> text box</a></li>
<li><a href="#section4.2.8"><span class="GUI">Add</span> and <span
class="GUI">Remove</span> buttons</a></li>
<li><a href="#section4.2.9">Collective Variable table</a></li>
<li><a href="#section4.2.10"><span class="GUI">Simulation time</span> text boxes</a></li>
<li><a href="#section4.2.11"><span class="GUI">Recording interval</span> text boxes</a></li>
<li><a href="#section4.2.12"><span class="GUI">Ensemble class</span> option menu</a></li>
<li><a href="#section4.2.13"><span class="GUI">Pressure</span> text box</a></li>
<li><a href="#section4.2.14"><span class="GUI">Surface tension</span> text box</a></li>
<li><a href="#section4.2.15"><span class="GUI">Relax model system before simulation</span> option</a></li>
<li><a href="#section4.2.16"><span class="GUI">Relaxation protocol</span> text box and Browse button</a></li>
<li><a href="#section4.2.17"><span class="GUI">Advanced options</span> button</a></li>
</ul>

<dl>

<a name="#section4.2.1"></a></li>
<dt><span class="GUI">Height</span> text box</dt>
<dd><p>Height of the repulsive Gaussian potential. The accuracy of the
results is inversely proportional to the height for a given interval for
addition of the Gaussian. However, if smaller heights are used, the simulation
takes longer.
</p></dd>

<a name="section4.2.2"></a>
<dt><span class="GUI">Frequency</span> text box</dt>
<dd><p>Time interval at which the repulsive Gaussian potential is
added. The accuracy of the results increases as the time interval increases, but
the simulation time also increases.
</p></dd>

<a name="section4.2.3"></a>
<dt><span class="GUI">Collective variable type</span> options</dt>
<dd><p>Select the type of collective variable to use for the sampled degree of
freedom.
</p></dd>

<a name="section4.2.4"></a>
<dt><span class="GUI">Pick atoms</span> option</dt>
<dd><p>Select this option to pick the atoms for the collective variable: two for
a distance, three for an angle, and four for a dihedral. 
</p></dd>

<a name="section4.2.5"></a>
<dt><span class="GUI">Atom</span><i>N</i> text boxes</dt>
<dd><p>These text boxes display the atom number of the atoms picked for the
collective variable.
</p></dd>

<a name="section4.2.6"></a> <dt><span class="GUI">Width</span> text box</dt>
<dd><p>Width (rms width) of the repulsive Gaussian potential, in angstroms or
radians. The width should be roughly 1/4 to 1/3 of the average fluctuations of
the collective variable during a free MD run. The default values are
0.05&nbsp;&Aring; for distances, 2.5&deg; for angles, and 5&deg; for dihedrals.
</p></dd>

<a name="section4.2.7"></a>
<dt><span class="GUI">Wall at</span> text box</dt>
<dd><p>Distance along the collective variable at which a barrier is
placed. Introducing a wall prevents the system from moving too far in the
direction defined by the collective variable. Only applies to distance
variables.
</p></dd>

<a name="section4.2.8"></a>
<dt><span class="GUI">Add</span> and <span class="GUI">Remove</span> buttons</dt>
<dd><p>Add the collective variable defined above to the table, or remove the
selected variable from the table. 
</p></dd>

<a name="section4.2.9"></a>
<dt>Collective variable table</dt>
<dd><p>This table lists the collective variable atom numbers with their
parameters. You can select a single row to remove from the table. The table is
noneditable.
</p></dd>


<a name="section4.2.10"></a>
<dt><span class="GUI">Simulation time</span> text boxes</dt>
<dd><p>Specify the total time of the simulation, in ns, in the <span
class="GUI">total</span> text box.  The <span class="GUI">elapsed</span> text box
displays the amount of time the simulation has already run, if you are
restarting a simulation. For new simulations it should contain zero. This text
box cannot be edited.
</p></dd>

<a name="section4.2.11"></a>
<dt><span class="GUI">Recording interval</span> text boxes</dt>
<dd><p>Specify the recording interval for the energy and the trajectory. Enter a
value in ps in the text box. Values entered in this text box are rounded to an
integer multiple of the far time step size. By default, the far time step size
is 0.006&nbsp;ps. This time step size is set in the  
<a href="advanced_options_db.html"><span class="GUI">Integration</span> tab of
the <span class="GUI">Advanced Options</span> dialog box</a>, in the 
<span class="GUI">RESPA integrator</span> section.</p></dd> 

<a name="section4.2.12"></a>
<dt><span class="GUI">Ensemble class</span> option menu</dt>
<dd><p>Choose the ensemble class from this option menu. Four classes are
available: NVT, NPT, NPAT, and NP&gamma;T. The default class is NVT. 
</p></dd>

<a name="section4.2.13"></a>
<dt><span class="GUI">Pressure</span> text box</dt>
<dd><p>Specify the pressure to be used. Not available for the NVT ensemble class.
</p></dd>

<a name="section4.2.14"></a>
<dt><span class="GUI">Surface tension</span> text box</dt>
<dd><p>Specify the surface tension to be used. Only available for the NP&gamma;T
ensemble class.
</p></dd>

<a name="section4.2.15"></a>
<dt><span class="GUI">Relax model system before simulation</span> option</dt>
<dd><p>When selected, a series of minimizations and short molecular dynamics
simulations are performed to relax the model system before performing the
simulation you set up. The relaxation procedure follows a default
protocol. Normally, this option is needed only for model systems that 
have just been prepared with the <span class="GUI">System Builder</span> panel
and have not been relaxed.
</p></dd>

<a name="section4.2.16"></a>
<dt><span class="GUI">Relaxation protocol</span> text box and Browse button</dt>
<dd><p>Specify the protocol for the relaxation. The protocol is defined in an
<code>.msj</code> file, which you can open by clicking <span
class="GUI">Browse</span> and navigating to the file. The default protocol is
described in the <i>Desmond User Manual</i>.
</p></dd>

<a name="section4.2.17"></a>
<dt><span class="GUI">Advanced options</span> button</dt>
<dd><p>Opens the <a href="advanced_options_db.html"><span class="GUI">Advanced
Options</span> dialog box</a>, in which you can control many more of the
detailed settings for the simulation than are available in the 
<span class="GUI">Desmond</span> panel.
</p></dd>

</dl>

<a name="section4.3"></a>
<h3>Action buttons</h3>
<p>At the bottom of the panel are the action buttons for the job:</p>
<ul>
<li><span class="GUI">Start</span>&mdash;Start the job. Opens the 
<span class="GUI">Start</span> dialog box to set job parameters
and submit the job for execution. The number of CPUs (or cores) is set on a
per-replica basis, so the total number of CPUs is the number set times the
number of replicas. </li>
<li><span class="GUI">Read</span>&mdash;Read an input (configuration)
file. Opens a file selector in which you can navigate to the desired input
file.</li>
<li><span class="GUI">Write</span>&mdash;Write the input files for the job but
do not start it. Opens a dialog box in which you can provide the job name, which
is used to name the files.</li>
<li><span class="GUI">Reset</span>&mdash;Reset the values in the panel to their
defaults.</li>
</ul>

<a name="section5"></a>
<h2>Related Topics</h2>
<ul>
<li><a href="advanced_options_db.html">Desmond &mdash; Advanced Options Dialog Box</ul>

<hr />
<table width="100%">
<tr><td><p class="small"><a href="../support/legal_notice.html" target="LegalNoticeWindow">Legal Notice</a></p></td>
<td>
<table align="right">
<tr><td><p class="small">
File: desmond/metadynamics.html<br />
Last updated: 10 Jan 2012
</p></td></tr>
</table>
</td></tr>
</table>
</body>
</html>
