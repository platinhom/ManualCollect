<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>schrodinger.job.queue.ThreadedJob</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="schrodinger-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            >Suite 2012 Schrodinger Python API</th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="schrodinger-module.html">Package&nbsp;schrodinger</a> ::
        <a href="schrodinger.job-module.html">Package&nbsp;job</a> ::
        <a href="schrodinger.job.queue-module.html" onclick="show_private();">Module&nbsp;queue</a> ::
        Class&nbsp;ThreadedJob
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="schrodinger.job.queue.ThreadedJob-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class ThreadedJob</h1><p class="nomargin-top"></p>
<pre class="base-tree">
object --+    
         |    
   <a href="schrodinger.job.queue.BaseJob-class.html">BaseJob</a> --+
             |
            <strong class="uidshort">ThreadedJob</strong>
</pre>

<hr />
<p>This class is for jobs that don't run under job control yet can have 
  significant computational requirements in the python part of the JobDJ 
  process. For code run in separate processes, see the SubprocessJob 
  class.</p>
  <p>A ThreadedJob instance is run in a separate thread and so won't hold 
  up execution of the main thread running the JobDJ instance. This allows 
  additional jobs to be started and monitored even while the thread 
  computation is ongoing.</p>
  <p>Due to the Global Interpreter Lock and the fact that we don't release 
  it in any of our SWIG wrappers, only one ThreadedJob will actually be run
  at a time.</p>
  <p>Note that the directory in which the command will be executed can't be
  guaranteed for a job run in a separate thread. Even if an explicit 
  <code>os.chdir</code> is invoked in the <code>doCommand</code> 
  implementation, control may switch to the main thread and the directory 
  could change before the subsequent statement is executed. So, all I/O 
  must be done on absolute paths.</p>

<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="schrodinger.job.queue.ThreadedJob-class.html#__init__" class="summary-sig-name">__init__</a>(<span class="summary-sig-arg">self</span>)</span><br />
      x.__init__(...) initializes x; see help(type(x)) for signature</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="__getstate__"></a><span class="summary-sig-name">__getstate__</span>(<span class="summary-sig-arg">self</span>)</span></td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="schrodinger.job.queue.ThreadedJob-class.html#getCommandDir" class="summary-sig-name">getCommandDir</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Override the base <code>getCommandDir</code> method and always return
      None so that no attempt is made to run in a separate subdirectory.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="schrodinger.job.queue.ThreadedJob-class.html#update" class="summary-sig-name">update</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Update the current job status.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="schrodinger.job.queue.ThreadedJob-class.html#processResults" class="summary-sig-name">processResults</a>(<span class="summary-sig-arg">self</span>)</span><br />
      This method is a hook for subclasses.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="schrodinger.job.queue.ThreadedJob-class.html#hasUnprocessedResults" class="summary-sig-name">hasUnprocessedResults</a>(<span class="summary-sig-arg">self</span>)</span><br />
      This method is a hook for subclasses.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="schrodinger.job.queue.ThreadedJob-class.html#run" class="summary-sig-name">run</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">*args</span>,
        <span class="summary-sig-arg">**kwargs</span>)</span><br />
      Run the command in a separate thread.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="schrodinger.job.queue.BaseJob-class.html">BaseJob</a></code></b>:
      <code><a href="schrodinger.job.queue.BaseJob-class.html#__cmp__">__cmp__</a></code>,
      <code><a href="schrodinger.job.queue.BaseJob-class.html#addFinalizer">addFinalizer</a></code>,
      <code><a href="schrodinger.job.queue.BaseJob-class.html#addGroupPrereq">addGroupPrereq</a></code>,
      <code><a href="schrodinger.job.queue.BaseJob-class.html#addPrereq">addPrereq</a></code>,
      <code><a href="schrodinger.job.queue.BaseJob-class.html#cancelSubmitted">cancelSubmitted</a></code>,
      <code><a href="schrodinger.job.queue.BaseJob-class.html#doCommand">doCommand</a></code>,
      <code><a href="schrodinger.job.queue.BaseJob-class.html#finalize">finalize</a></code>,
      <code><a href="schrodinger.job.queue.BaseJob-class.html#genAllJobs">genAllJobs</a></code>,
      <code><a href="schrodinger.job.queue.BaseJob-class.html#genAllPrereqs">genAllPrereqs</a></code>,
      <code><a href="schrodinger.job.queue.BaseJob-class.html#getJobDJ">getJobDJ</a></code>,
      <code><a href="schrodinger.job.queue.BaseJob-class.html#getPrereqs">getPrereqs</a></code>,
      <code><a href="schrodinger.job.queue.BaseJob-class.html#getStatusStrings">getStatusStrings</a></code>,
      <code><a href="schrodinger.job.queue.BaseJob-class.html#hasStarted">hasStarted</a></code>,
      <code><a href="schrodinger.job.queue.BaseJob-class.html#isComplete">isComplete</a></code>,
      <code><a href="schrodinger.job.queue.BaseJob-class.html#maxFailuresReached">maxFailuresReached</a></code>,
      <code><a href="schrodinger.job.queue.BaseJob-class.html#postCommand">postCommand</a></code>,
      <code><a href="schrodinger.job.queue.BaseJob-class.html#preCommand">preCommand</a></code>,
      <code><a href="schrodinger.job.queue.BaseJob-class.html#runsLocally">runsLocally</a></code>,
      <code><a href="schrodinger.job.queue.BaseJob-class.html#setup">setup</a></code>
      </p>
    <div class="private">    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="schrodinger.job.queue.BaseJob-class.html">BaseJob</a></code></b> (private):
      <code><a href="schrodinger.job.queue.BaseJob-class.html#_genAllDependents" onclick="show_private();">_genAllDependents</a></code>,
      <code><a href="schrodinger.job.queue.BaseJob-class.html#_getState" onclick="show_private();">_getState</a></code>,
      <code><a href="schrodinger.job.queue.BaseJob-class.html#_pruneGraph" onclick="show_private();">_pruneGraph</a></code>,
      <code><a href="schrodinger.job.queue.BaseJob-class.html#_setState" onclick="show_private();">_setState</a></code>
      </p></div>
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__delattr__</code>,
      <code>__format__</code>,
      <code>__getattribute__</code>,
      <code>__hash__</code>,
      <code>__new__</code>,
      <code>__reduce__</code>,
      <code>__reduce_ex__</code>,
      <code>__repr__</code>,
      <code>__setattr__</code>,
      <code>__sizeof__</code>,
      <code>__str__</code>,
      <code>__subclasshook__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== CLASS VARIABLES ==================== -->
<a name="section-ClassVariables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Class Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-ClassVariables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="schrodinger.job.queue.BaseJob-class.html">BaseJob</a></code></b>:
      <code><a href="schrodinger.job.queue.BaseJob-class.html#init_count">init_count</a></code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== PROPERTIES ==================== -->
<a name="section-Properties"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Properties</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Properties"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="schrodinger.job.queue.BaseJob-class.html">BaseJob</a></code></b>:
      <code><a href="schrodinger.job.queue.BaseJob-class.html#state">state</a></code>
      </p>
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__class__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Method Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-MethodDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="__init__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__init__</span>(<span class="sig-arg">self</span>)</span>
    <br /><em class="fname">(Constructor)</em>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>x.__init__(...) initializes x; see help(type(x)) for signature</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>command_dir</code></strong> - The directory from which to run the command.</li>
    </ul></dd>
    <dt>Overrides:
        object.__init__
        <dd><em class="note">(inherited documentation)</em></dd>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="getCommandDir"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">getCommandDir</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Override the base <code>getCommandDir</code> method and always return 
  None so that no attempt is made to run in a separate subdirectory.</p>
  <p>Don't override this method in subclasses and don't use 
  <code>os.chdir</code> in your <code>doCommand</code> implementation.</p>
  <dl class="fields">
    <dt>Overrides:
        <a href="schrodinger.job.queue.BaseJob-class.html#getCommandDir">BaseJob.getCommandDir</a>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="update"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">update</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Update the current job status.</p>
  <dl class="fields">
    <dt>Overrides:
        <a href="schrodinger.job.queue.BaseJob-class.html#update">BaseJob.update</a>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="processResults"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">processResults</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>This method is a hook for subclasses.</p>
  <p>It is called from the update method and operates in the main thread. 
  Therefore, it can be used to interact with the parent <code>JobDJ</code> 
  instance, for example adding new jobs.</p>
  <p>All communication with the compute thread should be done via 
  thread-safe mechanisms such as <a 
  href="schrodinger.application.desmond.cmj.Queue-class.html" 
  class="link">Queue.Queue</a>.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="hasUnprocessedResults"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">hasUnprocessedResults</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>This method is a hook for subclasses.</p>
  <p>It's possible the thread will be finished but the processing of 
  results is not yet complete. Returning False here will keep the job alive
  and the <code>update</code> method will continue to be called 
  periodically.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="run"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">run</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">*args</span>,
        <span class="sig-arg">**kwargs</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Run the command in a separate thread.</p>
  <dl class="fields">
    <dt>Overrides:
        <a href="schrodinger.job.queue.BaseJob-class.html#run">BaseJob.run</a>
    </dt>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="schrodinger-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            >Suite 2012 Schrodinger Python API</th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Tue Sep 25 02:23:05 2012
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
