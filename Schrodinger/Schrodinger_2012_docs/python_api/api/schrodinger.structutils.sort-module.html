<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>schrodinger.structutils.sort</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="schrodinger-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            >Suite 2012 Schrodinger Python API</th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="schrodinger-module.html">Package&nbsp;schrodinger</a> ::
        <a href="schrodinger.structutils-module.html">Package&nbsp;structutils</a> ::
        Module&nbsp;sort
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="schrodinger.structutils.sort-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module sort</h1><p class="nomargin-top"></p>
<p>A module for sorting structure files by Structure-level property 
  values. The module supports multi-key sorting, 'block' sorting, and file 
  merging.</p>
  <p>'sort_criteria' and 'intra_block_sort_criteria' are lists of tuples, 
  where each tuple is an ct-level property dataname and 
  ascending/descending directive for that dataname.  If a structure does 
  not have a particular property it is assigned a None value.  Python 
  natively places None before 'something', which is the opposite of common 
  table sort behaviors such as Excel or Maestro's Project table.  The 
  module overrides this behavior with the NONE_IS_LAST constant.  If 
  NONE_IS_LAST evaluates as True then None values appear after defined 
  values when sorted in ascending order.</p>
  <p>'Block sorting' is possible by using the auxiliary 
  'intra_block_sort_criteria' sort keys.  Block sorting organizes 
  structures into groups by the 'intra_block_sort_criteria' set of keys, 
  then orders those groups by their leading member's 'sort_criteria'.  Put 
  another way, 'intra_block_sort_criteria' specifies how to organize 
  structures *within* a block, and 'sort_criteria' specifies how to 
  organize the blocks. If 'intra_block_sort_criteria' is None, then a 
  simple multi-key sort is performed using the 'sort_criteria'.  For 
  example, if you have a pose file with multiple poses for each 
  ligand-title, a useful global order is to have all poses with the same 
  title in a contiguous block ordered by Emodel values, and title-blocks 
  ordered by the Glide score of the first member in each title-block.</p>
  <p>Copyright Schrodinger, LLC. All rights reserved</p>

<!-- ==================== CLASSES ==================== -->
<a name="section-Classes"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Classes</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Classes"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="schrodinger.structutils.sort.StructureFileSorter-class.html" class="summary-name">StructureFileSorter</a><br />
      A class to sort structure files by ct-level property values.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="schrodinger.structutils.sort.DsuList-class.html" class="summary-name">DsuList</a><br />
      A class to sort a list with special behaviors.
    </td>
  </tr>
</table>
<!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Functions</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Functions"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="schrodinger.structutils.sort-module.html#_in_memory_sort_ok" class="summary-sig-name" onclick="show_private();">_in_memory_sort_ok</a>(<span class="summary-sig-arg">file_name</span>,
        <span class="summary-sig-arg">chunk_size</span>=<span class="summary-sig-default">2500000</span>)</span><br />
      Returns True if file_name is small enough to sort in memory,
otherwise False.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="schrodinger.structutils.sort-module.html#sort_file" class="summary-sig-name">sort_file</a>(<span class="summary-sig-arg">file_name</span>,
        <span class="summary-sig-arg">sort_criteria</span>,
        <span class="summary-sig-arg">out_file_name</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">intra_block_sort_criteria</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">no_split</span>=<span class="summary-sig-default">False</span>)</span><br />
      Sort structure file by the values of ct-level properties within
the file.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="schrodinger.structutils.sort-module.html#split_file" class="summary-sig-name">split_file</a>(<span class="summary-sig-arg">file_name</span>,
        <span class="summary-sig-arg">max_count</span>=<span class="summary-sig-default">10000</span>,
        <span class="summary-sig-arg">dir</span>=<span class="summary-sig-default">None</span>)</span><br />
      Returns a list of file names generated by splitting the original
structures in file_name split into smaller files.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="schrodinger.structutils.sort-module.html#merge_files" class="summary-sig-name">merge_files</a>(<span class="summary-sig-arg">file_list</span>,
        <span class="summary-sig-arg">sort_criteria</span>,
        <span class="summary-sig-arg">out_file_name</span>,
        <span class="summary-sig-arg">remove_file_list</span>=<span class="summary-sig-default">True</span>,
        <span class="summary-sig-arg">sort_file_list</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">dir</span>=<span class="summary-sig-default">None</span>)</span><br />
      Combines pre-ordered structure files by their property values.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="schrodinger.structutils.sort-module.html#merge_pv_files" class="summary-sig-name">merge_pv_files</a>(<span class="summary-sig-arg">file_list</span>,
        <span class="summary-sig-arg">sort_criteria</span>,
        <span class="summary-sig-arg">out_file_name</span>)</span><br />
      Combines pre-ordered pose viewer structure files by their property
values.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="schrodinger.structutils.sort-module.html#merge_st_iters" class="summary-sig-name">merge_st_iters</a>(<span class="summary-sig-arg">structure_iters</span>,
        <span class="summary-sig-arg">sort_criteria</span>,
        <span class="summary-sig-arg">output_handle</span>)</span><br />
      Combines pre-ordered structure iterators by their property values.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="schrodinger.structutils.sort-module.html#sort_file_in_memory" class="summary-sig-name">sort_file_in_memory</a>(<span class="summary-sig-arg">file_name</span>,
        <span class="summary-sig-arg">sort_criteria</span>,
        <span class="summary-sig-arg">out_file_name</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">intra_block_sort_criteria</span>=<span class="summary-sig-default">None</span>)</span><br />
      Orders the structures in file_name, keeping structures in memory
during the sort operation.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="schrodinger.structutils.sort-module.html#_get_temp_file_name" class="summary-sig-name" onclick="show_private();">_get_temp_file_name</a>(<span class="summary-sig-arg">dir</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">suffix</span>=<span class="summary-sig-default"><code class="variable-quote">'</code><code class="variable-string">.mae</code><code class="variable-quote">'</code></span>)</span><br />
      Returns the path to a new temporary file that is safe to append
structures to.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Variables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_version"></a><span class="summary-name">_version</span> = <code title="'$Revision: 1.19 $'"><code class="variable-quote">'</code><code class="variable-string">$Revision: 1.19 $</code><code class="variable-quote">'</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="ASCENDING"></a><span class="summary-name">ASCENDING</span> = <code title="1">1</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="DESCENDING"></a><span class="summary-name">DESCENDING</span> = <code title="-1">-1</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="CHUNK_SIZE"></a><span class="summary-name">CHUNK_SIZE</span> = <code title="2500000">2500000</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="MKTMPSUFFIX"></a><span class="summary-name">MKTMPSUFFIX</span> = <code title="'.mae'"><code class="variable-quote">'</code><code class="variable-string">.mae</code><code class="variable-quote">'</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="NONE_IS_LAST"></a><span class="summary-name">NONE_IS_LAST</span> = <code title="True">True</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="schrodinger.structutils.sort-module.html#GLIDE_SP_KEY_1" class="summary-name">GLIDE_SP_KEY_1</a> = <code title="[('b_glide_receptor', 1), ('r_i_docking_score', 1)]"><code class="variable-group">[</code><code class="variable-group">(</code><code class="variable-quote">'</code><code class="variable-string">b_glide_receptor</code><code class="variable-quote">'</code><code class="variable-op">, </code>1<code class="variable-group">)</code><code class="variable-op">, </code><code class="variable-group">(</code><code class="variable-quote">'</code><code class="variable-string">r_i_docking_score</code><code class="variable-ellipsis">...</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="GLIDE_SP_KEY_2"></a><span class="summary-name">GLIDE_SP_KEY_2</span> = <code title="[('s_m_title', 1), ('r_i_glide_emodel', 1)]"><code class="variable-group">[</code><code class="variable-group">(</code><code class="variable-quote">'</code><code class="variable-string">s_m_title</code><code class="variable-quote">'</code><code class="variable-op">, </code>1<code class="variable-group">)</code><code class="variable-op">, </code><code class="variable-group">(</code><code class="variable-quote">'</code><code class="variable-string">r_i_glide_emodel</code><code class="variable-quote">'</code><code class="variable-op">, </code>1<code class="variable-group">)</code><code class="variable-group">]</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="schrodinger.structutils.sort-module.html#GLIDE_XP_KEY_1" class="summary-name">GLIDE_XP_KEY_1</a> = <code title="[('b_glide_receptor', 1), ('r_i_docking_score', 1)]"><code class="variable-group">[</code><code class="variable-group">(</code><code class="variable-quote">'</code><code class="variable-string">b_glide_receptor</code><code class="variable-quote">'</code><code class="variable-op">, </code>1<code class="variable-group">)</code><code class="variable-op">, </code><code class="variable-group">(</code><code class="variable-quote">'</code><code class="variable-string">r_i_docking_score</code><code class="variable-ellipsis">...</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="GLIDE_XP_KEY_2"></a><span class="summary-name">GLIDE_XP_KEY_2</span> = <code title="[('s_m_title', 1), ('i_glide_XP_PoseRank', 1)]"><code class="variable-group">[</code><code class="variable-group">(</code><code class="variable-quote">'</code><code class="variable-string">s_m_title</code><code class="variable-quote">'</code><code class="variable-op">, </code>1<code class="variable-group">)</code><code class="variable-op">, </code><code class="variable-group">(</code><code class="variable-quote">'</code><code class="variable-string">i_glide_XP_PoseRank</code><code class="variable-quote">'</code><code class="variable-op">, </code>1<code class="variable-group">)</code><code class="variable-group">]</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="schrodinger.structutils.sort-module.html#GLIDE_HTVS_KEY_1" class="summary-name">GLIDE_HTVS_KEY_1</a> = <code title="[('b_glide_receptor', 1), ('r_i_docking_score', 1)]"><code class="variable-group">[</code><code class="variable-group">(</code><code class="variable-quote">'</code><code class="variable-string">b_glide_receptor</code><code class="variable-quote">'</code><code class="variable-op">, </code>1<code class="variable-group">)</code><code class="variable-op">, </code><code class="variable-group">(</code><code class="variable-quote">'</code><code class="variable-string">r_i_docking_sco</code><code class="variable-ellipsis">...</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="GLIDE_HTVS_KEY_2"></a><span class="summary-name">GLIDE_HTVS_KEY_2</span> = <code title="[('s_m_title', 1), ('r_i_glide_emodel', 1)]"><code class="variable-group">[</code><code class="variable-group">(</code><code class="variable-quote">'</code><code class="variable-string">s_m_title</code><code class="variable-quote">'</code><code class="variable-op">, </code>1<code class="variable-group">)</code><code class="variable-op">, </code><code class="variable-group">(</code><code class="variable-quote">'</code><code class="variable-string">r_i_glide_emodel</code><code class="variable-quote">'</code><code class="variable-op">, </code>1<code class="variable-group">)</code><code class="variable-group">]</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="logger"></a><span class="summary-name">logger</span> = <code title="log.get_output_logger(__file__)">log.get_output_logger(__file__)</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="__package__"></a><span class="summary-name">__package__</span> = <code title="'schrodinger.structutils'"><code class="variable-quote">'</code><code class="variable-string">schrodinger.structutils</code><code class="variable-quote">'</code></code>
    </td>
  </tr>
</table>
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Function Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-FunctionDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="_in_memory_sort_ok"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_in_memory_sort_ok</span>(<span class="sig-arg">file_name</span>,
        <span class="sig-arg">chunk_size</span>=<span class="sig-default">2500000</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Returns True if file_name is small enough to sort in memory,
otherwise False.  

Test is based on the size, in bytes, of the first 100 structures in
file_name and the number of structures in file_name.  If the size in
bytes of the first 100 structures is less than chunk_size the file is
assumed to contain ligand-sized structures, otherwise it is assumed to
contain receptor-sized structures.  The type of structures determines
a limit on the structure count that can be sorted in memory:
1x10^3 receptor-sized structures, or 1x10^4 ligand-sized structures
(hardwired values).  If the count of structures in file_name is less
than the limit then the file should be sortable in memory.

file_name (string)
    Path to the structure file on which to operate.

chunk_size (int)
    The size, in bytes, to used to estimate the scale of structures
    in the file.  Default is the module constant CHUNK_SIZE.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="sort_file"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">sort_file</span>(<span class="sig-arg">file_name</span>,
        <span class="sig-arg">sort_criteria</span>,
        <span class="sig-arg">out_file_name</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">intra_block_sort_criteria</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">no_split</span>=<span class="sig-default">False</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Sort structure file by the values of ct-level properties within
the file.

This is the central API that has some logic under the hood to choose
a good trade off between disk IO and memory use given the size of
the file.

file_name (string)
    Path to file upon which to operate.

sort_criteria (list of tuples)
    List of (m2io dataname, module constant) tuples.  These are
    the primary, secondary, ..., keys for sorting the structures,
    *or* blocks if intra_block_sort_criteria is defined, and
    optional ascending/descending constants.  e.g.: 
    [('s_m_title', sort.ASCENDING), ('r_i_glide_docking_score',
    sort.ASCENDING)]

out_file_name (string)
    Output structure file containing the sorted structures.
    If out_file_name is None, then the input file is clobbered with
    the results of the sort.  Default is to replace input file_name
    with sorted results.

intra_block_sort_criteria (list of tuples)
    Optional list of (m2io dataname, module constant) tuples for block
    sorting.  These are the primary, secondary, ..., keys for sorting
    the structures *within* blocks, and optional ascending/descending
    order constants.  Default is None, don't block sort.

no_split (bool)
    Deprecated option.  This option is currently ignored.  

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="split_file"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">split_file</span>(<span class="sig-arg">file_name</span>,
        <span class="sig-arg">max_count</span>=<span class="sig-default">10000</span>,
        <span class="sig-arg">dir</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Returns a list of file names generated by splitting the original
structures in file_name split into smaller files.

file_name (string)
    Path to the structure file upon which to operate.

max_count (int)
    Maximum number of structures per sub-file.

dir (string)
    Path to the directory where the sub-files are written.  The
    default is the runtime current working directory.  There needs
    to be enough space to store effectively a copy of file_name.
    For really large files, /tmp is not a good location for most
    hosts.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="merge_files"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">merge_files</span>(<span class="sig-arg">file_list</span>,
        <span class="sig-arg">sort_criteria</span>,
        <span class="sig-arg">out_file_name</span>,
        <span class="sig-arg">remove_file_list</span>=<span class="sig-default">True</span>,
        <span class="sig-arg">sort_file_list</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">dir</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Combines pre-ordered structure files by their property values. Input 
  files are assumed to be sorted by default.  Optionally the files can be 
  sorted by the sort_criteria prior to merging by setting 
  sort_file_list=True.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>file_list</code></strong> (list) - List of paths for the structure files that will be merged.</li>
        <li><strong class="pname"><code>sort_criteria</code></strong> (list) - List of (m2io dataname, module constant) tuples, which are the 
          primary keys for sorting the structures.</li>
        <li><strong class="pname"><code>out_file_name</code></strong> (string) - Path to the structure output file containing all the merged 
          structures.</li>
        <li><strong class="pname"><code>remove_file_list</code></strong> (boolean) - If True then the file names in file_list are removed from disk.</li>
        <li><strong class="pname"><code>sort_file_list</code></strong> (boolean) - If True, then prior to merging, sort the files by 
          'sort_criteria'. Default is False, assume the file_list members 
          are already sorted.</li>
        <li><strong class="pname"><code>dir</code></strong> - Unused parameter.</li>
    </ul></dd>
  </dl>
<div class="fields">      <p><strong>Note:</strong>
        This function is not suited for handling pose viewer files because 
        all receptors will be included in the output. See 
        <code>merge_pv_files</code>.
      </p>
</div></td></tr></table>
</div>
<a name="merge_pv_files"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">merge_pv_files</span>(<span class="sig-arg">file_list</span>,
        <span class="sig-arg">sort_criteria</span>,
        <span class="sig-arg">out_file_name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Combines pre-ordered pose viewer structure files by their property
values.  Input files are assumed to be ordered.  Only the receptor
from the first pose viewer file is retained.

file_list (list)
    List of paths for the pose viewer files that will be merged.

sort_criteria (list of tuples)
    List of (m2io dataname, module constant) tuples, which are the
    primary keys for sorting the ligand structures.

out_file_name (string)
    Path to the structure output file containing all the merged
    structures.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="merge_st_iters"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">merge_st_iters</span>(<span class="sig-arg">structure_iters</span>,
        <span class="sig-arg">sort_criteria</span>,
        <span class="sig-arg">output_handle</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Combines pre-ordered structure iterators by their property values.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>structure_iters</code></strong> - List of iterables that emit structure.  Emitted structures can be
          a full structure, a MaestroText structure, or some other object 
          with a property dictionary.</li>
        <li><strong class="pname"><code>sort_criteria</code></strong> (list) - List of (m2io dataname, module constant) tuples, which are the 
          primary keys for sorting the structures.</li>
        <li><strong class="pname"><code>output_handle</code></strong> (An object with an append() method.) - Output stream to which the sorted structures are appended.</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="sort_file_in_memory"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">sort_file_in_memory</span>(<span class="sig-arg">file_name</span>,
        <span class="sig-arg">sort_criteria</span>,
        <span class="sig-arg">out_file_name</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">intra_block_sort_criteria</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Orders the structures in file_name, keeping structures in memory
during the sort operation.

file_name (string)
    Path to file upon which to operate.

sort_criteria (list of tuples)
    List of (m2io dataname, module constant) tuples, which are the
    primary keys for sorting the structures and optional sort
    order constants.

out_file_name (string)
    Output structure file containing the sorted structures.
    If out_file_name is None then the input file_name is clobbered
    with the sorted results.

intra_block_sort_criteria (list of tuples)
    List of (m2io dataname, module constant) tuples, which are the
    properties for sorting the structures within groups, and optional
    sort order constants.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_get_temp_file_name"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_get_temp_file_name</span>(<span class="sig-arg">dir</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">suffix</span>=<span class="sig-default"><code class="variable-quote">'</code><code class="variable-string">.mae</code><code class="variable-quote">'</code></span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Returns the path to a new temporary file that is safe to append
structures to.

dir (string)
    Path to a directory with write permissions, where temporary
    files can be created.  Default is None, use the tempfile default,
    which appears to be /tmp.

suffix (string)
    Optional suffix for temporary files.  Default is module constant
    MKTMPSUFFIX.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== VARIABLES DETAILS ==================== -->
<a name="section-VariablesDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-VariablesDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="GLIDE_SP_KEY_1"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">GLIDE_SP_KEY_1</h3>
  
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
<code class="variable-group">[</code><code class="variable-group">(</code><code class="variable-quote">'</code><code class="variable-string">b_glide_receptor</code><code class="variable-quote">'</code><code class="variable-op">, </code>1<code class="variable-group">)</code><code class="variable-op">, </code><code class="variable-group">(</code><code class="variable-quote">'</code><code class="variable-string">r_i_docking_score</code><code class="variable-quote">'</code><code class="variable-op">, </code>1<code class="variable-group">)</code><code class="variable-group">]</code>
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<a name="GLIDE_XP_KEY_1"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">GLIDE_XP_KEY_1</h3>
  
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
<code class="variable-group">[</code><code class="variable-group">(</code><code class="variable-quote">'</code><code class="variable-string">b_glide_receptor</code><code class="variable-quote">'</code><code class="variable-op">, </code>1<code class="variable-group">)</code><code class="variable-op">, </code><code class="variable-group">(</code><code class="variable-quote">'</code><code class="variable-string">r_i_docking_score</code><code class="variable-quote">'</code><code class="variable-op">, </code>1<code class="variable-group">)</code><code class="variable-group">]</code>
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<a name="GLIDE_HTVS_KEY_1"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">GLIDE_HTVS_KEY_1</h3>
  
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
<code class="variable-group">[</code><code class="variable-group">(</code><code class="variable-quote">'</code><code class="variable-string">b_glide_receptor</code><code class="variable-quote">'</code><code class="variable-op">, </code>1<code class="variable-group">)</code><code class="variable-op">, </code><code class="variable-group">(</code><code class="variable-quote">'</code><code class="variable-string">r_i_docking_score</code><code class="variable-quote">'</code><code class="variable-op">, </code>1<code class="variable-group">)</code><code class="variable-group">]</code>
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="schrodinger-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            >Suite 2012 Schrodinger Python API</th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Tue Sep 25 02:22:49 2012
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
