<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="Documentation.xml" data-mc-path-to-help-system="../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Command References|Phase Command Reference|Phase Input Files">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>Phase Site Mask File</title>
        <link href="../Resources/TableStyles/NoRules.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link href="../Resources/TableStyles/StandardRules.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link href="../Resources/TableStyles/Formatting.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link href="../Resources/Stylesheets/docs.css" rel="stylesheet" />
        <script src="../Resources/Scripts/custom.modernizr.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/foundation.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body><a name="aanchor994"></a>
        <MadCap:concept term="Command Reference" /><a name="aanchor995"></a>
        <MadCap:concept term="Phase" /><a name="phase_input_files_2056201373_748376"></a>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="phase_input_files_matching_constraints.htm">Phase Matching Constraints File</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="phase_command_referenceTOC.htm">Phase Command Reference Manual</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="phase_input_files_hypothesis_rules.htm">Phase Hypothesis Rules File</a> ▶</span>
                </td>
            </tr>
        </table>
        <h1 class="Title">Phase Site Mask File</h1>
        <p>This file is used to determine how specific sites or groups of sites are matched in a partial match. The file must be named <i class="UserReplace">hypoID</i><code>.mask</code>, where <i class="UserReplace">hypoID</i> is the hypothesis identifier used to name hypothesis-related files. The file must contain one line for each site in the hypothesis, with an integer value on each line, the <i>mask value</i>. These values determine how the site is matched: </p>
        <table class="TableStyle-NoRules" style="caption-side: top;mc-table-style: url('../Resources/TableStyles/NoRules.css');" cellspacing="0">
            <tbody>
                <tr class="TableStyle-NoRules-Body-Body1">
                    <td class="TableStyle-NoRules-BodyH-Column1-Body1">
                        <p class="Cell_Body"><span class="_Override">&gt;1</span>
                        </p>
                    </td>
                    <td class="TableStyle-NoRules-BodyG-Column1-Body1">
                        <p class="Cell_Body">Site is grouped.</p>
                    </td>
                </tr>
                <tr class="TableStyle-NoRules-Body-Body1">
                    <td class="TableStyle-NoRules-BodyE-Column1-Body1">
                        <p class="Cell_Body">1</p>
                    </td>
                    <td class="TableStyle-NoRules-BodyD-Column1-Body1">
                        <p class="Cell_Body">Site must be matched.</p>
                    </td>
                </tr>
                <tr class="TableStyle-NoRules-Body-Body2">
                    <td class="TableStyle-NoRules-BodyH-Column1-Body2">
                        <p class="Cell_Body">0</p>
                    </td>
                    <td class="TableStyle-NoRules-BodyG-Column1-Body2">
                        <p class="Cell_Body">Site can be matched but need not be matched (matching is optional)</p>
                    </td>
                </tr>
                <tr class="TableStyle-NoRules-Body-Body2">
                    <td class="TableStyle-NoRules-BodyB-Column1-Body2">
                        <p class="Cell_Body">−1</p>
                    </td>
                    <td class="TableStyle-NoRules-BodyA-Column1-Body2">
                        <p class="Cell_Body">Site must not be matched.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>For example, consider a hypothesis that contains the site types D, H, H, R, and R. To require that every partial match contains the donor site but not the second hydrophobic site, the corresponding site mask file should contain the following 5 lines:</p><pre class="CodeSmall">
4 D &#160;1
5 H &#160;0
6 H -1
9 R &#160;0
11 R 0
</pre>
        <p>The first two columns are the same as in the <i class="UserReplace">hypoID</i><code>.xyz</code> file. The third column contains the numbers that indicate how the site is matched.</p>
        <p>Sites can be grouped, and matching requirements applied to the group rather than to individual sites. This feature is used for partial matching, in which the number of matches required is less than the size of the group. If you want to require all sites in a group to match, you should simply use a 1 for the mask value for each site rather than create a group. Likewise, you can only exclude a site from matching by specifying it as an individual site. A site mask can contain a mixture of grouped and ungrouped sites.</p>
        <p>The rules for grouped sites are:</p>
        <ul class="ListCompact">
            <li value="1">Every member of a group must have the same mask value.
    </li>
            <li value="2">Sites in different groups must have different mask values.
    </li>
            <li value="3">A site cannot be a member of two groups.
    </li>
        </ul>
        <p>The mask value encodes both the site grouping and the matching behavior. It is interpreted as 2<sup>groupNumber</sup>+minMatch, where groupNumber is the index of the group, and minMatch is the minimum number of sites that must match from the group. The value of minMatch must be less than 2<sup>groupNumber</sup>, which is the maximum size of the group. The encoding of the mask value for the first few values is shown in <a class="Table_Number MCXref xref xrefTable_Number selected" href="#phase_input_files_2056201373_747952">Table 1</a>.</p>
        <table class="TableStyle-StandardRules" style="caption-side: top;mc-table-style: url('../Resources/TableStyles/StandardRules.css');" cellspacing="0">
            <caption valign="top" style="padding-bottom: 7pt;">
                <p class="Table_Caption" data-mc-autonum="Table 1. "><span class="autonumber"><span>Table 1. </span></span><a name="phase_input_files_2056201373_747952"></a>Encoding of mask values for groups 1 and 2</p>
            </caption>
            <thead>
                <tr class="TableStyle-StandardRules-Head-Header1">
                    <td class="TableStyle-StandardRules-HeadE-Column1-Header1">
                        <p class="Cell_Heading">maskValue</p>
                    </td>
                    <td class="TableStyle-StandardRules-HeadE-Column1-Header1">
                        <p class="Cell_Heading">groupNumber</p>
                    </td>
                    <td class="TableStyle-StandardRules-HeadD-Column1-Header1">
                        <p class="Cell_Heading">minMatch</p>
                    </td>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-StandardRules-Body-Body1">
                    <td class="TableStyle-StandardRules-BodyH-Column1-Body1">
                        <p class="Cell_Body_Decimal">2</p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyH-Column1-Body1">
                        <p class="Cell_Body_Decimal">1</p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyG-Column1-Body1">
                        <p class="Cell_Body_Decimal">0</p>
                    </td>
                </tr>
                <tr class="TableStyle-StandardRules-Body-Body1">
                    <td class="TableStyle-StandardRules-BodyE-Column1-Body1">
                        <p class="Cell_Body_Decimal">3</p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyE-Column1-Body1">
                        <p class="Cell_Body_Decimal">1</p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyD-Column1-Body1">
                        <p class="Cell_Body_Decimal">1</p>
                    </td>
                </tr>
                <tr class="TableStyle-StandardRules-Body-Body2">
                    <td class="TableStyle-StandardRules-BodyH-Column1-Body2">
                        <p class="Cell_Body_Decimal">4</p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyH-Column1-Body2">
                        <p class="Cell_Body_Decimal">2</p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyG-Column1-Body2">
                        <p class="Cell_Body_Decimal">0</p>
                    </td>
                </tr>
                <tr class="TableStyle-StandardRules-Body-Body2">
                    <td class="TableStyle-StandardRules-BodyE-Column1-Body2">
                        <p class="Cell_Body_Decimal">5</p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyE-Column1-Body2">
                        <p class="Cell_Body_Decimal">2</p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyD-Column1-Body2">
                        <p class="Cell_Body_Decimal">1</p>
                    </td>
                </tr>
                <tr class="TableStyle-StandardRules-Body-Body1">
                    <td class="TableStyle-StandardRules-BodyH-Column1-Body1">
                        <p class="Cell_Body_Decimal">6</p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyH-Column1-Body1">
                        <p class="Cell_Body_Decimal">2</p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyG-Column1-Body1">
                        <p class="Cell_Body_Decimal">2</p>
                    </td>
                </tr>
                <tr class="TableStyle-StandardRules-Body-Body1">
                    <td class="TableStyle-StandardRules-BodyB-Column1-Body1">
                        <p class="Cell_Body_Decimal">7</p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyB-Column1-Body1">
                        <p class="Cell_Body_Decimal">2</p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyA-Column1-Body1">
                        <p class="Cell_Body_Decimal">3</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>From the values in this table, it should be clear that there are multiple mask values that can be used to encode a given grouping and matching requirement. For example, if only 1 site from a given group must be matched, valid mask values are 3, 5, 9, 17, 33, and so on. If 2 sites from a group must be matched, valid mask values are 6, 10, 18, 34, ... . If 3 sites from a group must be matched, valid mask values are 7, 11, 19, 35, ... . This redundancy is necessary in order to support different groups for which the same number of sites must be matched.</p>
        <p>As an example, suppose you have a 5-point hypothesis DHHRR where sites 1 and 3 are in a group, sites 2, 4 and 5 are in a group, and the minimum number of sites to match in the two groups are 1 and 2, respectively. Then any of the following site mask files are valid:</p>
        <table class="TableStyle-Formatting" style="caption-side: top;mc-table-style: url('../Resources/TableStyles/Formatting.css');" cellspacing="0">
            <tbody>
                <tr class="Formatting">
                    <td class="TableStyle-Formatting-BodyH-Column1-">
                        <p>File 1:</p>
                    </td>
                    <td class="TableStyle-Formatting-BodyH-Column1-">
                        <p>File 2:</p>
                    </td>
                    <td class="TableStyle-Formatting-BodyG-Column1-">
                        <p>File 3:</p>
                    </td>
                </tr>
                <tr class="Formatting">
                    <td class="TableStyle-Formatting-BodyB-Column1-"><pre class="CodeSmall">
1 D 3
2 H 6
3 H 3
4 R 6
5 R 6
</pre>
                    </td>
                    <td class="TableStyle-Formatting-BodyB-Column1-"><pre class="CodeSmall">
1 D 9
2 H 6
3 H 9
4 R 6
5 R 6
</pre>
                    </td>
                    <td class="TableStyle-Formatting-BodyA-Column1-"><pre class="CodeSmall">
1 D 3
2 H 10
3 H 3
4 R 10
5 R 10
</pre>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>An alternative for excluding sites from matching is to use a hypothesis rules file—see <a class="TopicLink MCXref xref xrefTopicLink" href="phase_input_files_hypothesis_rules.htm#phase_input_files_2056201373_746239">Phase Hypothesis Rules File</a>.</p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note:&lt;/b&gt; "><span class="autonumber"><span><b>Note:</b> <![CDATA[ ]]></span></span>The Phase 2.0 format, in which only the column of numbers is given (the third column in the above example files) is still supported, but the new format is recommended.</p>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="phase_input_files_matching_constraints.htm">Phase Matching Constraints File</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="phase_command_referenceTOC.htm">Phase Command Reference Manual</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="phase_input_files_hypothesis_rules.htm">Phase Hypothesis Rules File</a> ▶</span>
                </td>
            </tr>
        </table>
    </body>
</html>