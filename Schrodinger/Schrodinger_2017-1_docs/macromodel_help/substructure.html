<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="Documentation.xml" data-mc-path-to-help-system="../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Help|MacroModel Help">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/docs.css" rel="stylesheet" type="text/css" /><title>MacroModel — Substructure Tab</title>
        <script src="../Resources/Scripts/custom.modernizr.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/foundation.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body><a name="aanchor6278"></a>
        <MadCap:concept term="Help Topics" /><a name="aanchor6279"></a>
        <MadCap:concept term="MacroModel" />
        <table class="navlink">
            <tr>
                <td class="navlink"><a class="navbutton" href="#features">Features</a>
                </td>
                <td class="navlink"><a class="navbutton" href="#links">Links</a>
                </td>
            </tr>
        </table>
        <h1 class="title">MacroModel — Substructure Tab</h1><a name="summary"></a>
        <p>The <span class="GUI">Substructure</span> tab, located on many of the MacroModel panels, allows you to define a substructure of freely moving atoms and any "shells" of constrained or frozen atoms that surround it.</p>
        <p>In calculations involving large systems of atoms often only a portion of the system needs to be fully modeled. For instance, often it is sufficient to model only the immediate environment around the active site of a receptor-ligand complex. The substructure facility provides an effective mechanism for focusing the calculation on the key portions of such systems.</p>
        <p>Substructure atoms are those atoms that are modeled in the normal manner, that is they move freely and interact with other atoms. To provide an effective environment for the substructure atoms, you can define shells of restrained or even immobile (frozen) atoms. These shells can be specified in a number of ways. A common method is to select those atoms that lie within a given distance from substructure atoms or from those atoms in previously defined shells. A typical setup consists of a shell of constrained atoms (radius 5-8&#160;Å) around the substructure and then a shell of frozen atoms (radius 5-8&#160;Å) around the first shell. If substructures and shells are used in this way, any atoms that are not either in the substructure or in the shells are completely ignored in a substructure calculation. By ignoring such atoms and calculating only certain types of interactions amongst the shell atoms, you can dramatically reduce the required memory and computing time.</p>
        <p><b> Note:</b> If only shell atoms are defined and no substructure atoms are defined, all unspecified atoms are treated as substructure atoms and thus fully modeled.</p>
        <p>It is possible to read in an existing substructure definition file and display the resulting substructure in this panel. However, note that substructure files only store the numbers of the atoms in the substructure or shells (with the restraining force constant), not the rules used to identify to which shell they belong. In any particular shell, atoms are just listed in <span class="GUI">Additional atoms for shell</span> with a shell radius of 0, even if the shells were originally defined using distances. However, if substructure definition files are written in ASL format, the ASL syntax for the shell is stored.</p>
        <h2><a name="features"></a>Substructure Tab Features</h2>
        <ul>
            <li value="1"><a href="#feature1">Substructure Definition Section</a>
            </li>
            <li value="2"><a href="#feature2">Shells Definition Section</a>
            </li>
            <li value="3"><a href="#feature3">Input and Output Section</a>
            </li>
            <li value="4"><a href="#feature4">Atom count</a>
            </li>
        </ul>
        <h3><a name="feature1"></a>Substructure Definition Section</h3>
        <dl>
            <dt><a name="feature1.1"></a><span class="GUI">Freely moving atoms (substructure)</span> picking controls</dt>
            <dd>
                <p>Use the standard <a href="../maestro_help/picking_controls.html">picking controls</a> to define the freely moving atoms for the substructure. Normal energy calculations can be performed on the substructure atoms.</p>
            </dd>
            <dt><a name="feature1.2"></a><span class="GUI">Expand to atoms within radius of</span> text box</dt>
            <dd>
                <p>Specify a radius for expanding the substructure. The substructure includes all atoms within the specified radius of the atom set defined in <span class="GUI">Atoms for substructure</span>.</p>
            </dd>
            <dt><a name="feature1.3"></a><span class="GUI">Complete residues</span> option</dt>
            <dd>
                <p>Select to expand the substructure to include residue boundaries, thereby ensuring that only complete residues are included in the substructure. This feature is often used when modeling biopolymers.</p>
            </dd>
            <dt><a name="feature1.4"></a><span class="GUI">Calculate constrained-atom mutual interactions</span> option</dt>
            <dd>
                <p>Select this option to calculate mutual interactions between constrained atoms (both fixed and frozen). These terms are not included in the total energy, which affects energy comparisons.</p>
            </dd>
        </dl>
        <h3><a name="feature2"></a>Shell Definition Section</h3>
        <p>Once the substructure has been defined, it is normal to define "shells" of atoms around the substructure that are to be constrained or frozen. To define a new shell around the substructure, click <span class="GUI">New</span> below the <span class="GUI">Shells</span> list, then select the atoms in the <span class="GUI">Selected shell</span> section.</p>
        <ul>
            <li value="1"><a href="#feature2.1"><span class="GUI">Shells (constrained and frozen atoms)</span> list</a>
            </li>
            <li value="2"><a href="#feature2.2"><span class="GUI">New</span> button</a>
            </li>
            <li value="3"><a href="#feature2.3"><span class="GUI">Delete</span> button</a>
            </li>
            <li value="4"><a href="#feature2.4"><span class="GUI">Radius</span> text box</a>
            </li>
            <li value="5"><a href="#feature2.5"><span class="GUI">Complete residues</span> option</a>
            </li>
            <li value="6"><a href="#feature2.6"><span class="GUI">Force constant</span> text box</a>
            </li>
            <li value="7"><a href="#feature2.7"><span class="GUI">Freeze atoms</span> option</a>
            </li>
            <li value="8"><a href="#feature2.8"><span class="GUI">Additional atoms for shell</span> section</a>
            </li>
        </ul>
        <dl>
            <dt><a name="feature2.1"></a><span class="GUI">Shells (constrained and frozen atoms)</span> list</dt>
            <dd>
                <p>Lists the defined shells, numbered sequentially. To add a shell, click <span class="GUI">New</span> below the list, and use the controls in the <span class="GUI">Selected shell</span> section to specify the shell. When you select a shell in the list, the shell definition is displayed using the controls in the <span class="GUI">Selected shell</span> section.</p>
            </dd>
            <dt><a name="feature2.2"></a><span class="GUI">New</span> button</dt>
            <dd>
                <p>Click to create a new shell. The shell appears in the <span class="GUI">Shells</span> list. You can then use the controls in the <span class="GUI">Selected shell</span> section to select atoms in the shell.</p>
            </dd>
            <dt><a name="feature2.3"></a><span class="GUI">Delete</span> button</dt>
            <dd>
                <p>Delete the shell that is selected in the <span class="GUI">Shells</span> list.</p>
            </dd>
            <dt><a name="feature2.4"></a><span class="GUI">Radius</span>
            </dt>
            <dd>
                <p>Specify a radius for the currently selected shell. All atoms within this distance from atoms in the substructure or in lower-numbered shells are selected.</p>
            </dd>
            <dt><a name="feature2.5"></a><span class="GUI">Complete residues</span>
            </dt>
            <dd>
                <p>Click to automatically encompass complete residues in the selected shell. In biopolymers, a common practice is to select shell boundaries so that they coincide with complete residues.</p>
            </dd>
            <dt><a name="feature2.6"></a><span class="GUI">Force constant</span>
            </dt>
            <dd>
                <p>Specify a force constant, if the atoms in the selected shell are to be constrained with harmonic positional constraints.</p>
            </dd>
            <dt><a name="feature2.7"></a><span class="GUI">Freeze atoms</span>
            </dt>
            <dd>
                <p>Click to freeze, rather than constrain, the atoms in the selected shell. Frozen atoms have no forces acting on them during minimization and dynamics procedures (and hence do not move from their starting positions), however, they do interact with other (moving) atoms</p>
            </dd>
            <dt><a name="feature2.8"></a><span class="GUI">Additional atoms for shell</span>
            </dt>
            <dd>
                <p>Use the standard <a href="../maestro_help/picking_controls.html">picking controls</a> to define atoms to add to the currently selected shell.</p>
            </dd>
        </dl>
        <h3><a name="feature3"></a>Input and Output Section</h3>
        <p>In this section you can read and write substructure files, which include the substructure and the shell definitions.</p>
        <dl>
            <dt><a name="feature3.0"></a><span class="GUI">Read .sbc File </span>
            </dt>
            <dd>
                <p>Click to import substructure and shell definitions from an existing <tt>.sbc</tt> file. Opens a file selector so that you can navigate to and select the file.</p>
            </dd>
            <dt><a name="feature3.1"></a><span class="GUI">Write .sbc File </span>
            </dt>
            <dd>
                <p>Click to save substructure and shell definitions for future use. Enter the desired filename for the <tt>.sbc</tt> file in the dialog box that opens</p>
            </dd>
            <dt><a name="feature3.2"></a><span class="GUI">Write ASL formatted .sbc file</span> option</dt>
            <dd>
                <p>Select this option to write substructures in ASL format (with <code>ASL1</code> and <code>ASL2</code> opcodes) to the <tt>.sbc</tt> file.</p>
            </dd>
            <dt><a name="feature3.3"></a><span class="GUI">Write absolute atom coordinates</span> option</dt>
            <dd>
                <p>Select this option to write the absolute atom coordinates to the <tt>.sbc</tt> file. By default, zeroes are written, meaning that the coordinates from the structure are used for the constraints rather than the coordinates in the <tt>.sbc</tt> file.</p>
            </dd>
        </dl>
        <h3><a name="feature4"></a>Atom Count</h3>
        <p>Below the input and output section is a count of the number of substructure atoms, the number of fixed atoms, and the number of frozen atoms. This count is updated when you add atoms to the substructure or shells.</p>
        <h2><a name="links"></a>Related Topics</h2>
        <ul>
            <li value="1"><a href="potential_tab.html" class="MCXref xref" xrefformat="{paratext}">MacroModel — Potential Tab</a>
            </li>
            <li value="2"><a href="../maestro_command_reference/ASL.html" class="MCXref xref" xrefformat="{paratext}">The Atom Specification Language</a>
            </li>
        </ul>
    </body>
</html>