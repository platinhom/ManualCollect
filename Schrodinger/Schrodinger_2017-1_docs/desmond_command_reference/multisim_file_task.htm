<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="Documentation.xml" data-mc-path-to-help-system="../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Command References|Desmond Command Reference|The multisim Utility|The multisim File Syntax">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>The task Stage in the multisim File</title>
        <link href="../Resources/TableStyles/StandardRules.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link href="../Resources/Stylesheets/docs.css" rel="stylesheet" />
        <script src="../Resources/Scripts/custom.modernizr.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/foundation.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body><a name="aanchor5190"></a>
        <MadCap:concept term="Command Reference" /><a name="aanchor5191"></a>
        <MadCap:concept term="Desmond" /><a name="multisim_1257644870_743831"></a>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="multisim_file_atom_group.htm">The atom_group multisim Keyword</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="desmond_command_referenceTOC.htm">Desmond Command Reference Manual</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="multisim_file_system_builder.htm">The system_builder Stage in the multisim File</a> ▶</span>
                </td>
            </tr>
        </table>
        <h1 class="Title">The task Stage in the multisim File</h1>
        <p>The <code>.msj</code> file should start with a task stage to specify the type of job. Although Multisim can determine the type of job based on the input structure file provided, this can lead to unpredictable behavior if the file was previously used by a different type of job. Explicitly stating the job type avoids this problem, and also permits Multisim to ensure that the input structure file provided is appropriate for the type of calculation requested.</p>
        <p>The task stage has two keywords. The first is <code>task</code>, whose values are listed in <a class="Table_Number MCXref xref xrefTable_Number selected" href="#multisim_1257644870_742821">Table 1</a>.</p>
        <table class="TableStyle-StandardRules" style="caption-side: top;mc-table-style: url('../Resources/TableStyles/StandardRules.css');" cellspacing="0">
            <caption valign="top" style="padding-bottom: 7pt;">
                <p class="Table_Caption" data-mc-autonum="Table 1. "><span class="autonumber"><span>Table 1. </span></span><a name="multisim_1257644870_742821"></a>Values of the task keyword</p>
            </caption>
            <thead>
                <tr class="TableStyle-StandardRules-Head-Header1">
                    <td class="TableStyle-StandardRules-HeadE-Column1-Header1">
                        <p class="Cell_Heading">Value</p>
                    </td>
                    <td class="TableStyle-StandardRules-HeadD-Column1-Header1">
                        <p class="Cell_Heading">Description</p>
                    </td>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-StandardRules-Body-Body1">
                    <td class="TableStyle-StandardRules-BodyH-Column1-Body1">
                        <p class="Cell_Body"><code>desmond:regular</code>
                        </p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyG-Column1-Body1">
                        <p class="Cell_Body">Non-FEP Desmond job</p>
                    </td>
                </tr>
                <tr class="TableStyle-StandardRules-Body-Body1">
                    <td class="TableStyle-StandardRules-BodyE-Column1-Body1">
                        <p class="Cell_Body"><code>desmond:fep</code>
                        </p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyD-Column1-Body1">
                        <p class="Cell_Body">Desmond absolute or relative free energy (FEP) job</p>
                    </td>
                </tr>
                <tr class="TableStyle-StandardRules-Body-Body2">
                    <td class="TableStyle-StandardRules-BodyH-Column1-Body2">
                        <p class="Cell_Body"><code>desmond:afep</code>
                        </p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyG-Column1-Body2">
                        <p class="Cell_Body">Desmond absolute free energy (FEP) job</p>
                    </td>
                </tr>
                <tr class="TableStyle-StandardRules-Body-Body2">
                    <td class="TableStyle-StandardRules-BodyE-Column1-Body2">
                        <p class="Cell_Body"><code>desmond:auto</code>
                        </p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyD-Column1-Body2">
                        <p class="Cell_Body">Desmond job whose type is determined from the input structure file</p>
                    </td>
                </tr>
                <tr class="TableStyle-StandardRules-Body-Body1">
                    <td class="TableStyle-StandardRules-BodyH-Column1-Body1">
                        <p class="Cell_Body"><code>mcpro:auto</code>
                        </p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyG-Column1-Body1">
                        <p class="Cell_Body">MCPRO<sup>+</sup> job whose type is determined from the input structure file</p>
                    </td>
                </tr>
                <tr class="TableStyle-StandardRules-Body-Body1">
                    <td class="TableStyle-StandardRules-BodyB-Column1-Body1">
                        <p class="Cell_Body"><code>mcpro:fep</code>
                        </p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyA-Column1-Body1">
                        <p class="Cell_Body">MCPRO<sup>+</sup> FEP job</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>The second is <code>set_family</code> which can be used to set parameters for a family of stages, e.g.</p><pre>
task {
   task = "desmond:fep"
   set_family = {
      desmond = {
         checkpt.wall_interval   = 7200.0
         checkpt.write_last_step = no
      }
   }
}
</pre>
        <p>The family of stages here is <code>desmond</code>. This family includes <code>minimize</code>, <code>simulate</code>, <code>replica_exchange</code>, and <code>lambda_hopping</code> stages. The settings in the <code>desmond&#160;=&#160;{...}</code> block are effective for all subsequent stages belonging to the <code>desmond</code> family. If there is a conflict between the settings in the <code>set_family</code> block and the explicit settings in a stage, the latter take precedence. For example:</p><pre>
task {
   task = "desmond:fep"
   set_family = {
      desmond = {
         checkpt.wall_interval   = 7200.0
         checkpt.write_last_step = no
      }
   }
}
simulate {
   checkpt.wall_interval = inf
}
</pre>
        <p>The value of the <code>checkpt.wall_interval</code> parameter is set to <code>inf</code>, overriding the setting <code>checkpt.wall_interval = 7200.0</code> within the <code>set_family</code> block, because explicit settings in the stage have higher precedence.</p>
        <p>Valid stage family names include <code>desmond</code> and all stage names. If a stage name is used, the family consists of all stages of that name. For example:</p><pre>
task {
   task = "desmond:fep"
   set_family = {
      simulate = {
         checkpt.wall_interval   = 7200.0
         checkpt.write_last_step = no
      }
   }
}
</pre>
        <p>Here all subsequent <code>simulate</code> stages will be affected, but <code>minimize</code>, <code>replica_exchange</code>, and <code>lambda_hopping</code> stages will not.</p>
        <p>As there are several ways of making settings in addition to stage and stage families, the following list shows the order in which settings are applied: later settings override earlier.</p>
        <table class="AutoNumber_p_Numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 32px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Numbered1" valign="top"><span>1.</span>
                </td>
                <td class="AutoNumber_p_Numbered1" valign="top" data-mc-autonum="1.">Hard-coded defaults</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Numbered1_" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 32px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Numbered1" valign="top"><span>2.</span>
                </td>
                <td class="AutoNumber_p_Numbered1" valign="top" data-mc-autonum="2."><code>task { set_family[.</code><i class="UserReplace">family</i><code>] = </code><i class="UserReplace">settings</i><code> }</code>, affects the specified family after the current task stage. Here, <i class="UserReplace">family</i> can be <code>generic</code> (all stages), <code>desmond</code>, or any stage name. Using a stage name changes settings for all subsequent instances of the stage.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Numbered1_" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 32px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Numbered1" valign="top"><span>3.</span>
                </td>
                <td class="AutoNumber_p_Numbered1" valign="top" data-mc-autonum="3."><code>-c </code><i class="UserReplace">config_file</i>, specifies a default config file for the desmond family.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Numbered1_" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 32px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Numbered1" valign="top"><span>4.</span>
                </td>
                <td class="AutoNumber_p_Numbered1" valign="top" data-mc-autonum="4."><i class="UserReplace">desmond-stage</i><code> { cfg_file = </code><i class="UserReplace">cfg_file_name</i><code> }</code>. Also applies for the system builder, <code>system_builder { csb_file = </code><i class="UserReplace">csb_file_name</i><code> }</code>.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Numbered1_" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 32px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Numbered1" valign="top"><span>5.</span>
                </td>
                <td class="AutoNumber_p_Numbered1" valign="top" data-mc-autonum="5.">Stage settings.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Numbered1_" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 32px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Numbered1" valign="top"><span>6.</span>
                </td>
                <td class="AutoNumber_p_Numbered1" valign="top" data-mc-autonum="6."><i class="UserReplace">stage</i><code> { backend = </code><i class="UserReplace">settings</i><code> }</code> if the stage supports backend settings.</td>
            </tr>
        </table>
        <table class="AutoNumber_p_Numbered1_" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
            <col style="width: 0px;" />
            <col style="width: 32px;" />
            <col style="width: auto;" />
            <tr>
                <td valign="top" />
                <td class="AutoNumber_p_Numbered1" valign="top"><span>7.</span>
                </td>
                <td class="AutoNumber_p_Numbered1" valign="top" data-mc-autonum="7.">Settings made on the command line with <code>-set</code>. </td>
            </tr>
        </table>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="multisim_file_atom_group.htm">The atom_group multisim Keyword</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="desmond_command_referenceTOC.htm">Desmond Command Reference Manual</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="multisim_file_system_builder.htm">The system_builder Stage in the multisim File</a> ▶</span>
                </td>
            </tr>
        </table>
    </body>
</html>