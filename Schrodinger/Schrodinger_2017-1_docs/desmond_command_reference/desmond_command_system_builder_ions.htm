<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="Documentation.xml" data-mc-path-to-help-system="../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Command References|Desmond Command Reference|Running Desmond Simulations from the Command Line|Building a Desmond Model System from the Command Line">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>Setting the Number and Location of Ions in the System Builder File</title>
        <link href="../Resources/Stylesheets/docs.css" rel="stylesheet" />
        <script src="../Resources/Scripts/custom.modernizr.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/foundation.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body><a name="aanchor8376"></a>
        <MadCap:concept term="Command Reference" /><a name="aanchor8377"></a>
        <MadCap:concept term="Desmond" /><a name="desmond_command_97070880_746935"></a>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="desmond_command_system_builder_ffld.htm" xrefformat="{paratext}">Setting Force Field Information in the System Builder File</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="desmond_command_referenceTOC.htm" xrefformat="{paratext}">Desmond Command Reference Manual</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="desmond_command_system_builder_solvent.htm" xrefformat="{paratext}">Adding Solvent in the System Builder File</a> ▶</span>
                </td>
            </tr>
        </table>
        <h1 class="Title">Setting the Number and Location of Ions in the System Builder File</h1>
        <p>The addition of ions to the system is governed by several keywords: <code>add_ion</code>, <code>ion_location</code>, <code>exclude_ion_from</code>, <code>add_salt</code>, and <code>neutralize</code>.</p>
        <p>
            Two commands using the keyword <code>add_ion</code> can be used to add specific numbers of positive and negative ions.</p><pre>
add_ion positive 5
add_ion negative 5
</pre>
        <p>The keyword <code>add_ion</code> adds positive or negative ions to the system. The number of ions to be added is specified as the second argument of this keyword.</p>
        <p>The <code>ion_location</code> keyword can be used to specify the proximity of ions with reference to certain atoms. </p><pre>
ion_location { { <i class="UserReplace">atom1</i> } { <i class="UserReplace">atom2</i> } }
</pre>
        <p>The keyword <code>ion_location</code> is followed by the list of solute atom indexes. Ions are placed near the listed atoms. For each ion, the atom index is given inside braces. Extra atom index specifications are ignored. If there are fewer atom index specifications than there are ions, the remaining ion locations are determined randomly.</p>
        <p>In order to exclude ions near certain atoms, the <code>exclude_ion_from</code> keyword can be used:</p><pre>
exclude_ion_from { <i class="UserReplace">atom-list</i> } <i class="UserReplace">distance</i></pre>
        <p>The keyword <code>exclude_ion_from</code> has two arguments. The first argument is a list of atom indices of solute atoms, in braces. The second argument is the distance value. No ion, whether a single ion or from a salt, is placed within the given distance in angstroms from the listed atoms.</p>
        <p>The salt concentration is determined using the <code>add_salt</code> keyword.</p><pre>
            add_salt <i class="UserReplace">conc</i></pre>
        <p>The keyword <code>add_salt</code> adds the positive and negative salt ions to the system defined above. The argument specifies the salt concentration for the molecular system. Based on the volume of the solvent and the concentration, the number of salt ions is calculated and rounded to an integer value. The coordinates of salt ions are determined randomly.</p>
        <p>The following command can be used to neutralize the system.</p><pre>
neutralize
</pre>
        <p>The net charge of the current solute structures is calculated and the number of counter ions necessary to neutralize the system is added.</p>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="desmond_command_system_builder_ffld.htm" xrefformat="{paratext}">Setting Force Field Information in the System Builder File</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="desmond_command_referenceTOC.htm" xrefformat="{paratext}">Desmond Command Reference Manual</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="desmond_command_system_builder_solvent.htm" xrefformat="{paratext}">Adding Solvent in the System Builder File</a> ▶</span>
                </td>
            </tr>
        </table>
    </body>
</html>