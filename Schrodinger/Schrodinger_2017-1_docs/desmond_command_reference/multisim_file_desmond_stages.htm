<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="Documentation.xml" data-mc-path-to-help-system="../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Command References|Desmond Command Reference|The multisim Utility|The multisim File Syntax">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>The simulate, replica_exchange, and lambda_hopping Stages in the multisim File</title>
        <link href="../Resources/TableStyles/StandardRules.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link href="../Resources/Stylesheets/docs.css" rel="stylesheet" />
        <script src="../Resources/Scripts/custom.modernizr.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/foundation.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body><a name="aanchor7369"></a>
        <MadCap:concept term="Command Reference" /><a name="aanchor7370"></a>
        <MadCap:concept term="Desmond" /><a name="multisim_1257644870_749137"></a>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="multisim_file_assign_forcefield.htm">The assign_forcefield Stage in the multisim File</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="desmond_command_referenceTOC.htm">Desmond Command Reference Manual</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="multisim_file_minimize.htm">The minimize Stage in the multisim File</a> ▶</span>
                </td>
            </tr>
        </table>
        <h1 class="Title"><b>Th</b>e simulate, replica_exchange, and lambda_hopping Stages in the multisim File</h1>
        <p>The keywords that are specific to the <code>simulate</code>, <code>replica_exchange</code>, and <code>lambda_hopping</code> stages are listed in <a class="Table_Number MCXref xref xrefTable_Number selected" href="#multisim_1257644870_743627">Table 1</a>. In addition, the keywords as described in <a class="TopicLink MCXref xref xrefTopicLink" href="desmond_config_file_repexch.htm#desmond_config_file_1551388656_747858">Parameters for Replica Exchange Simulations</a> can be used in the <code>replica_exchange</code> stage. The keywords <code>restrain</code> (<a class="TopicLink MCXref xref xrefTopicLink" href="multisim_file_restrain.htm#multisim_1257644870_743281">The restrain multisim Keyword</a>) and <code>atom_group</code> (<a class="TopicLink MCXref xref xrefTopicLink" href="multisim_file_atom_group.htm#multisim_1257644870_743305">The atom_group multisim Keyword</a>) can also be used in this stage. When they are used, the settings are temporary: they apply only to the current stage. </p>
        <table class="TableStyle-StandardRules" style="caption-side: top;mc-table-style: url('../Resources/TableStyles/StandardRules.css');" cellspacing="0">
            <caption valign="top" style="padding-bottom: 7pt;">
                <p class="Table_Caption" data-mc-autonum="Table 1. "><span class="autonumber"><span>Table 1. </span></span><a name="multisim_1257644870_743627"></a>Keywords for the simulate, replica_exchange, and lambda_hopping stages</p>
            </caption>
            <thead>
                <tr class="TableStyle-StandardRules-Head-Header1">
                    <td class="TableStyle-StandardRules-HeadE-Column1-Header1">
                        <p class="Cell_Heading">Keyword </p>
                    </td>
                    <td class="TableStyle-StandardRules-HeadD-Column1-Header1">
                        <p class="Cell_Heading">Description </p>
                    </td>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-StandardRules-Body-Body1">
                    <td class="TableStyle-StandardRules-BodyH-Column1-Body1">
                        <p class="Cell_Body"><code>fep.model_file</code>
                        </p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyG-Column1-Body1">
                        <p class="Cell_Body">List of structure files, each for use with different lambda windows. This keyword should only be used for FEP jobs.</p>
                    </td>
                </tr>
                <tr class="TableStyle-StandardRules-Body-Body1">
                    <td class="TableStyle-StandardRules-BodyE-Column1-Body1">
                        <p class="Cell_Body"><code>jin_file</code>
                        </p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyD-Column1-Body1">
                        <p class="Cell_Body">List of auxiliary input files for the stage. Usually only needed when custom plugins are used.</p>
                    </td>
                </tr>
                <tr class="TableStyle-StandardRules-Body-Body2">
                    <td class="TableStyle-StandardRules-BodyB-Column1-Body2">
                        <p class="Cell_Body"><code>jout</code>
                        </p>
                    </td>
                    <td class="TableStyle-StandardRules-BodyA-Column1-Body2">
                        <p class="Cell_Body">List of auxiliary output files for the stage. Usually only needed when custom plugins are used.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>The <code>fep.model_file</code> keyword makes it possible to use different input files for different lambda windows. For instance:</p><pre>
task {
   task = "desmond:fep"
}
&#160;
simulate {
   fep.model_file = ["file1.cms" "file2.cms"]
}
</pre>
        <p>Here, the first two windows use the <code>file1.cms</code> and <code>file2.cms</code> respectively. The rest of the windows use the default input file.</p>
        <p>
            Metadynamics simulations can be run by including a <code>meta</code> block in the <code>simulate</code> stage. See <a class="TopicLink MCXref xref xrefTopicLink" href="desmond_config_file_metadynamics.htm#desmond_config_file_1551388656_747905">Parameters for Metadynamics Simulations</a> for the syntax of this block. However, in the multisim file, you must use an ASL expression for the center of mass of a set of atoms, not a list. An example of a metadynamics simulation stage is given below. </p><pre>
simulate {
  cfg_file = "config.cfg"
  jobname = "$MASTERJOBNAME"
  dir = "."
  compress = ""
  meta = {
    cv = [
      {atom = ["mol.n 2 and not a.e H"]
       type = "rgyr"
       width = 0.15
      }
      {atom = ["(res.num 124 and protein) and not a.e H" "mol.num 2 and not a.e H"]
       type = "dist"
       width = 0.05
      }
    ]
    cv_name = "$JOBNAME$[_replica$REPLICA$].cvseq"
    first = 0.0
    height = 0.03
    interval = 0.03
    name = "$JOBNAME$[_replica$REPLICA$].kerseq"
  }
  checkpt.write_last_step = yes
}
</pre>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="multisim_file_assign_forcefield.htm">The assign_forcefield Stage in the multisim File</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="desmond_command_referenceTOC.htm">Desmond Command Reference Manual</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="multisim_file_minimize.htm">The minimize Stage in the multisim File</a> ▶</span>
                </td>
            </tr>
        </table>
    </body>
</html>