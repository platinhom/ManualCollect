<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="Documentation.xml" data-mc-path-to-help-system="../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Help|Canvas Help">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/docs.css" rel="stylesheet" type="text/css" /><title>Kernel-Based Partial Least-Squares Regression Dialog Box</title>
        <script src="../Resources/Scripts/custom.modernizr.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/foundation.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body><a name="aanchor593"></a>
        <MadCap:concept term="Help Topics" /><a name="aanchor594"></a>
        <MadCap:concept term="Canvas" />
        <table class="navlink">
            <tr>
                <td class="navlink"><a class="navbutton" href="#features">Features</a>
                </td>
                <td class="navlink"><a class="navbutton" href="#links">Links</a>
                </td>
            </tr>
        </table>
        <h1 class="title">Kernel-Based Partial Least-Squares Regression Dialog Box</h1>
        <p>Build a model based on a kernel-based partial least squares regression for a selection of properties over a data set of structures, and apply the model to other data sets.</p>
        <p>This method is useful for large numbers of X variables, with both underdetermined and overdetermined systems. KPLS is available with fingerprints as X variables (unlike PLS). KPLS "factors" are constructed as linear combinations of the input X variables by correlating them with the Y variable. If poor test set results are obtained, an alternative to try is <a href="principal_components_regression.html">Principal Components Regression</a>.</p>
        <h2><a name="features"></a>Kernel-Based Partial Least-Squares Regression Dialog Box Features</h2>
        <ul>
            <li value="1"><a href="#feature1"><span class="GUI">Data set</span> option menu</a>
            </li>
            <li value="2"><a href="#feature2"><span class="GUI">Save results as</span> text box</a>
            </li>
            <li value="3"><a href="#options"><span class="GUI">Options</span> tab</a>
                <ul>
                    <li value="1"><a href="#feature3">Model options</a>
                    </li>
                    <li value="2"><a href="#feature5"><span class="GUI">Y variable</span> option menu and search box</a>
                    </li>
                    <li value="3"><a href="#feature24"><span class="GUI">Fingerprint column</span> option menu</a>
                    </li>
                    <li value="4"><a href="#feature6"><span class="GUI">Advanced Options for Fingerprints</span> button</a>
                    </li>
                    <li value="5"><a href="#feature4">Property selection tools</a>
                    </li>
                    <li value="6"><a href="#feature7"><span class="GUI">Maximum number of KPLS factors</span> box</a>
                    </li>
                    <li value="7"><a href="#feature8"><span class="GUI">Stop adding KPLS factors when SD drops to <i>N</i></span> option and text box</a>
                    </li>
                    <li value="8"><a href="#feature9"><span class="GUI">Kernel nonlinearity</span> slider</a>
                    </li>
                    <li value="9"><a href="#feature10"><span class="GUI">Reset</span> button</a>
                    </li>
                    <li value="10"><a href="#feature28"><span class="GUI">Calculate uncertainty on test set predictions</span> option</a>
                    </li>
                    <li value="11"><a href="#feature29"><span class="GUI">Use <i>N</i> bootstrapping cycles</span> box</a>
                    </li>
                </ul>
            </li>
            <li value="4"><a href="#training"><span class="GUI">Training Set</span> tab</a>
                <ul>
                    <li value="1"><a href="#feature12"><span class="GUI">Training set</span> section</a>
                    </li>
                    <li value="2"><a href="#feature14">Data set structure table</a>
                    </li>
                    <li value="3"><a href="#feature16"><span class="GUI">Training</span> tab</a>
                    </li>
                    <li value="4"><a href="#feature17"><span class="GUI">Test</span> tab</a>
                    </li>
                </ul>
            </li>
            <li value="5"><a href="#results"><span class="GUI">Results</span> tab</a>
            </li>
            <li value="6"><a href="#action">Action buttons</a>
                <ul>
                    <li value="1"><a href="#feature20"><span class="GUI">Export Model</span> button</a>
                    </li>
                    <li value="2"><a href="#feature21"><span class="GUI">Scatter Plot</span> button</a>
                    </li>
                    <li value="3"><a href="#feature22"><span class="GUI">Visualize Model</span> button</a>
                    </li>
                    <li value="4"><a href="#feature18"><span class="GUI">Build Model</span> button</a>
                    </li>
                    <li value="5"><a href="#feature19"><span class="GUI">Apply Model</span> button</a>
                    </li>
                </ul>
            </li>
        </ul>
        <dl><a name="feature1"></a>
            <dt><span class="GUI">Data set</span> option menu</dt>
            <dd>
                <p>Select the source of the data. The data source can involve both row and column selection. The choices are:
</p>
                <ul>
                    <li value="1">
                        <p><span class="GUI">Selected rows</span>—Use the rows that are selected in the master view. You must select the rows before opening the dialog box. 
</p>
                    </li>
                    <li value="2">
                        <p><span class="GUI">Visible rows</span>—Use the rows that are displayed (visible) in the master view. You must ensure that the required rows are visible before opening the dialog box.
</p>
                    </li>
                    <li value="3">
                        <p><span class="GUI">Saved view</span>—Use the rows and columns in a chosen saved view. When you select this item, an option menu that lists the
saved views in the project is displayed to the right. You can choose the desired view from this option menu. A second option menu, labeled <span class="GUI">Domain</span>, allows you to choose whether to restrict the rows or the columns, or both, to those of the saved view. Otherwise the visible rows or columns of the Master View are used.
</p>
                    </li>
                    <li value="4">
                        <p><span class="GUI">Original data set for </span><i>jobname</i>—Use the rows and columns that were used for the specified job. This item is only available when you are cloning a job or viewing the results of a job.
</p>
                    </li>
                </ul>
            </dd>
            <dt><a name="feature2"></a><span class="GUI">Save results as</span> text box</dt>
            <dd>
                <p>Assign a name to the results. This name is listed under <span class="GUI">Kernel-Based PLS Regression</span> in the <span class="GUI">Project View</span> window.</p>
            </dd>
            <dt><a name="options"></a><span class="GUI">Options</span> tab</dt>
            <dd>
                <p>In this tab, you can set up the input and options for the job.</p>
                <dl><a name="feature3"></a>
                    <dt>Model options</dt>
                    <dd>
                        <p>Select the option for the action to perform.</p>
                        <ul>
                            <li value="1"><span class="GUI">Build new model</span>—Build a new regression model.</li>
                            <li value="2"><span class="GUI">Apply saved model</span>—Apply the model selected from the option menu.</li>
                            <li value="3"><span class="GUI">Apply imported model</span>—Import and apply a regression model. Click <span class="GUI">Import</span> and navigate to the regression model file. </li>
                        </ul>
                    </dd>
                    <dt><a name="feature5"></a><span class="GUI">Y variable</span> option menu and search box</dt>
                    <dd>
                        <p>Select the Y variable to use in the kernel-based partial least-squares regression. You can type the name in the search box to restrict the menu to the matching properties. The values of the Y variable are displayed in the data set structures table.</p>
                    </dd>
                    <dt><a name="feature24"></a><span class="GUI">Fingerprint column</span> option menu</dt>
                    <dd>
                        <p>If you want to use a fingerprint column for the X variables, choose the column from this option menu. If you want to use other properties, choose <span class="GUI">None</span> from this option menu, and choose the properties with the property selection tools.</p>
                    </dd>
                    <dt><a name="feature6"></a><span class="GUI">Advanced Options for Fingerprints</span> button</dt>
                    <dd>
                        <p>If you choose a fingerprint for the X variables, you can click this button to set filtering options for fingerprints, to remove bits that are on in few molecules or most molecule, or to select the most informative bits. Opens the <a href="kpls_advanced_fingerprints_options.html"><span class="GUI">KPLS - Advanced Fingerprints Options</span> dialog box</a></p>
                    </dd>
                    <dt><a name="feature4"></a>Property selection tools</dt>
                    <dd>
                        <p>Select the properties to use as the X variables in the kernel-based partial least-squares regresssion, using the <a href="property_selector.html">property selection tools</a>. You must also set the <span class="GUI">Fingerprint column</span> to <span class="GUI">None</span> (the default).</p>
                    </dd>
                    <dt><a name="feature7"></a><span class="GUI">Maximum number of KPLS factors</span> box</dt>
                    <dd>
                        <p>Specify the maximum number of KPLS factors to use in the regression model. Regression models are built for increasing numbers of KPLS factors up to this number.</p>
                    </dd>
                    <dt><a name="feature8"></a><span class="GUI">Stop adding KPLS factors when SD drops to <i>N</i></span> option and text box</dt>
                    <dd>
                        <p>Select this option to stop adding KPLS factors when the standard deviation of the regression drops below the value specified in the text box. Using this option could result in fewer KPLS factors than the number specified in the <span class="GUI">Maximum number of KPLS factors</span> box.</p>
                    </dd>
                    <dt><a name="feature9"></a><span class="GUI">Kernel nonlinearity</span> slider</dt>
                    <dd>
                        <p>Change the kernel nonlinearity value. Canvas uses a Gaussian kernel, exp(-d<sup>2</sup>/σ<sup>2</sup>) where d is the Euclidean distance between two X variables. The nonlinearity value is 1/σ, so small values are almost linear, and large values are very nonlinear. Higher nonlinearity typically leads to tighter fitting, but it also tends to give poorer predictions on new compounds.</p>
                    </dd>
                    <dt><a name="feature10"></a><span class="GUI">Reset</span> button</dt>
                    <dd>
                        <p>Reset the nonlinearity to the default value.</p>
                    </dd>
                    <dt><a name="feature28"></a><span class="GUI">Calculate uncertainty on test set predictions</span> option</dt>
                    <dd>
                        <p>Calculate a confidence interval for each predicted value in the test set, by bootstrapping. This is done by sampling the training set randomly with replacement to generate a new test set of the same size with duplicates, building a model and making predictions of the test set, then repeating the procedure a specified number of times. The standard deviation from the original test set is then calculated as the uncertainty.</p>
                    </dd>
                    <dt><a name="feature29"></a><span class="GUI">Use <i>N</i> bootstrapping cycles</span> box</dt>
                    <dd>
                        <p>Specify the number of times a random sample is made and a prediction obtained in the uncertainty calculations. This number determines how many values are used in calculating the standard devation, and should be at least 5.</p>
                    </dd>
                </dl>
            </dd>
            <dt><a name="training"></a><span class="GUI">Training Set</span> tab</dt>
            <dt><a name="results"></a><span class="GUI">Results</span> tab</dt>
            <dd>
                <p>This tab is initially labeled <span class="GUI">Training Set</span>, and is relabeled <span class="GUI">Results</span> after a model is built. It contains controls for selecting the training set and test set, and displays the results.</p>
                <dl>
                    <dt><a name="feature12"></a><span class="GUI">Training set</span> section</dt>
                    <dd>
                        <p>Assign the training set and the test set using an automated procedure, using the controls in this section, described below.</p>
                        <dl>
                            <dt><span class="GUI">Assign randomly</span> option and box</dt>
                            <dd>
                                <p>Select this option to assign the training set randomly, and specify the percentage of the rows to include in the training set. The rest are assigned to the test set.</p>
                            </dd>
                            <dt><span class="GUI">Seed</span> text box</dt>
                            <dd>
                                <p>Specify the seed for generating random numbers, used to assign the training set.</p>
                            </dd>
                            <dt><span class="GUI">Generate Seed</span> button</dt>
                            <dd>
                                <p>Click this button to generate a seed. The seed is displayed in the <span class="GUI">Seed</span> text box.</p>
                            </dd>
                            <dt><span class="GUI">Assign from partition</span> option and menu</dt>
                            <dd>
                                <p>Select this option to assign the training set and the test set from a partition. One class value can be chosen for each set. The rows in the remaining classes are not assigned to any set.</p>
                            </dd>
                            <dt><span class="GUI">Training set value</span> option menu</dt>
                            <dd>
                                <p>Choose the partition class value from this option menu to assign the members of the class to the training set. The percentage of the total number of rows in this class is shown in the text box to the right.</p>
                            </dd>
                            <dt><span class="GUI">Test set value</span> option menu</dt>
                            <dd>
                                <p>Choose the partition class value from this option menu to assign the members of the class to the test set. The percentage of the number of rows in this class is shown in the text box to the right.</p>
                            </dd>
                            <dt><span class="GUI">Apply</span> button</dt>
                            <dd>
                                <p>Apply the choices in this section to generate the training set and the test set.</p>
                            </dd>
                        </dl>
                    </dd>
                    <dt><a name="feature14"></a>Dataset structure table</dt>
                    <dd>
                        <p>Table of structures in the dataset. The <span class="GUI">Structure</span> column lists the title of each structure. Pausing the pointer in this column displays the 2D structure in a tooltip. The <span class="GUI">Model Set</span> column indicates whether a structure is in the training set (<span class="GUI">training</span>), the test set (<span class="GUI">test</span>), or neither (<span class="GUI">none</span>). When you select the Y variable, its values are added to the table.</p>
                        <p>When <span class="GUI">Build new model</span> is selected, you can assign the training and test sets manually by changing the value in the <span class="GUI">Model Set</span> column. If you double-click in a cell, an option menu is displayed, from which you can choose the set. To assign the set for multiple rows, select the rows, then right-click in a cell and choose the set from the <span class="GUI">Change Selected</span> submenu of the shortcut menu.</p>
                        <p>When a model is applied, a column is added to the table for the predicted property value and for the error in the predicted value. If you selected <span class="GUI">Calculate uncertainty on test set predictions</span>, the uncertainty is reported for the test set molecules.</p>
                        <p>To export the table data, select the rows you want to export, then right-click and choose <span class="GUI">Export to File</span> or <span class="GUI">Export to Spreadsheet</span>. For export to a file, data in all columns for the selected rows are written to a CSV file with column headings. Exporting to the spreadsheet adds the predicted values to the spreadsheet with a prefix that you can change.</p>
                    </dd>
                    <dt><a name="feature16"></a><span class="GUI">Training</span> tab</dt>
                    <dd>
                        <p>Displays statistics of the regression for the training set (standard deviation and R^2).</p>
                    </dd>
                    <dt><a name="feature17"></a><span class="GUI">Test</span> tab</dt>
                    <dd>
                        <p>Displays statistics for the test set (RMS error and Q^2).</p>
                    </dd>
                </dl>
            </dd>
            <dt><a name="action"></a>Action buttons</dt>
            <dd>
                <dl>
                    <dt><a name="feature20"></a><span class="GUI">Export Model</span> button</dt>
                    <dd>
                        <p>Export the model to a file. Opens a file chooser, in which you can navigate to a location and name the file.</p>
                    </dd><a name="feature21"></a>
                    <dt><span class="GUI">Scatter Plot</span> button</dt>
                    <dd>
                        <p>Display a <a href="scatter_plot.html">scatter plot</a> of predictions of the Y variable property against the property for the model that is selected in the results tabs. Opens a dialog box in which you can choose the points that you want to plot (<span class="GUI">Domain</span> section), the colors for the training and test set (<span class="GUI">Colors</span> section, and select an option to draw the line of perfect fit (45-degree line), then click <span class="GUI">Plot</span> to plot the data.
</p>
                    </dd>
                    <dt><a name="feature22"></a><span class="GUI">Visualize Model</span> button</dt>
                    <dd>
                        <p>Visualize a model built on fingerprints. Opens the <a href="kpls_model_visualization.html"><span class="GUI">Model Visualization</span> dialog box</a></p>
                    </dd>
                    <dt><a name="feature18"></a><span class="GUI">Build Model</span> button</dt>
                    <dd>
                        <p>Run the job to build the regression model.</p>
                    </dd>
                    <dt><a name="feature19"></a><span class="GUI">Apply Model</span> button</dt>
                    <dd>
                        <p>Apply the selected model to the dataset. Not available when <span class="GUI">Build new model</span> is selected in the <span class="GUI">Options</span> tab.</p>
                    </dd>
                </dl>
            </dd>
        </dl>
        <h2><a name="links"></a>Related Topics</h2>
        <ul>
            <li value="1"><a href="kpls_advanced_fingerprints_options.html" class="MCXref xref" xrefformat="{paratext}">KPLS - Advanced Fingerprints Options Dialog Box</a>
            </li>
            <li value="2"><a href="scatter_plot.html" class="MCXref xref" xrefformat="{paratext}">Scatter Plot Panel</a>
            </li>
            <li value="3"><a href="kpls_model_visualization.html" class="MCXref xref" xrefformat="{paratext}">Model Visualization Dialog Box</a>
            </li>
            <li value="4"><a href="partial_least_squares_regression.html" class="MCXref xref" xrefformat="{paratext}">Partial Least-Squares Regression Dialog Box</a>
            </li>
            <li value="5"><a href="choosing_model.html" class="MCXref xref" xrefformat="{paratext}">Choosing a Model</a>
            </li>
            <li value="6"><a href="applications_menu.html" class="MCXref xref" xrefformat="{paratext}">Applications Menu</a>
            </li>
        </ul>
    </body>
</html>