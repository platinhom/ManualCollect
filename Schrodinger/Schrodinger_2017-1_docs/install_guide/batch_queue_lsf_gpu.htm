<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="Documentation.xml" data-mc-path-to-help-system="../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Installation and Jobs|Installation Guide|Preparing for Batch Queue Submission|Setup for LSF Queueing System">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>GPU Setup for LSF</title>
        <link href="../Resources/Stylesheets/docs.css" rel="stylesheet" />
        <script src="../Resources/Scripts/custom.modernizr.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/foundation.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body><a name="aanchor3997"></a>
        <MadCap:concept term="Installation/Jobs" /><a name="aanchor3998"></a>
        <MadCap:concept term="Installation and Jobs" /><a name="batch_queue_1876641381_784753"></a>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="batch_queue_lsf_openmpi.htm" xrefformat="{paratext}">OpenMPI Setup for LSF</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="install_guideTOC.htm" xrefformat="{paratext}">Installation Guide</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="batch_queue_lsf_license_check.htm" xrefformat="{paratext}">License Checking for LSF</a> ▶</span>
                </td>
            </tr>
        </table>
        <h1 class="Title">GPU Setup for LSF</h1>
        <p>First, you must configure LSF for GPU resource usage, according to the instructions in the LSF documentation. Once configured, you can set up hosts file entries for use by Schrödinger software.To configure LSF you will need to define the GPU resources using the native support as defined on the LSF web site, <a href="https://www.ibm.com/support/knowledgecenter/SSETD4_9.1.2/lsf_admin/define_gpu_mic_resources.dita">https://www.ibm.com/support/knowledgecenter/SSETD4_9.1.2/lsf_admin/define_gpu_mic_resources.dita</a>. Then the hosts file entry should look like the following example:</p><pre xml:space="preserve">
# LSF
name: lsf-gpu
host: headnode.mycluster.com
queue: LSF
qargs: -q myqueue -n %NPROC% -R \"span[hosts=1]\" -R \"rusage[ngpus_excl_p=1]\"
tmpdir: /usr/local/tmp
schrodinger: /opt/bin/schrodinger<span class="VariablesRelease">2017-1</span>
gpgpu: 0, Tesla K40
gpgpu: 1, Tesla K40
gpgpu: 2, Tesla K40
</pre>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="batch_queue_lsf_openmpi.htm" xrefformat="{paratext}">OpenMPI Setup for LSF</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="install_guideTOC.htm" xrefformat="{paratext}">Installation Guide</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="batch_queue_lsf_license_check.htm" xrefformat="{paratext}">License Checking for LSF</a> ▶</span>
                </td>
            </tr>
        </table>
    </body>
</html>