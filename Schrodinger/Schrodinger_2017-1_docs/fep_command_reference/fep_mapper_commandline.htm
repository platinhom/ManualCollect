<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us" lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Documentation.xml" data-mc-path-to-help-system="../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Command References|FEP+ Command Reference">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>Running FEP Mapper Jobs from the Command Line</title>
        <link href="../Resources/Stylesheets/docs.css" rel="stylesheet" />
        <script src="../Resources/Scripts/custom.modernizr.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/foundation.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body><a name="aanchor776"></a>
        <MadCap:concept term="Command Reference" /><a name="aanchor777"></a>
        <MadCap:concept term="FEP+" />
        <h1>Running FEP Mapper Jobs from the Command Line</h1>
        <p>The first step is to write out the input files. You can do this by setting up the job in the <span class="GUI">FEP Mapper</span> panel first (see <a href="../fep_user_manual/fep_mapper_running.htm" class="MCXref xref">Setting Up and Running an FEP Mapper Job</a>), and then do the following:</p>
        <ol>
            <li value="1">
                <p>Click the arrow next to the <span class="GUI">Settings</span> button.</p>
                <p>
                    <img src="../Resources/Images/Toolbuttons/settings.png" style="margin-left: 2px;margin-right: 2px;margin-top: 2px;margin-bottom: 2px;" />
                </p>
            </li>
            <li value="2">
                <p>Choose <span class="GUI">Write</span> from the menu.</p>
                <p>The files are written into the <i class="UserReplace">jobname </i>subdirectory of the current working directory, where <i class="UserReplace">jobname </i>is the name specified for the job. See<a href="fep_mapper_files.htm" class="MCXref xref">FEP Mapper Input and Output Files and Directories </a> for a description of these files.</p>
            </li>
        </ol>
        <p>Jobs are run with the <code>fep_plus</code> command. For information on how to use <code>fep_plus</code> to run the job, prepare the input msj files with different options, restart the jobs and extend the job, enter the following command:</p><pre>$SCHRODINGER/fep_plus -help </pre>
        <p>The input files include a shell script, <span class="UserReplace">jobname</span><code>.sh</code>, which you can use to run the FEP mapper job on the host and subhost selected in the GUI.</p>
        <p>Adding <code>-prepare</code> at the end of the command in <span class="UserReplace">jobname</span><code>.sh</code>script and running this script writes out the <span class="UserReplace">jobname</span><code>_complex.msj</code> and <span class="UserReplace">jobname</span><code>_solvent.msj</code> files in the same directory.</p>
        <p>If somes edges failed, you can restart the FEP mapper job with the script <code>restart_</code><span class="UserReplace">jobname</span><code>.sh</code> .</p>
        <p>After the job finishes, if some edges need to run longer to converge, you can create a file listing the edges that need to run longer, and run these edges. To do this:</p>
        <ol>
            <li value="1">Make a copy of the  <span class="UserReplace">jobname</span><code>.edge</code> file, which contains a list of all the edges. </li>
            <li value="2">Edit the copy, and remove the lines for the edges that are converged.</li>
            <li value="3">Edit <code>extend_</code><i class="UserReplace">jobname</i><code>.sh</code> and replace <span class="UserReplace">jobname</span><code>.edge</code> with the name of the copy.</li>
            <li value="4">Run <code>extend_</code><i class="UserReplace">jobname</i><code>.sh</code>.</li>
        </ol>
    </body>
</html>