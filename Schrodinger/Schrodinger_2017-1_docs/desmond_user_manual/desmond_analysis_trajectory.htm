<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="Documentation.xml" data-mc-path-to-help-system="../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="User Manuals|Desmond User Manual|Analyzing Desmond Simulations">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>Viewing Desmond Trajectories</title>
        <link href="../Resources/TableStyles/Formatting.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link href="../Resources/Stylesheets/docs.css" rel="stylesheet" />
        <script src="../Resources/Scripts/custom.modernizr.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/foundation.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body><a name="aanchor7093"></a>
        <MadCap:concept term="User Manuals" /><a name="aanchor7094"></a>
        <MadCap:concept term="Desmond" /><a name="desmond_analysis_3995917493_763974"></a>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="desmond_analysis.htm">Analyzing Desmond Simulations</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="desmond_user_manualTOC.htm">Desmond User Manual</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="desmond_analysis_quality.htm">Desmond Simulation Quality Analysis</a> ▶</span>
                </td>
            </tr>
        </table>
        <h1 class="Title">Viewing Desmond Trajectories</h1>
        <p>You can play through trajectories, examine individual frames, and export trajectory data in a variety of forms, in the <span class="GUI">Trajectory</span> panel. To open the <span class="GUI">Trajectory</span> panel, click the <span class="GUI">T</span> button in the <span class="GUI">Title</span> column of the Project Table for the entry whose trajectory you want to view.</p>
        <p>If you have entries in the Workspace, a panel opens asking if you want to keep them in the Workspace while the trajectory is played, or to remove them. Keeping the entries in the Workspace allows you to view the trajectory against a fixed background. You can superimpose the trajectory atoms on the background, and you can set up measurements, such as H-bonds, between the background atoms and the trajectory atoms, which are updated during play. </p>
        <p>The toolbar in the <span class="GUI">Trajectory</span> panel contains a standard set of controls for playing through the trajectory frames, which are listed below. The menu bar has one menu, <span class="GUI">Play</span>, which contains items that correspond to the toolbar buttons. </p>
        <table class="TableStyle-Formatting" style="caption-side: top;mc-table-style: url('../Resources/TableStyles/Formatting.css');" cellspacing="0">
            <tbody>
                <tr class="Formatting">
                    <td class="TableStyle-Formatting-BodyH-Column1-">
                        <p class="image"><span class="_Override"><img src="../Resources/Images/Toolbuttons/eplayer_goto_start.png" style="margin-left: 2px;margin-right: 2px;margin-top: 2px;margin-bottom: 2px;" /></span>
                        </p>
                    </td>
                    <td class="TableStyle-Formatting-BodyG-Column1-">
                        <p class="Cell_Body"><span class="Helvetica">Go to start</span>
                        </p>
                        <p class="Cell_Body">Display the first frame. </p>
                    </td>
                </tr>
                <tr class="Formatting">
                    <td class="TableStyle-Formatting-BodyH-Column1-">
                        <p class="image">
                            <img src="../Resources/Images/Toolbuttons/eplayer_previous.png" style="margin-left: 2px;margin-right: 2px;margin-top: 2px;margin-bottom: 2px;" />
                        </p>
                    </td>
                    <td class="TableStyle-Formatting-BodyG-Column1-">
                        <p class="Cell_Body"><span class="Helvetica">Previous</span>
                        </p>
                        <p class="Cell_Body">Display the previous frame.</p>
                    </td>
                </tr>
                <tr class="Formatting">
                    <td class="TableStyle-Formatting-BodyH-Column1-">
                        <p class="image">
                            <img src="../Resources/Images/Toolbuttons/eplayer_playback.png" style="margin-left: 2px;margin-right: 2px;margin-top: 2px;margin-bottom: 2px;" />
                        </p>
                    </td>
                    <td class="TableStyle-Formatting-BodyG-Column1-">
                        <p class="Cell_Body"><span class="Helvetica">Play backward</span>
                        </p>
                        <p class="Cell_Body">Display the frames in sequence, moving toward the first.</p>
                    </td>
                </tr>
                <tr class="Formatting">
                    <td class="TableStyle-Formatting-BodyH-Column1-">
                        <p class="image">
                            <img src="../Resources/Images/Toolbuttons/eplayer_stop.png" style="margin-left: 2px;margin-right: 2px;margin-top: 2px;margin-bottom: 2px;" />
                        </p>
                    </td>
                    <td class="TableStyle-Formatting-BodyG-Column1-">
                        <p class="Cell_Body"><span class="Helvetica">Stop</span>
                        </p>
                        <p class="Cell_Body">Stop playing through the frames.</p>
                    </td>
                </tr>
                <tr class="Formatting">
                    <td class="TableStyle-Formatting-BodyH-Column1-">
                        <p class="image">
                            <img src="../Resources/Images/Toolbuttons/eplayer_play.png" style="margin-left: 2px;margin-right: 2px;margin-top: 2px;margin-bottom: 2px;" />
                        </p>
                    </td>
                    <td class="TableStyle-Formatting-BodyG-Column1-">
                        <p class="Cell_Body"><span class="Helvetica">Play forward</span>
                        </p>
                        <p class="Cell_Body">Display the frames in sequence, moving toward the last.</p>
                    </td>
                </tr>
                <tr class="Formatting">
                    <td class="TableStyle-Formatting-BodyH-Column1-">
                        <p class="image">
                            <img src="../Resources/Images/Toolbuttons/eplayer_next.png" style="margin-left: 2px;margin-right: 2px;margin-top: 2px;margin-bottom: 2px;" />
                        </p>
                    </td>
                    <td class="TableStyle-Formatting-BodyG-Column1-">
                        <p class="Cell_Body"><span class="Helvetica">Next</span>
                        </p>
                        <p class="Cell_Body">Display the next frame.</p>
                    </td>
                </tr>
                <tr class="Formatting">
                    <td class="TableStyle-Formatting-BodyH-Column1-">
                        <p class="image">
                            <img src="../Resources/Images/Toolbuttons/eplayer_goto_end.png" style="margin-left: 2px;margin-right: 2px;margin-top: 2px;margin-bottom: 2px;" />
                        </p>
                    </td>
                    <td class="TableStyle-Formatting-BodyG-Column1-">
                        <p class="Cell_Body"><span class="Helvetica">Go to end</span>
                        </p>
                        <p class="Cell_Body">Display the last frame.</p>
                    </td>
                </tr>
                <tr class="Formatting">
                    <td class="TableStyle-Formatting-BodyB-Column1-">
                        <p class="image">
                            <img src="../Resources/Images/Toolbuttons/eplayer_loop.png" style="margin-left: 2px;margin-right: 2px;margin-top: 2px;margin-bottom: 2px;" />
                        </p>
                    </td>
                    <td class="TableStyle-Formatting-BodyA-Column1-">
                        <p class="Cell_Body"><span class="Helvetica">Loop</span>
                        </p>
                        <p class="Cell_Body">Choose an option for repeating the display of the frames. <span class="Helvetica">Single direction</span> displays frames in a single direction, then repeats. <span class="Helvetica">Oscillate</span> reverses direction each time the beginning or end of the frame set is reached.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>&#160;</p>
        <p class="image">
            <img src="../Resources/Images/Common/trajectory.png" style="margin: 2px;" />
        </p>
        <p>You can control the selection of frames and the speed of play in the <span class="GUI">Frame control</span> section of the panel.</p>
        <ul>
            <li value="1">
                <p class="ListPara">The <span class="GUI">Start</span> and <span class="GUI">End</span> text boxes define the frames at which play starts and ends. Frames are numbered from 0. </p>
            </li>
            <li value="2">
                <p class="ListPara">The <span class="GUI">Frame</span> slider and frame text box can be used to select the frame to view. The current frame number is displayed in the text box below the slider. The total number of frames is also displayed in a noneditable text box. </p>
            </li>
            <li value="3">
                <p class="ListPara">The <span class="GUI">Step</span> text box sets the number of frames to step when playing through frames. This value does not affect the <span class="GUI">Frame</span> slider. The frames that are selected for play can be exported as a selection of frames, using the output buttons. </p>
            </li>
            <li value="4">
                <p class="ListPara">The <span class="GUI">Time</span> text boxes display the time for the current frame and the total time for the trajectory. You can enter a time in the text box to select a frame. </p>
            </li>
            <li value="5">
                <p class="ListPara">The <span class="GUI">Speed</span> slider sets the speed at which the frames are played. </p>
            </li>
        </ul>
        <p>By default, the clipping planes window is automatically hidden when you play through a trajectory, as this speeds up play by about 50%. It is displayed again (if it was originally displayed) when play stops. If you want to see the clipping planes window during play, deselect <span class="GUI">Hide clipping planes during continuous play.</span></p>
        <p>In the <span class="GUI">Display</span> section you can control how frames are displayed in the Workspace and what features are displayed:</p>
        <ul>
            <li value="1">
                <p class="ListPara"><span class="GUI">Use lower quality drawing to speed up play</span>—Use a lower quality representation of objects (tubes, spheres) in the Workspace to speed up play. This option has no effect on wire frame representation.</p>
            </li>
            <li value="2">
                <p class="ListPara"><span class="GUI">Update secondary structure</span>—Update the secondary structure assignment for each frame.</p>
            </li>
            <li value="3">
                <p class="ListPara"><span class="GUI">Show simulation box</span>—Show the edges of the simulation box (in purple). </p>
            </li>
            <li value="4">
                <p class="ListPara"><span class="GUI">Show axes</span>—Show the coordinate axes in green. </p>
            </li>
            <li value="5">
                <p class="ListPara"><span class="GUI">Replicate system</span>—Enter the number of replicas of the system to display in each of the three directions. This enables you to visualize the movement across the simulation box boundaries. These text boxes are unavailable if there are no periodic boundary conditions. </p>
            </li>
            <li value="6">
                <p class="ListPara"><span class="GUI">Trajectory smoothing</span>—Smooth the trajectory by averaging the coordinates over the specified number of frames. </p>
            </li>
            <li value="7">
                <p class="ListPara"><span class="GUI">Positioning</span>—Select on of these options to control the positioning of each frame relative to the Workspace during play. </p>
                <ul>
                    <li value="1">
                        <p class="ListPara"><span class="GUI">Do not adjust</span>—Do not adjust the positioning of each frame.</p>
                    </li>
                    <li value="2">
                        <p class="ListPara"><span class="GUI">Superimpose on frame</span>—Align the structure in each frame by superimposing a selection of atoms on the corresponding atoms in the frame number given in the text box. Use the <span class="GUI">Pick atoms for positioning</span> picking controls to make the atom selection.</p>
                    </li>
                    <li value="3">
                        <p class="ListPara"><span class="GUI">Superimpose on Workspace structure</span>—Align the structure in each frame by superimposing a selection of atoms on the corresponding atoms in the Workspace (that are not part of the trajectory). Use the <span class="GUI">Pick atoms for positioning</span> picking controls to make the atom selection, which must match both the Workspace structures and the trajectory structure.</p>
                    </li>
                    <li value="4">
                        <p class="ListPara">Center molecules—Center the selected molecules in the Workspace. Use the <span class="GUI">Pick atoms for positioning</span> picking controls to make the atom selection.</p>
                    </li>
                </ul>
            </li>
            <li value="8">
                <p class="ListPara"><span class="GUI">Pick atoms for positioning</span>—Use these picking controls to select the atoms to superimpose or to center. You should consider picking atoms that do not change their position much during the simulation. </p>
            </li>
        </ul>
        <p>If you want to superimpose the trajectory on the Workspace structure, you must take care when you select the atoms to superimpose. The ASL expression for the selection in the Workspace structure is applied to each trajectory frame. If the ASL expression depends on the numbering (atom number, molecule number, etc.) and the order of the objects in the trajectory frames is not the same as in the Workspace structure, you may get unexpected results. You should use ASL expressions that are not order-dependent. You can use the atom selection button to choose from a variety of structural features whose ASL expressions are not order-dependent, like <span class="GUI">Backbone</span> or <span class="GUI">Ligands</span>. If the ordering is a problem, you could instead align the Workspace structure to a particular frame, and then play the trajectory by superimposing on that frame. </p>
        <p>The atoms that are visible in each frame can be set either with the Workspace toolbar buttons, or with the tools in the <span class="GUI">Atoms to display in each frame</span> section.</p>
        <p>To select the atoms that are visible when frames are displayed, use the selection tools to select the atoms and the Style toolbox buttons to control the atom display:</p>
        <p class="image">
            <img src="../Resources/Images/maestro/display_atoms.png" style="margin-left: 2px;margin-right: 2px;margin-top: 2px;margin-bottom: 2px;" />
            <img src="../Resources/Images/maestro/display_selected_atoms_only.png" style="margin-left: 2px;margin-right: 2px;margin-top: 2px;margin-bottom: 2px;" />
        </p>
        <p>The choice that you make with the toolbar buttons is recorded as an atom set, and is applied to each frame. The same atoms are always displayed in each frame, no matter where they move in the trajectory. </p>
        <p>To display the atoms that come within a given distance of a particular set of atoms (such as a ligand or a binding site), use the <span class="GUI">Atoms to display in each frame</span> section. You can select the atoms that are always visible with the <span class="GUI">Always display these atoms</span> selection tools. You can then choose to display entire residues that have any atoms within a specified distance of these atoms. This expression is evaluated for each frame, which allows residues (such as water) to move in and out of this distance. The particular set of atoms that is visible can therefore change from frame to frame.</p>
        <p>The output buttons allow you to export the trajectory data in various forms. You can export individual frames, all frames, or the selection of frames defined by using the <span class="GUI">Start</span>, <span class="GUI">End</span>, and <span class="GUI">Step</span> text boxes. The buttons have the following actions:</p>
        <ul>
            <li value="1">
                <p class="ListPara"><span class="GUI">Structure</span>—Save structures from the trajectory to a file or create project entries from the structures. Opens the <span class="GUI">Export Structure</span> dialog box, in which you can specify where the structures will go, which structures to export, and which atoms to export.</p>
            </li>
            <li value="2">
                <p class="ListPara"><span class="GUI">Image</span>—Create an image of the Workspace with the current frame displayed. Opens the <span class="GUI">Save Image</span> panel.</p>
            </li>
            <li value="3">
                <p class="ListPara"><span class="GUI">Movie</span>—Save a movie of the trajectory in MPEG format. Opens the <span class="GUI">Export Movie</span> panel, in which you can select the frames to be exported, the speed and the resolution. </p>
            </li>
        </ul>
        <p>If you want to view a trajectory while a simulation is running, you can do so by importing the <i class="UserReplace">jobname</i><code>-out.cms</code> file for the simulation from the host on which the simulation is running. This file contains information on the location of the trajectory, and should be in the temporary directory for the job. There may also be a copy of the output CMS file in the working directory on the local host, but the trajectory will not be present until the job finishes. Once you have imported the file, click the <span class="GUI">T</span> button for the imported entry. To update the trajectory later, you must reimport the file.</p>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="desmond_analysis.htm">Analyzing Desmond Simulations</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="desmond_user_manualTOC.htm">Desmond User Manual</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="desmond_analysis_quality.htm">Desmond Simulation Quality Analysis</a> ▶</span>
                </td>
            </tr>
        </table>
    </body>
</html>