<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="Documentation.xml" data-mc-path-to-help-system="../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Help|Glide Help">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/docs.css" rel="stylesheet" type="text/css" />
        <link href="../Resources/TableStyles/Formatting.css" rel="stylesheet" data-mc-stylesheet-type="table" /><title>Enrichment Calculator Panel</title>
        <script src="../Resources/Scripts/custom.modernizr.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/foundation.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body><a name="aanchor8021"></a>
        <MadCap:concept term="Help Topics" /><a name="aanchor8022"></a>
        <MadCap:concept term="Glide" />
        <table class="navlink">
            <tr>
                <td class="navlink"><a class="navbutton selected" href="#using">Using</a>
                </td>
                <td class="navlink"><a class="navbutton selected" href="#features">Features</a>
                </td>
                <td class="navlink"><a class="navbutton selected" href="#links">Links</a>
                </td>
            </tr>
        </table>
        <h1 class="title">Enrichment Calculator Panel</h1><a name="summary"></a>
        <p>Calculate enrichment metrics for a screen that was run with a set of actives and a set of decoys. The results are presented as a text report, and plots for some metrics can be displayed. </p>
        <p>To open this panel, choose <span class="GUI">Tasks → Receptor-Based Virtual Screening → Enrichment Calculator</span> in the Task Tool.</p>
        <h2><a name="using"></a>Using the Enrichment Calculator Panel</h2>
        <p>The purpose of this panel is to assess the enrichment of active compounds in a screening process that includes a set of actives and a set of decoys. The screening can be done with any program:&#160;Glide, Shape Screening, Phase, to name a few. All that is required is information on the identity of the actives and the ordering of the screened compounds by the screening process. The input for the panel is taken from the output from the screening program, which can be in a file or in the Project Table. </p>
        <p>For most screening results formats, titles are used to identify the ligands and the input is expected to be correctly ordered.  If the file contains duplicate titles then only the first occurrence of a unique title is ranked.  Careful consideration must be made when Glide results contain multiple titles to ensure they are properly ordered; ordering by glide score is typically <i>not</i> sufficient. For example, after saving multiple poses per input ligand from a Glide SP and HTVS docking experiment, the poses of the same chemical species should be ordered by Emodel, and different species by GlideScore (or docking score).</p>
        <p>The allowed input file formats for this panel are:</p>
        <ul>
            <li value="1"> Structure file—A file containing ordered structures. e.g. <code>myscreen_pv.mae</code>. The file can be in Maestro or SD format, compressed or uncompressed.</li>
            <li value="2">Glide report file—A Glide docking output report file,  e.g. <code>myscreen.rept</code>.  Note, if the ligand titles overrun the report's column width, it may become impossible to identify unique titles. <b>Note:</b>&#160;this file format is deprecated. </li>
            <li value="3">CSV file—A comma-separated values file.  The first row is expected to contain column headers, one of which must be 'Title'. </li>
            <li value="4">Table file—A space separated, two column file.  The file does not contain title information.  A table file is formatted such that the first column is the rank of each retrieved active, the second column is the cumulative count of actives found, and the last row contains the total number of ligands screened and the total count of the actives possible to find in the screen.</li>
        </ul>
        <p>The enrichment metrics are described below:</p>
        <table style="mc-table-style: url('../Resources/TableStyles/Formatting.css');" class="TableStyle-Formatting" cellspacing="0">
            <tr>
                <td class="TableStyle-Formatting-BodyH-Column1-">BEDROC
</td>
                <td class="TableStyle-Formatting-BodyG-Column1-">Boltzmann-enhanced Discrimination Receiver Operator Characteristic area under the curve.  The value is bounded between 1 and 0, with 1 being ideal screen performance.  The default alpha=20 weights the first ~8% of screen results.  When alpha*Ra &lt;&lt; 1, where Ra is the radio of total actives to total ligands, and alpha is the exponential prefactor, the BEDROC metric takes on a probabilistic meaning.  Calculated as described by Truchon, J. F.; Bayly, C. I. <i>J. Chem. Inf. Model.</i> <b>2007</b>, <i>47</i>, 488-508, Eq 36.
</td>
            </tr>
            <tr>
                <td class="TableStyle-Formatting-BodyH-Column1-">ROC
</td>
                <td class="TableStyle-Formatting-BodyG-Column1-">Receiver Operator Characteristic area under the curve.  The value is bounded between 1 and 0, with 1 being ideal screen performance and 0.5 reflecting random behavior.  The area under the curve is the probability that a randomly chosen known active will rank higher than a randomly chosen decoy.  Calculated as described by Truchon, J. F.; Bayly, C. I. <i>J. Chem. Inf. Model.</i> <b>2007</b>, <i>47</i>, 488-508, Eq A.8.</td>
            </tr>
            <tr>
                <td class="TableStyle-Formatting-BodyH-Column1-">AUAC
</td>
                <td class="TableStyle-Formatting-BodyG-Column1-">Area Under the Accumulation Curve.  The value is bounded between 1 and 0, with 1 being ideal screen performance.  Calculated as described by Truchon, J. F.; Bayly, C. I. <i>J. Chem. Inf. Model.</i> <b>2007</b>, <i>47</i>, 488-508, Eq 8.
</td>
            </tr>
            <tr>
                <td class="TableStyle-Formatting-BodyH-Column1-">RIE
</td>
                <td class="TableStyle-Formatting-BodyG-Column1-">Robust Initial Enhancement.  Active ranks are weighted with an continuously decreasing exponential term.  Large positive RIE values indicate better screen performance.  Calculated as described by Truchon, J. F; Bayly, C. I. <i>J. Chem. Inf. Model.</i> <b>2007</b>, <i>47</i>, 488-508, Eq 18.
</td>
            </tr>
            <tr>
                <td class="TableStyle-Formatting-BodyH-Column1-">EF
</td>
                <td class="TableStyle-Formatting-BodyG-Column1-">Enrichment Factor, calculated with respect to the number of total ligands.  EF = (a/n)/(A/N), where a is the number of actives found in sample size n, A is the total number of actives, and N is the total number of ligands (decoys and actives).
</td>
            </tr>
            <tr>
                <td class="TableStyle-Formatting-BodyH-Column1-">EF*
</td>
                <td class="TableStyle-Formatting-BodyG-Column1-">Enrichment factor for recovering x% of the known actives, defined as the fraction of the actives recovered divided by the faction of decoys recovered at that point.  This value gives the relative probability that a compound recovered is an active rather than a decoy.  Because the enrichment factors are computed using the fractions of actives and decoys recovered, they are independent of the absolute and relative numbers of actives and decoys screened.
</td>
            </tr>
            <tr>
                <td class="TableStyle-Formatting-BodyH-Column1-">EF'
</td>
                <td class="TableStyle-Formatting-BodyG-Column1-">Modified enrichment factor defined using the average of the reciprocals of the EF* enrichment factors for recovering the first aa% of the known actives.  EF'(x) will be larger than EF*(x) if the actives in question come relatively early in the sequence, and smaller if they come relatively late.
</td>
            </tr>
            <tr>
                <td class="TableStyle-Formatting-BodyH-Column1-">DEF
</td>
                <td class="TableStyle-Formatting-BodyG-Column1-">Diverse Enrichment Factor, calculated with respect to the number of total ligands.  DEF = (a/n)/(A/N) * D, where a is the number of actives found in sample size n, A is the total number of actives, N is the total number of ligands (decoys and actives), and D is a penalty for recovering only congeneric actives from a diverse set. D is defined as 1 - minimum_Tanimoto_a/ 1 - min_Tanimoto_A.
</td>
            </tr>
            <tr>
                <td class="TableStyle-Formatting-BodyH-Column1-">DEF*
</td>
                <td class="TableStyle-Formatting-BodyG-Column1-">Diverse EF*.  DEF* = (EF*)(D), where D is the penalty for recovering only congeneric actives from a diverse set.  D is defined as (1 - minimum_Tanimoto_a/ 1 - min_Tanimoto_A)
</td>
            </tr>
            <tr>
                <td class="TableStyle-Formatting-BodyH-Column1-">DEF'
</td>
                <td class="TableStyle-Formatting-BodyG-Column1-">Diverse EF'.  DEF' = (EF')(D), where D is the penalty for recovering only congeneric actives from a diverse set.  D is defined as (1 - minimum_Tanimoto_a/ 1 - min_Tanimoto_A)
</td>
            </tr>
            <tr>
                <td class="TableStyle-Formatting-BodyH-Column1-">Eff
</td>
                <td class="TableStyle-Formatting-BodyG-Column1-">Efficiency in distinguishing actives from decoys on an absolute scale of 1 (perfect; all actives come before any decoys) to -1 (all decoys come before any actives); a value of 0 means that actives and decoys were recovered at equal proportionate rates.
</td>
            </tr>
            <tr>
                <td class="TableStyle-Formatting-BodyH-Column1-">FOD
</td>
                <td class="TableStyle-Formatting-BodyG-Column1-">Average fraction of outranking decoys. 
</td>
            </tr>
        </table>
        <h2><a name="features"></a>Enrichment Calculator Panel Features</h2>
        <ul>
            <li value="1"><a href="#structures" class="selected"><span class="GUI">Use structures from</span> option menu</a>
            </li>
            <li value="2"><a href="#PTbutton" class="selected"><span class="GUI">Open Project Table</span> button</a>
            </li>
            <li value="3"><a href="#filebrowse" class="selected"><span class="GUI">File name</span> text box and <span class="GUI">Browse</span> button</a>
            </li>
            <li value="4"><a href="#feature1" class="selected"><span class="GUI">Actives file</span> text box and <span class="GUI">Browse</span> button</a>
            </li>
            <li value="5"><a href="#feature2" class="selected"><span class="GUI">Number of decoys</span> text box</a>
            </li>
            <li value="6"><a href="#feature3" class="selected"><span class="GUI">Enrichment Report</span> text area</a>
            </li>
            <li value="7"><a href="#feature4" class="selected"><span class="GUI">ROC Plot</span> button</a>
            </li>
            <li value="8"><a href="#feature5" class="selected"><span class="GUI">% Screen Plot</span> button</a>
            </li>
            <li value="9"><a href="#feature6" class="selected"><span class="GUI">Save Metrics CSV</span> button</a>
            </li>
            <li value="10"><a href="#feature7" class="selected"><span class="GUI">Save Ranks CSV</span> button</a>
            </li>
            <li value="11"><a href="#job_toolbar" class="selected">Job toolbar</a>
            </li>
            <li value="12"><a href="#status_bar" class="selected">Status bar</a>
            </li>
        </ul>
        <dl>
            <dt><a name="structures"></a><span class="GUI"><span class="SnippetUseFromLabel">Use structures from</span></span> option menu</dt>
            <dd>
                <p>Choose the source of the structures for <span class="SnippetCurrentTask" data-mc-variable-override="Snippet.CurrentTask:assessing enrichment,">assessing enrichment</span>. </p>
                <ul>
                    <li value="1" data-mc-conditions="Snippet.PTn"><span class="GUI">Project Table (<i>n</i> selected entries)</span>—Use the entries that are currently selected in the Project Table. The number of entries selected is shown on the menu item.  An icon is displayed to the right which you can click to open the Project Table and select entries.</li>
                    <li value="2" data-mc-conditions="Snippet.File"><span class="GUI">File</span>—Use the structures from the specified file. When this option is selected, the <span class="GUI"><span class="SnippetFileBrowseLabel">File name</span></span> text box and <span class="GUI">Browse</span> button are displayed.  Click <span class="GUI">Browse</span> and navigate to the file you want to use. The file name is displayed in the text box when you click <span class="GUI">Open</span> in the file selector. You can also enter the file name in the text box.<MadCap:conditionalText data-mc-conditions="Snippet.FileType"> The allowed file types are: <span class="SnippetFileTypes" data-mc-variable-override="Snippet.FileTypes:Maestro or SD structure file\, Glide report file\, CSV file\, table file (see above),">Maestro or SD structure file, Glide report file, CSV file, table file (see above)</span>.</MadCap:conditionalText></li>
                </ul>
            </dd>
            <dt><a name="PTbutton"></a><span class="GUI">Open Project Table</span> button</dt>
            <dd>
                <p>Open the <span class="GUI">Project Table</span> panel, so you can select or include the entries for the source of the structures.
<br style="margin-bottom: 10px;" /><img src="../Resources/Images/Toolbuttons/projecttable.png" /><br style="margin-bottom: 10px;" /></p>
            </dd>
            <dt><a name="filebrowse"></a><span class="GUI"><span class="SnippetFileBrowseLabel">File name</span></span> text box and <span class="GUI">Browse</span> button</dt>
            <dd>
                <p>If you chose  from the <span class="GUI"><span class="SnippetUseFromLabel">Use structures from</span></span> option menu, enter the file name in this text box, or click <span class="GUI">Browse</span> and navigate to the file. The name of the file you selected is displayed in the text box. </p>
            </dd>
            <dt><a name="feature1"></a><span class="GUI">Actives file</span> text box and <span class="GUI">Browse</span> button</dt>
            <dd>
                <p>File that specifies the known actives. The actives are identified by title, so you should ensure that the titles are unique and meaningful. The file can be a simple text file with one title per line or a Maestro file that contains the structures of the actives. The titles must match those used for the structures in the screening run.
</p>
            </dd>
            <dt><a name="feature2"></a><span class="GUI">Number of decoys</span> text box</dt>
            <dd>
                <p>The total number of decoys used in the screen.
</p>
            </dd>
            <dt><a name="feature3"></a><span class="GUI">Enrichment Report</span> text area</dt>
            <dd>
                <p>This text area displays the results of the enrichment calculation in text form. An example is given below.
</p><pre>
Enrichment Report
-----------------

Actives file: example_A_actives.txt
Results: example_A_dock_pv.rept
Total actives: 117
Total ligands(actives+decoys): 1117
Number of ranked actives: 117

BEDROC(alpha=160.9, alpha*Ra=16.8534): 1.000
BEDROC(alpha=20.0, alpha*Ra=2.0949): 0.914
BEDROC(alpha=8.0, alpha*Ra=0.8380): 0.868
ROC: 0.92
RIE: 7.65
Area under accumulation curve: 0.87
Ave. Number of outranking decoys: 82

Count and percentage of actives in top N% of decoy results.
# Actives (1%|2%|5%|10%|20%):    90|   90|   92|   94|   97
% Actives (1%|2%|5%|10%|20%):  76.9| 76.9| 78.6| 80.3| 82.9

Enrichment Factors with respect to N% sample size.
EF (1%|2%|5%|10%|20%):     9.5|    9.5|    9.4|    7.7|    4.1
EF*(1%|2%|5%|10%|20%):      77|     38|     16|      8|    4.1
EF'(1%|2%|5%|10%|20%): 2.9e+02|1.7e+02|     54|     23|    9.9
Eff(1%|2%|5%|10%|20%):   0.974|  0.949|   0.88|  0.779|  0.611

Enrichment Factors with respect to N% actives recovered.
EF (40%|50%|60%|70%|80%|90%|100%):   9.3|  9.4|  9.4|  9.2|  5.7|    2|  1.3
EF*(40%|50%|60%|70%|80%|90%|100%): 4e+02|5e+02|6e+02|2.3e+02|   13|  2.2|  1.4
EF'(40%|50%|60%|70%|80%|90%|100%): 3.8e+02|4.3e+02|4.7e+02|4.3e+02|   38|  4.7|  2.7
FOD(40%|50%|60%|70%|80%|90%|100%): 9e-05|0.0003|0.0004|0.0006|0.003| 0.03| 0.08

</pre>
            </dd>
            <dt><a name="feature4"></a><span class="GUI">ROC Plot</span> button</dt>
            <dd>
                <p>Display a plot of the ROC area under the curve. </p>
            </dd>
            <dt><a name="feature5"></a><span class="GUI">% Screen Plot</span> button</dt>
            <dd>
                <p>Display a plot of the percentage of actives recovered against the
percentage of structures screened.
</p>
            </dd>
            <dt><a name="feature6"></a><span class="GUI">Save Metrics CSV</span> button</dt>
            <dd>
                <p>Save a CSV file containing the metrics. The first column is the title, the remaining columns are the metric values. Opens a file selector in which you can navigate to a location and save the file.
</p>
            </dd>
            <dt><a name="feature7"></a><span class="GUI">Save Ranks CSV</span> button</dt>
            <dd>
                <p>Save a CSV file listing the actives and their ranks. Opens a file selector in which you can navigate to a location and save the file.
</p>
            </dd>
            <dt><a name="job_toolbar"></a>Job toolbar</dt>
            <dd>
                <p>Manage job submission. See <a href="../maestro_help/job_toolbar.html">Job Toolbar</a> for a description of this toolbar.</p>
            </dd>
            <dt><a name="status_bar"></a>Status bar</dt>
            <dd>
                <p>The status bar displays information about the current job settings for the panel. This includes the job name, task name and task settings (if any), number of subjobs (if any) and the host name and job incorporation setting. It also displays a message for a short time when you start a new job.</p>
                <p>The status bar also contains the <span class="GUI">Help</span> button, which opens the help topic for the panel.</p>
                <p>
                    <img src="../Resources/Images/Toolbuttons/help.png" />
                </p>
            </dd>
        </dl>
        <h2><a name="links"></a>Related Topics</h2>
        <ul>
            <li value="1"><a href="ligand_docking.html" class="MCXref xref">Ligand Docking Panel</a>
            </li>
            <li value="2"><a href="../shape_screening_help/shape_screening.html" class="MCXref xref">Shape Screening Panel</a>
            </li>
        </ul>
    </body>
</html>