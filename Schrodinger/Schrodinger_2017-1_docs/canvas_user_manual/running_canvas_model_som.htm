<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="Documentation.xml" data-mc-path-to-help-system="../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="User Manuals|Canvas User Manual|Running Applications from Canvas|Building a Predictive Model in Canvas">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>Self-Organizing Maps in Canvas</title>
        <link href="../Resources/Stylesheets/docs.css" rel="stylesheet" />
        <script src="../Resources/Scripts/custom.modernizr.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/foundation.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body><a name="aanchor295"></a>
        <MadCap:concept term="User Manuals" /><a name="aanchor296"></a>
        <MadCap:concept term="Canvas" /><a name="running_canvas_3200570573_752005"></a>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="running_canvas_model_rp.htm">Recursive Partitioning in Canvas</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="canvas_user_manualTOC.htm">Canvas User Manual</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="running_canvas_other.htm">Other Canvas Applications</a> ▶</span>
                </td>
            </tr>
        </table>
        <h1 class="Title">Self-Organizing Maps in Canvas</h1>
        <p>Kohonen self-organizing maps can be built and applied in the <span class="GUI">Self-Organizing Map</span> panel, which you open from the <span class="GUI">Applications</span> menu. The panel has some features in common with those of the regression and other models.</p>
        <p class="image">
            <img src="self_organizing_map.png" style="margin: 2px;" />
        </p>
        <ul>
            <li value="1">
                <p class="ListPara">The models can be built or applied for the selected rows or the visible rows, a saved view, or the data set from a previous run. </p>
            </li>
            <li value="2">
                <p class="ListPara">The results are saved with the name that you specify in the <span class="GUI">Save results as</span> text box. This name is also the job name and appears in the <span class="GUI">Project View</span> panel. </p>
            </li>
            <li value="3">
                <p class="ListPara">Existing maps can be applied to the data set. Maps from within the project can be loaded by selecting <span class="GUI">Apply saved map</span> and choosing the map from the option menu. Only maps that match the <span class="GUI">X variables</span> choice are listed on the option menu. External maps can be loaded by selecting <span class="GUI">Apply imported map</span>, clicking <span class="GUI">Import</span>, and navigating to the file that contains the map. To apply the selected map, click <span class="GUI">Apply Map</span>. The <span class="GUI">Self-Organizing Map Viewer</span> panel opens and displays the results of applying the map to the current data set. When a map is loaded, you can export the map to a file by clicking <span class="GUI">Export Map</span>. </p>
            </li>
        </ul>
        <p>To build a map, first select <span class="GUI">Build new map</span>, then choose the type of X variable you want to use, from <span class="GUI">Numeric</span> or <span class="GUI">Fingerprints</span>. The panel is updated with the appropriate properties or fingerprints. You can choose a single fingerprint, or multiple properties. </p>
        <p>In the <span class="GUI">Lattice options</span> section, you can set the dimensions of the lattice and select the topology. You can also choose to use periodic boundary conditions. </p>
        <p>In the <span class="GUI">Training options</span> section, you can set the number of cycles, and specify a condition on the RMSE for stopping the training: either stop if the RMSE increases, or stop when the RMSE reaches a specified value. You can select the type of decay used to decrease the gain term as the training proceeds, and specify or generate a random seed for the initialization of the map. </p>
        <p>Click <span class="GUI">Create Map</span> to create the map. The dialog box closes, and the progress is logged in the <span class="GUI">Messages View</span> panel. </p>
        <p>To display the map, right click on the record in the <span class="GUI">Project View</span> panel and choose <span class="GUI">View</span>. The <span class="GUI">Self-Organizing Map Viewer</span> panel opens with the map displayed. Alternatively, open the <span class="GUI">Self-Organizing Map</span> panel again, select <span class="GUI">Apply saved map</span> and choose the map from the option menu, and click <span class="GUI">View Map</span>. You can have multiple viewer panels open at the same time. </p>
        <p class="image">
            <img src="self_organizing_map_viewer.png" style="margin: 2px;" />
        </p>
        <p>The <span class="GUI">Self-Organizing Map Viewer</span> panel provides several choices for coloring the map cells:</p>
        <ul>
            <li value="1">
                <p class="ListPara"><span class="GUI">Distance to selected cel</span>l—Color the map by the distance to the selected cell, which is outlined in red. Click on a cell in the map to select it.</p>
            </li>
            <li value="2">
                <p class="ListPara"><span class="GUI">Cell population</span>—Color the map by the number of structures in each cell.</p>
            </li>
            <li value="3">
                <p class="ListPara"><span class="GUI">Cell property value</span>—Color the cell according to the property chosen from the option menu.</p>
            </li>
            <li value="4">
                <p class="ListPara"><span class="GUI">Average property value</span>—Color the cell according to the average value of the property chosen from the option menu. This menu is populated by choosing <span class="GUI">Numeric</span> from the <span class="GUI">Properties</span> menu, and selecting the properties you want to use from the dialog box that opens. </p>
            </li>
            <li value="5">
                <p class="ListPara"><span class="GUI">Category</span>—Color the cell according to the number of structures in the cell with the selected value of the selected categorical property. The menu of categorical properties is populated by choosing <span class="GUI">Categorical </span>from the <span class="GUI">Properties</span> menu, and selecting the properties you want to use from the dialog box that opens. </p>
            </li>
        </ul>
        <p>The value that was used to determine the color for the cell can be displayed in the cell by selecting <span class="GUI">Display values in cells</span>. </p>
        <p>You can choose the colors for the minimum and maximum values of any quantity used to color the map by clicking the <span class="GUI">Min</span> and <span class="GUI">Max</span> buttons. Each button opens a color chooser. The color is displayed below the button. Intermediate values are interpolated on a spectrum. </p>
        <p>The boxes below the bar display the minimum and maximum values of the property used to color the map. You can adjust these values so that the cells with values outside the range specified in the boxes are colored by the colors for the minimum and maximum. The bar above these boxes indicates the range of possible values for which a color ramp is applied. You can drag the sliders on the bar to adjust the minimum and maximum property values used. </p>
        <p>The shade of gray in the cell borders indicates the distance between adjacent cells: the darker the border, the larger the distance. A legend of the gray shades is displayed in the <span class="GUI">Distance between cells</span> section.</p>
        <p>When viewing properties other than the distance to a cell, you can right-click a cell to display a custom view of the structures that are members of that cell. If you want to add members of other cells to the view, control-right-click the cell you want to add. Cells for the current view are outlined in yellow. You can add properties to the view by choosing <span class="GUI">View </span>→<span class="GUI"> Manage Properties</span>, and selecting the desired properties. </p>
        <p>Cell memberships can be exported to the spreadsheet or a file with <span class="GUI">File </span>→<span class="GUI"> Export</span>. The cells are numbered from left to right, top to bottom, starting with 1. The <span class="GUI">Cell</span> property contains the cell number for each structure, and the <span class="GUI">Total</span> property contains the number of structures in the cell.</p>
        <p>An image of the map can be saved in PNG, JPEG, or TIFF format by choosing <span class="GUI">File </span>→<span class="GUI"> Save Image</span>. A dialog box opens that allows you to name the file and set the dimensions of the image, in pixels. </p>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="running_canvas_model_rp.htm">Recursive Partitioning in Canvas</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="canvas_user_manualTOC.htm">Canvas User Manual</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="running_canvas_other.htm">Other Canvas Applications</a> ▶</span>
                </td>
            </tr>
        </table>
    </body>
</html>