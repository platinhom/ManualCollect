<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="Documentation.xml" data-mc-path-to-help-system="../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="User Manuals|Canvas User Manual|The Canvas Graphical Interface|Canvas Projects">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>Importing Structures and Data into Canvas Projects</title>
        <link href="../Resources/Stylesheets/docs.css" rel="stylesheet" />
        <script src="../Resources/Scripts/custom.modernizr.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/foundation.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body><a name="aanchor1511"></a>
        <MadCap:concept term="User Manuals" /><a name="aanchor1512"></a>
        <MadCap:concept term="Canvas" /><a name="canvas_gui_2356900553_743998"></a>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="canvas_gui_projects_openclose.htm">Opening and Closing Canvas Projects</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="canvas_user_manualTOC.htm">Canvas User Manual</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="canvas_gui_projects_export.htm">Exporting Structures and Data from Canvas Projects</a> ▶</span>
                </td>
            </tr>
        </table>
        <h1 class="Title">Importing Structures and Data into Canvas Projects</h1>
        <p>There are several ways of importing structures and data into a Canvas project. From inside Canvas, you can import from a file or from a project. From Maestro, you can export selected entries to a Canvas project—see <a class="TopicLink MCXref xref xrefTopicLink" xrefformat="{paratext}" data-mc-unresolved-link="import-link:importexport_1884538921_43474">Exporting Structures and Data to a Canvas Project</a> for details.</p>
        <p>To import structures and data from another Canvas project, choose <span class="GUI">File </span>→<span class="GUI"> Import Project</span>. A file selector opens, in which you can navigate to a location and select the project. All structures and all data are imported. </p>
        <p>To import structures and properties from a file into Canvas, choose <span class="GUI">File </span>→<span class="GUI"> Import</span>, or click the <span class="GUI">Import</span> button on the toolbar. </p>
        <p class="image">,<img src="../Resources/Images/Toolbuttons/import.png" style="margin-left: 2px;margin-right: 2px;margin-top: 2px;margin-bottom: 2px;" /></p>
        <p>A file selector opens, in which you can navigate to a location, choose the format, and select one or more files. The supported file formats are: </p>
        <ul class="ListCompact">
            <li value="1">Maestro, compressed or uncompressed (<code>.mae</code>, <code>.mae.gz</code>, <code>.maegz</code>) 
    </li>
            <li value="2">SD file, compressed or uncompressed (<code>.sd</code>, <code>.sdf</code>, <code>.sd.gz</code>, <code>.sdf.gz</code>) 
    </li>
            <li value="3">CSV file with SMILES strings and properties (<code>.csv</code>) 
    </li>
            <li value="4">SMILES file with SMILES strings and optional titles (<code>.smi</code>). 
    </li>
            <li value="5">Canvas fingerprint file (<code>.fp</code>)
    </li>
        </ul>
        <p>When you have selected the files, a dialog box opens for each file type, so that you can set options for importing the structures and matching the properties. Properties are imported in the order in which they are present in the input files or project. When you close this dialog box, the import progress is shown in the status bar, at the bottom of the main panel. There is also a button you can use to stop the import operation (and discard the results). </p>
        <p class="image">
            <img src="import_structure_file.png" style="margin: 2px;" />
        </p>
        <p>You can create a view for each file that is imported by selecting <span class="GUI">Store each input file as a view</span>. The views are named after the input file. By default, no views are created on import.</p>
        <p>All structures are imported by default. To restrict the range of structures, select <span class="GUI">Start import at</span>, and enter the index of the first structure that you want to import in the box. The first structure in the file has the index 1. Then to import a given number of structures, select <span class="GUI">Import at most</span> and enter the number of structures to import in the box. If this option is not selected, all structures from the first specified to the end of the file are imported. You can also import a random subset of structures, by selecting <span class="GUI">Import random subset of</span>, specifying the percentage of structures, and generating a seed for the random number generator.</p>
        <p>The structures that you import can be appended to the project (<span class="GUI">Append to existing records</span>), used to replace the entire project (<span class="GUI">Replace existing records</span>), or update the existing records where the structures are already in the project and append new structures (<span class="GUI">Update using Canvas ID</span> or <span class="GUI">Update using property map</span>). </p>
        <p>You can also set options to skip structures that are already in the Canvas project, by selecting <span class="GUI">Skip duplicate structures</span>. If any of the structures in the set that you selected for import are already in the project, they are not imported. If you want to treat tautomers as duplicates, select <span class="GUI">Match by tautomer</span>.</p>
        <p>Likewise, you can automatically skip problematic structures by selecting <span class="GUI">Ignore all errors</span>. By default, you are prompted for an action when an unreadable structure is encountered. Problematic structures are written in the same format as the input file to the directory <code>failedimports</code>. </p>
        <p>When you import from a structure file (Maestro or SD format), you can choose to import only the connectivity information, and discard the atom coordinates. To do so, select <span class="GUI">Do not store atom coordinates</span>. By default, the coordinates are imported.</p>
        <p>If there are structures in the input file that contain multiple fragments, you can import only the largest fragment by selecting <span class="GUI">Retain largest fragment</span> (the default). Otherwise, all fragments are imported. </p>
        <p>If you choose to update the project, you must choose an input file property from the <span class="GUI">File key </span>option menu and a project property from the <span class="GUI">Project key</span> option menu, so that the input structures with their data and project records can be matched, as follows:</p>
        <ul>
            <li value="1">
                <p class="ListPara">If the value of the file key property for a given structure matches a value of the project key property, the project record is updated with the properties from the file, and the structure is not changed.</p>
            </li>
            <li value="2">
                <p class="ListPara">If multiple project records are matched for a single file key property value, and <span class="GUI">Allow duplicate mappings</span> is selected, the properties are updated for all matching project records.</p>
            </li>
            <li value="3">
                <p class="ListPara">If the file key property has multiple instances of the same value, then the last one in the file is used to update the project.</p>
            </li>
            <li value="4">
                <p class="ListPara">If no match is found for the import property, a new record is added.</p>
            </li>
        </ul>
        <p>You might want to use a corporate ID, a unique SMILES string, or a title, as the property to match. </p>
        <p>If you want to ensure that you do not add duplicate structures to the project, choose <span class="GUI">Structure</span> for the <span class="GUI">Import property</span> and the <span class="GUI">Project property</span>, and ensure that <span class="GUI">Allow duplicate mappings</span> is selected. The properties from the input file are still used to update those in the project if the input file structure matches a project structure.</p>
        <p>When you import Canvas fingerprints, <span class="GUI">Update using property map</span> is the only option available. </p>
        <p>If you are importing structures that were previously exported from the same Canvas project, with the Canvas UID included, you can select <span class="GUI">Update using Canvas UID</span> to update the properties in the project from the input file. The UID in the file is matched with the UID in the project, so using this option with another project is likely to corrupt the project data. An example of its use is to export binary fingerprints and reimport the bits as ordinary numeric properties with the value 0 or 1.</p>
        <p class="image">
            <img src="import_smiles_properties.png" style="margin: 2px;" />
        </p>
        <p>If you are importing structures in SMILES format with properties, from a <code>.csv</code> or <code>.txt</code> file, you have the choice of adding the structures with their properties, or just adding the properties. To add the structures and the properties, select <span class="GUI">SMILES in column</span> and specify the column number that contains the SMILES strings. The default is 1. If you deselect this option, you can import properties without structures. If you use the <span class="GUI">Update using property map</span> option, you can add properties from a CSV file to existing structures, provided you have a column in the CSV file to match a project property. Otherwise, the records in the input file are added to the project with an empty structure field. </p>
        <p>If the first row of the file contains the names of the properties, select <span class="GUI">Treat first row as column names</span>. If this option is deselected, the property names are set to Prop1, Prop2, and so on. </p>
        <p>For string properties, you can choose the character that defines the string from the <span class="GUI">Text qualifier</span> option menu. These characters are removed from the string when the string is added as a project property. The choices are a double quote, a single quote, or none. If you choose <span class="GUI">None</span>, all quotes are preserved in the project. If you choose the single quote, then single quotes are removed but double quotes are retained. Likewise, if you choose the double quote, then double quotes are removed but single quotes are retained. </p>
        <p>To define which column the structure names (or titles) are in, select <span class="GUI">Structure names in column</span>, and set the column number in the box. The default is column 2. If you deselect this option, the title is left blank. If you are importing from a SMILES file, you can select or deselect this option to indicate that the file contains a title, separated from the SMILES string by a space or a tab. The column number is then set to 2 and cannot be changed.</p>
        <p>You can also import 2D structures on the basis of their common name or IUPAC name. To do this, create a new table row (<span class="GUI">Edit</span> → <span class="GUI">Add Row</span> or use the toolbar button), then double-click the <span class="GUI">Structure</span> cell in this row to open the 2D structure editor. Choose <span class="GUI">Edit</span> → <span class="GUI">Common or IUPAC Name Search</span>, and enter the name in the text box. When you click OK in the 2D structure editor, the structure is added to the project and appears in the <span class="GUI">Structure</span> cell.</p>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="canvas_gui_projects_openclose.htm">Opening and Closing Canvas Projects</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="canvas_user_manualTOC.htm">Canvas User Manual</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="canvas_gui_projects_export.htm">Exporting Structures and Data from Canvas Projects</a> ▶</span>
                </td>
            </tr>
        </table>
    </body>
</html>