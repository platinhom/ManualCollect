<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="Documentation.xml" data-mc-path-to-help-system="../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Command References|MacroModel Command Reference|MacroModel Operation Codes|File Reading and Writing Opcodes">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>File Reading and Writing Opcodes</title>
        <link href="../Resources/Stylesheets/docs.css" rel="stylesheet" />
        <script src="../Resources/Scripts/custom.modernizr.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/foundation.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body><a name="aanchor6352"></a>
        <MadCap:concept term="Command Reference" /><a name="aanchor6353"></a>
        <MadCap:concept term="MacroModel" /><a name="opcodes_509685220_801369"></a>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="opcodes.htm" xrefformat="{paratext}">MacroModel Operation Codes</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="macromodel_command_referenceTOC.htm" xrefformat="{paratext}">MacroModel Command Reference Manual</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="opcodes_ffld.htm" xrefformat="{paratext}">Opcodes for Selection of Force Field, Nonbonded Cutoffs, and Solvation Treatment</a> ▶</span>
                </td>
            </tr>
        </table>
        <h1 class="Title">File Reading and Writing Opcodes</h1>
        <p>The opcodes in this section are linked below:</p>
        <p>
        </p>
        <h2 class="Opcode"><a name="opcodes_509685220_801375"></a><code class="Courier"><a name="opcodes_509685220_read">READ</a></code> — READ a structure</h2>
        <p>Read a structure from the input file. Repeated <code>READ</code> commands read multiple structures from the input file.</p>
        <table class="ArgTable">
            <tr class="ArgTable">
                <td class="ArgTable">
                    <p class="ArgDef">arg1        </p>
                </td>
                <td class="ArgTable">
                    <p class="ArgDef">Molecular information retention</p>
                </td>
            </tr>
            <tr class="ArgTable">
                <td class="ArgTable">
                    <p class="ArgValue">0</p>
                </td>
                <td class="ArgTable">
                    <p class="ArgPara">Default behavior</p>
                </td>
            </tr>
            <tr class="ArgTable">
                <td class="ArgTable">
                    <p class="ArgValue">−1</p>
                </td>
                <td class="ArgTable">
                    <p class="ArgPara">Clear existing molecular information of previously read molecules and re-evaluate the substructure information.</p>
                </td>
            </tr>
            <tr class="ArgTable">
                <td class="ArgTable">&#160;</td>
                <td class="ArgTable">
                    <p class="ArgPara">This value is useful while using <code>READ</code> in <code>BGIN</code>–<code>END</code> loops and using ASL syntax in <code>.sbc</code> files (see <span class="OpcodeLink"><a href="opcodes_constrained_mini.htm#opcodes_509685220_asl1">ASL1</a></span>, <span class="OpcodeLink"><a href="opcodes_constrained_mini.htm#opcodes_509685220_asl2">ASL2</a></span> and <span class="OpcodeLink"><a href="opcodes_constrained_mini.htm#opcodes_509685220_asl3">ASL3</a></span>).</p>
                </td>
            </tr>
            <tr class="ArgTable">
                <td class="ArgTable">
                    <p class="ArgValue">−2</p>
                </td>
                <td class="ArgTable">
                    <p class="ArgPara">Clear existing molecular information of previously read molecules <i>without</i> re-evaluating the substructure information.</p>
                </td>
            </tr>
        </table>
        <h2 class="Opcode"><a name="opcodes_509685220_778051"></a><code class="Courier"><a name="opcodes_509685220_writ">WRIT</a></code> — WRITe a structure</h2>
        <p>Writes the current structure to the output file. <code>WRIT</code> is not necessary for Monte Carlo searches and energy minimizations. It is used with molecular dynamics. Multiple <code>WRIT</code> statements put multiple structures into the output file. </p>
        <h2 class="Opcode"><a name="opcodes_509685220_738517"></a><code class="Courier"><a name="opcodes_509685220_tred">TRED</a></code> — Temporary file REaD</h2>
        <p>Reads a set of atomic coordinates from <i>inname</i><code>.tmp</code>. This function is used to recover structures from a failed <span class="OpcodeLink"><a href="opcodes_conf_comparison.htm#opcodes_509685220_mult">MULT</a></span> or <span class="OpcodeLink"><a href="opcodes_csearch.htm#opcodes_509685220_mcmm">MCMM</a></span> run or when <span class="OpcodeLink"><a href="opcodes_conf_comparison.htm#opcodes_509685220_mult">MULT</a></span> is set in a multiple-loop MacroModel command file. In the latter case, all loops after the first must use a <code>TRED</code> rather than a <span class="OpcodeLink"><a href="#opcodes_509685220_read">READ</a></span>. With Version 4.5 and later, the need for this command should be minimal, since updates are now performed periodically during an <span class="OpcodeLink"><a href="opcodes_csearch.htm#opcodes_509685220_mcmm">MCMM</a></span> search.</p>
        <h2 class="Opcode"><a name="opcodes_509685220_742286"></a><code class="Courier"><a name="opcodes_509685220_topn">TOPN</a></code> — Temporary file OPeN</h2>
        <p>Opens the temporary coordinate file <i>filename</i><code>.tmp</code>, where <i>filename</i> is the stem of the input file name. This command is typically used to recover the structures saved during a failed <span class="OpcodeLink"><a href="opcodes_conf_comparison.htm#opcodes_509685220_mult">MULT</a></span> or <span class="OpcodeLink"><a href="opcodes_csearch.htm#opcodes_509685220_mcmm">MCMM</a></span> run by combining the atom connection table from the input file and atomic coordinates from the <code>.tmp</code> file. A typical recovery command file is:</p><pre><i class="UserReplace">filename</i>.mae
<i class="UserReplace">filename-out</i>.mae
<span class="OpcodeLink"><a href="opcodes_misc_debug.htm#opcodes_509685220_debg">DEBG</a></span>       1
<span class="OpcodeLink"><a href="#opcodes_509685220_read">READ</a></span><span class="OpcodeLink"><a href="#opcodes_509685220_topn">TOPN</a></span>     100
<span class="OpcodeLink"><a href="opcodes_flowcontrol.htm#opcodes_509685220_bgin">BGIN</a></span><span class="OpcodeLink"><a href="#opcodes_509685220_tred">TRED</a></span><span class="OpcodeLink"><a href="#opcodes_509685220_writ">WRIT</a></span><span class="OpcodeLink"><a href="opcodes_flowcontrol.htm#opcodes_509685220_end">END</a></span></pre>
        <p>This command file opens the <i>filename</i><code>.mae</code> structure file and the <i>filename</i><code>.tmp</code> temporary file, reads in the first 100 coordinate sets from the temporary file, and writes the corresponding structures to the output structure file, <i>filename</i><code>-out.mae</code>. Arg1 of <span class="OpcodeLink"><a href="#opcodes_509685220_topn">TOPN</a></span> is the number of structures to be read from the temporary file. See the end of the failed job log file to find this number; however, be aware that the last structure in the <code>.tmp</code> file may be corrupted, depending on the nature of the failure of the previous job.</p>
        <p>If this operation is to be used to recover structures from a run which used the <span class="OpcodeLink"><a href="opcodes_constrained_mini.htm#opcodes_509685220_subs">SUBS</a></span> command, then the <span class="OpcodeLink"><a href="opcodes_constrained_mini.htm#opcodes_509685220_subs">SUBS</a></span> commands in the original run must be included immediately after the <span class="OpcodeLink"><a href="#opcodes_509685220_read">READ</a></span> command in the command list above.</p>
        <table class="ArgTable">
            <tr class="ArgTable">
                <td class="ArgTable">
                    <p class="ArgDef">arg1</p>
                </td>
                <td class="ArgTable">
                    <p class="ArgDef">Number of atomic coordinate sets to be read from the .tmp file</p>
                </td>
            </tr>
        </table>
        <h2 class="Opcode"><a name="opcodes_509685220_800106"></a><code class="Courier"><a name="opcodes_509685220_mmod">MMOD</a></code> — Maestro-macroMODel interaction</h2>
        <p>Directs MacroModel to write a <i>filename</i><code>-mon.mae</code> file, where <i>filename</i> is the stem of the <code>.com</code> file name, for interaction with the Maestro GUI. </p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note:&lt;/b&gt; "><span class="autonumber"><span><b>Note:</b> <![CDATA[ ]]></span></span>This file conveys the structural information to Maestro so that the molecular structure displayed can updated while the job is running. Note that Maestro uses the <code>.log</code> file for the textual information displayed in the <span class="GUI">Monitor</span> panel.</p>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note:&lt;/b&gt; "><span class="autonumber"><span><b>Note:</b> <![CDATA[ ]]></span></span>The writing of structural files can slow MacroModel down tremendously, especially on NFS-mounted filesystems. Thus, lowering the frequency of writing, or eliminating it entirely by removing the <code>MMOD</code> command, is worth considering for long jobs.</p>
        <table class="ArgTable">
            <tr class="ArgTable">
                <td class="ArgTable">
                    <p class="ArgDef">arg1</p>
                </td>
                <td class="ArgTable">
                    <p class="ArgDef">Frequency of writing to the <i>filename</i><code>-mon.mae</code> structural data file </p>
                </td>
            </tr>
            <tr class="ArgTable">
                <td class="ArgTable">
                    <p class="ArgValue">1</p>
                </td>
                <td class="ArgTable">
                    <p class="ArgPara">Default. MacroModel writes to the <i>filename</i><code>-mon.mae</code> file as frequently as it can for real-time monitoring. For long jobs, this slows MacroModel execution. </p>
                </td>
            </tr>
            <tr class="ArgTable">
                <td class="ArgTable">
                    <p class="ArgValue"><i>n</i>
                    </p>
                </td>
                <td class="ArgTable">
                    <p class="ArgPara">Write the file only 1/<i>n</i> times as frequently as the default. Thus, arg1=10 would update the <i>filename</i><code>-mon.mae</code> file 1/10 as frequently as the maximum rate.</p>
                </td>
            </tr>
            <tr class="ArgTable">
                <td class="ArgTable">
                    <p class="ArgDef">arg2</p>
                </td>
                <td class="ArgTable">
                    <p class="ArgDef">Recoloring of atoms in <i>filename</i><code>-mon.mae</code> file </p>
                </td>
            </tr>
            <tr class="ArgTable">
                <td class="ArgTable">
                    <p class="ArgValue">0</p>
                </td>
                <td class="ArgTable">
                    <p class="ArgPara">No recoloring will be done.</p>
                </td>
            </tr>
            <tr class="ArgTable">
                <td class="ArgTable">
                    <p class="ArgValue">1</p>
                </td>
                <td class="ArgTable">
                    <p class="ArgPara">Atoms are recolored by energy gradient, an index of strain. A color scheme is used that follows the spectrum, where red indicates the most highly strained region of the molecule and blue indicates the most relaxed regions.</p>
                </td>
            </tr>
        </table>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="opcodes.htm" xrefformat="{paratext}">MacroModel Operation Codes</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="macromodel_command_referenceTOC.htm" xrefformat="{paratext}">MacroModel Command Reference Manual</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="opcodes_ffld.htm" xrefformat="{paratext}">Opcodes for Selection of Force Field, Nonbonded Cutoffs, and Solvation Treatment</a> ▶</span>
                </td>
            </tr>
        </table>
    </body>
</html>