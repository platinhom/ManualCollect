<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="Documentation.xml" data-mc-path-to-help-system="../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Command References|MacroModel Command Reference|MacroModel Operation Codes|Docking (Molecular Association) Opcodes">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>Docking (Molecular Association) Opcodes</title>
        <link href="../Resources/Stylesheets/docs.css" rel="stylesheet" />
        <script src="../Resources/Scripts/custom.modernizr.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/foundation.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body><a name="aanchor3412"></a>
        <MadCap:concept term="Command Reference" /><a name="aanchor3413"></a>
        <MadCap:concept term="MacroModel" /><a name="opcodes_509685220_741172"></a>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="opcodes_mc.htm" xrefformat="{paratext}">Monte Carlo Simulation Opcodes</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="macromodel_command_referenceTOC.htm" xrefformat="{paratext}">MacroModel Command Reference Manual</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="opcodes_misc_debug.htm" xrefformat="{paratext}">Miscellaneous and Debugging Opcodes</a> ▶</span>
                </td>
            </tr>
        </table>
        <h1 class="Title">Docking (Molecular Association) Opcodes</h1>
        <p>The opcodes in this section are linked below:</p>
        <p>
        </p>
        <h2 class="Opcode"><a name="opcodes_509685220_741174"></a><code class="Courier"><a name="opcodes_509685220_mbae">MBAE</a></code> — Multi-ligand Bimolecular Association with Energetics: Embrace</h2>
        <p><code>MBAE</code> invokes an algorithm in which MacroModel performs calculations on a number of pre-positioned ligands with a single receptor. The input structure file must must be a multiple structure file consisting of a receptor followed by each pre-positioned ligand in turn. <code>MBAE</code> works in two modes, interaction mode and energy difference mode. In the former the calculation examines the interaction between the receptor and the ligand, while in the latter the calculation is performed on the receptor, the ligand, and then the complex.</p>
        <p>Values calculated for the energy difference mode are given by the equation:</p>
        <p class="ArgPara"><span class="Symbol">D</span><i>E</i> = <i>E</i><sub>complex</sub> − <i>E</i><sub>ligand</sub> − <i>E</i><sub>protein</sub></p>
        <p>This command is implemented in conjunction with minimization and conformational searches. Only <span class="OpcodeLink"><a href="opcodes_csearch.htm#opcodes_509685220_lmcs">LMCS</a></span>,  <span class="OpcodeLink"><a href="opcodes_csearch.htm#opcodes_509685220_mcmm">MCMM</a></span> or mixed <span class="OpcodeLink"><a href="opcodes_csearch.htm#opcodes_509685220_lmcs">LMCS</a></span><b>/</b><span class="OpcodeLink"><a href="opcodes_csearch.htm#opcodes_509685220_mcmm">MCMM</a></span> searches are supported for conformational search <code>MBAE</code>. Please note that <code>MBAE</code> conformational searches may require the purchase of an additional license.</p>
        <p>Energy difference mode is the only mode permitted for conformational search <code>MBAE</code>. The values of <i>E</i><sub>protein</sub> and <i>E</i><sub>ligand</sub> are the lowest energies found for any conformer of the protein and ligand respectively. <span class="Symbol">D</span><i>E </i>is calculated for each complex conformation saved in the output structure file using the energy of the current complex conformation for <i>E</i><sub>complex</sub>. The number of output structures can be controlled independently of the number of steps performed in the search, via arg6 of <span class="OpcodeLink"><a href="opcodes_csearch.htm#opcodes_509685220_mcop">MCOP</a></span>. <code>MBAE</code> can also be used in conjunction with <span class="OpcodeLink"><a href="opcodes_coordinate.htm#opcodes_509685220_copy">COPY</a></span><code>/</code><span class="OpcodeLink"><a href="opcodes_coordinate.htm#opcodes_509685220_algn">ALGN</a></span> and <span class="OpcodeLink"><a href="opcodes_csearch.htm#opcodes_509685220_mcop">MCOP</a></span> arg7 to pre-position ligands for <code>MBAE</code> conformational searches based on a crystal structure of a related complex. The <code>.com</code> file for <code>MBAE</code> conformational searches is complex and specific, and consulting <a class="TopicLink MCXref xref xrefTopicLink" href="../macromodel_user_manual/mm_embrace_csearch.htm#mm_embrace_2304191041_55504" xrefformat="{paratext}">Conformational Searches With Embrace</a> for <code>MBAE</code> searches is recommended. </p>
        <p>Both minimization and conformational search <code>MBAE</code> calculations may be distributed across multiple processors. If such calculations are carried out in energy difference mode then the calculation on the receptor is carried out by the parent process prior to distributing the calculations for the ligands amongst the processors indicated. Please see the <span class="OpcodeLink"><a href="opcodes_misc_debug.htm#opcodes_509685220_nprc">NPRC</a></span> command for more information. Please note that arg3=2 is not supported for distributed <code>MBAE</code> calculations.</p>
        <p>A substructure file should be used to specify substructures and various fixed/frozen constraints within the receptor.</p>
        <table class="ArgTable">
            <tr class="ArgTable">
                <td class="ArgTable">
                    <p class="ArgDef">arg1</p>
                </td>
                <td class="ArgTable">
                    <p class="ArgDef">Selection of Association Energy mode</p>
                </td>
            </tr>
            <tr class="ArgTable">
                <td class="ArgTable">
                    <p class="ArgValue">−1 </p>
                </td>
                <td class="ArgTable">
                    <p class="ArgPara">Turn <code>MBAE</code> off.</p>
                </td>
            </tr>
            <tr class="ArgTable">
                <td class="ArgTable">
                    <p class="ArgValue">0</p>
                </td>
                <td class="ArgTable">
                    <p class="ArgPara">Use Interaction Energy mode.</p>
                </td>
            </tr>
            <tr class="ArgTable">
                <td class="ArgTable">&#160;</td>
                <td class="ArgTable">
                    <p class="ArgPara">The interaction energy between the ligand and the receptor is calculated using the <span class="OpcodeLink"><a href="opcodes_energy.htm#opcodes_509685220_aset">ASET</a></span> mechanism. For non-covalently bonded receptor/ligand pairs, this corresponds to the nonbonded energy. While a number of sets may be used, the only project properties recorded in the output structure file are those for the interactions between sets 1 and 2. </p>
                </td>
            </tr>
        </table>
        <p class="Note" data-mc-autonum="&lt;b&gt;Note:&lt;/b&gt; "><span class="autonumber"><span><b>Note:</b> <![CDATA[ ]]></span></span>For jobs set up in Maestro, <span class="OpcodeLink"><a href="opcodes_energy.htm#opcodes_509685220_elst">ELST</a></span> arg1 is set to −1 in the <code>.com</code> file when <code>MBAE</code> is run in Interaction Mode (i.e., when <code>MBAE</code> arg1 is set to 0).</p>
        <table class="ArgTable">
            <tr class="ArgTable">
                <td class="ArgTable">
                    <p class="ArgValue">1 </p>
                </td>
                <td class="ArgTable">
                    <p class="ArgPara">Use Energy Difference mode.</p>
                </td>
            </tr>
            <tr class="ArgTable">
                <td class="ArgTable">&#160;</td>
                <td class="ArgTable">
                    <p class="ArgPara">The calculation is performed on the receptor first, then it is carried out on the ligand, and finally it is performed on the complex. All calculations start from the structures provided in the input structure file.</p>
                </td>
            </tr>
            <tr class="ArgTable">
                <td class="ArgTable">
                    <p class="ArgDef">arg2 </p>
                </td>
                <td class="ArgTable">
                    <p class="ArgDef">Type of calculation being performed</p>
                </td>
            </tr>
            <tr class="ArgTable">
                <td class="ArgTable">
                    <p class="ArgValue"> 0</p>
                </td>
                <td class="ArgTable">
                    <p class="ArgPara">Minimization (<span class="OpcodeLink"><a href="opcodes_minimization.htm#opcodes_509685220_mini">MINI</a></span>) calculations are performed.</p>
                </td>
            </tr>
            <tr class="ArgTable">
                <td class="ArgTable">
                    <p class="ArgValue">1</p>
                </td>
                <td class="ArgTable">
                    <p class="ArgPara">Conformational search calculations are performed.</p>
                </td>
            </tr>
            <tr class="ArgTable">
                <td class="ArgTable">
                    <p class="ArgDef">arg3 </p>
                </td>
                <td class="ArgTable">
                    <p class="ArgDef">Structural output</p>
                </td>
            </tr>
            <tr class="ArgTable">
                <td class="ArgTable">
                    <p class="ArgValue">0</p>
                </td>
                <td class="ArgTable">
                    <p class="ArgPara">Only the resulting complex structures are recorded.</p>
                </td>
            </tr>
            <tr class="ArgTable">
                <td class="ArgTable">
                    <p class="ArgValue">1</p>
                </td>
                <td class="ArgTable">
                    <p class="ArgPara">Only the resulting ligand structures extracted from the resulting complex structure are recorded.</p>
                </td>
            </tr>
            <tr class="ArgTable">
                <td class="ArgTable">
                    <p class="ArgValue">2</p>
                </td>
                <td class="ArgTable">
                    <p class="ArgPara">For Interaction Mode calculations this is the same as arg3 = 0.</p>
                </td>
            </tr>
            <tr class="ArgTable">
                <td class="ArgTable">&#160;</td>
                <td class="ArgTable">
                    <p class="ArgPara">For Energy Difference calculations, structures are recorded in the following order:</p>
                </td>
            </tr>
            <tr class="ArgTable">
                <td class="ArgTable">&#160;</td>
                <td class="ArgTable">
                    <p class="ArgPara">Processed Protein structure (no ligand).</p>
                </td>
            </tr>
            <tr class="ArgTable">
                <td class="ArgTable">&#160;</td>
                <td class="ArgTable">
                    <p class="ArgPara">For each ligand:</p>
                    <ul class="ArgListCompact">
                        <li class="ArgListCompact" value="1">
                            <p class="ArgListCompact">The processed ligand structure (isolated, no protein).</p>
                        </li>
                        <li class="ArgListCompact" value="2">
                            <p class="ArgListCompact">The processed complex structure.</p>
                        </li>
                    </ul>
                </td>
            </tr>
            <tr class="ArgTable">
                <td class="ArgTable">&#160;</td>
                <td class="ArgTable">
                    <p class="ArgPara">For arg3 = 2 the <code>MBAE</code> project properties are recorded with the complex structure only.</p>
                </td>
            </tr>
            <tr class="ArgTable">
                <td class="ArgTable">&#160;</td>
                <td class="ArgTable">
                    <p class="ArgPara">Arg3 = 2 is not supported for distributed calculations.</p>
                </td>
            </tr>
            <tr class="ArgTable">
                <td class="ArgTable">
                    <p class="ArgDef">arg4 </p>
                </td>
                <td class="ArgTable">
                    <p class="ArgDef"> DEBG 510 (Do not enforce properties dependencies)</p>
                </td>
            </tr>
            <tr class="ArgTable">
                <td class="ArgTable">
                    <p class="ArgValue">0</p>
                </td>
                <td class="ArgTable">
                    <p class="ArgPara">Turns on <span class="OpcodeLink"><a href="opcodes_misc_debug.htm#opcodes_509685220_debg">DEBG</a></span><code>  <![CDATA[ ]]></code>510 (default).</p>
                </td>
            </tr>
            <tr class="ArgTable">
                <td class="ArgTable">
                    <p class="ArgValue">    1</p>
                </td>
                <td class="ArgTable">
                    <p class="ArgPara">Turns off <span class="OpcodeLink"><a href="opcodes_misc_debug.htm#opcodes_509685220_debg">DEBG</a></span><code>  <![CDATA[ ]]></code>510.</p>
                </td>
            </tr>
        </table>
        <table class="NavLink" data-mc-conditions="Default.ScreenOnly">
            <tr class="NavLink">
                <td class="NavLeft"><span class="NavText">◀ <a class="NavLink MCXref xref xrefNavLink" href="opcodes_mc.htm" xrefformat="{paratext}">Monte Carlo Simulation Opcodes</a></span>
                </td>
                <td class="NavCenter"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="macromodel_command_referenceTOC.htm" xrefformat="{paratext}">MacroModel Command Reference Manual</a></span>
                </td>
                <td class="NavRight"><span class="NavText"><a class="NavLink MCXref xref xrefNavLink" href="opcodes_misc_debug.htm" xrefformat="{paratext}">Miscellaneous and Debugging Opcodes</a> ▶</span>
                </td>
            </tr>
        </table>
    </body>
</html>