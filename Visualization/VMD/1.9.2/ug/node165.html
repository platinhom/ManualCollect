<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>The AtomSel class (DEPRECATED)</TITLE>
<META NAME="description" CONTENT="The AtomSel class (DEPRECATED)">
<META NAME="keywords" CONTENT="ug">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="ug.css">

<LINK REL="next" HREF="node166.html">
<LINK REL="previous" HREF="node164.html">
<LINK REL="up" HREF="node163.html">
<LINK REL="next" HREF="node166.html">
</HEAD>

<BODY BGCOLOR="WHITE">
<!--Navigation Panel-->
<A NAME="tex2html3355"
  HREF="node166.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html3349"
  HREF="node163.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html3343"
  HREF="node164.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html3351"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html3353"
  HREF="node251.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html3356"
  HREF="node166.html">An atom selection example</A>
<B> Up:</B> <A NAME="tex2html3350"
  HREF="node163.html">Atom selections in Python</A>
<B> Previous:</B> <A NAME="tex2html3344"
  HREF="node164.html">The built-in atomsel type</A>
 &nbsp; <B>  <A NAME="tex2html3352"
  HREF="node1.html">Contents</A></B> 
 &nbsp; <B>  <A NAME="tex2html3354"
  HREF="node251.html">Index</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION001332000000000000000">
The AtomSel class (DEPRECATED)</A>
</H2>

<P>
VMD provides an atom selection class for use in the Python interpreter.
Instances of this class correspond to a set of atom indices in a 
particular molecule for a particular coordinate set.  Once an atom 
selection is made, you can query the properties of the selected atoms,
such as their names, residue ids, or coordinates.  In a similar fashion,
you can set the values of these properties.  You can also perform logical
operations on atom selections, including finding the intersection or 
union of two atom selections or finding the inverse of the set.  Finally,
you can perform tuple operations on the atom selection object to query
the indices of the atoms in the selection.

<P>
<A NAME="12827"></A>
<A NAME="12828"></A>

<P>
Atom selection macros can be defined using the <TT>macro</TT> method of the
AtomSel module.  The syntax is just as in the corresponding <TT>atomselect 
macro</TT> and <TT>atomselect delmacro</TT> Tcl commands; see 
section <A HREF="node122.html#ug:ui:text:atomselect">9.3.2</A> for details.

<P>

<P>
Below we summarize the methods available from the AtomSel class.

<UL>
<LI><TT>AtomSel(selection = 'all', molid = 0, frame = 0)</TT>: 
	Creates a new atom selection object.  

<P>
<IMG
 WIDTH="45" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img107.png"
 ALT="$ &gt;&gt;&gt;$">
 sel = AtomSel('name CA', 1) # Selects the alpha carbons of molecule 1

</LI>
<LI><TT>select(selection)</TT>: 
	Change the selected atoms.

<P>
<IMG
 WIDTH="45" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img107.png"
 ALT="$ &gt;&gt;&gt;$">
 sel.select('resid 5')

</LI>
<LI><TT>list()</TT>: 
    Return a copy of the selected atom indices.

</LI>
<LI><TT>frame(value = -1)</TT>: 
	Set/get the coordinate frame for the selection.  Nonpositive values
	will return the current value of the frame without changing it.

<P>
<IMG
 WIDTH="45" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img107.png"
 ALT="$ &gt;&gt;&gt;$">
 sel.frame(5)

<P>
<IMG
 WIDTH="45" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img107.png"
 ALT="$ &gt;&gt;&gt;$">
 sel.frame()

<P>
5

</LI>
<LI><TT>get(attr1, attr2, ...)</TT>: 
	Takes any number of string arguments, which should correspond to a
	valid atom property such as "name", "x", or "water".  Returns a list
	of the value of the property for each atom in the selection.  For
	boolean properties such as "water", the returned value will be
	1 if true and 0 if false.

<P>
<IMG
 WIDTH="45" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img107.png"
 ALT="$ &gt;&gt;&gt;$">
 x, y, z = sel.get('x', 'y', 'z')

</LI>
<LI><TT>set(attr, val)</TT>: 
	Set the atom property corresponding to <I>attr</I> using the values in
	<I>val</I>.  The number of elements in <I>val</I> should be either 1 or 
	the number in the atom selection.

<P>
<IMG
 WIDTH="45" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img107.png"
 ALT="$ &gt;&gt;&gt;$">
 len(sel)

<P>
12

<P>
<IMG
 WIDTH="45" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img107.png"
 ALT="$ &gt;&gt;&gt;$">
 sel.set('beta',3)

<P>
<IMG
 WIDTH="45" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img107.png"
 ALT="$ &gt;&gt;&gt;$">
 sel.set('beta',(1,2,3,4,5,6,7,8,9,10,11,12))

</LI>
<LI><TT>write(filename, filetype=None)</TT>: 
Write the atoms in the selection to filename.  Filetype is guessed
from the filename, or can be specified with filetype.

</LI>
<LI><TT>sel1 &amp; sel2</TT>: 
	Create a new atom selection using the atoms found in both <I>sel1</I> 
	and <I>sel2</I>.

</LI>
<LI><TT>sel1 <IMG
 WIDTH="9" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img65.png"
 ALT="$ \vert$">
 sel2</TT>: 
	Create a new atom selection using the atoms found in either <I>sel1</I>
	or <I>sel2</I>.

</LI>
<LI><TT>-sel</TT>: 
	Create a new atom selection using the atoms not found in <I>sel</I>.

</LI>
<LI><TT>len(sel)</TT>: 
	Returns the number of atoms in the selection.

</LI>
<LI><TT>sel[0], sel[0:3]</TT>: 
	Index and slice operations return the corresponding atoms in the
	selection.

</LI>
<LI><TT>center(weight=None)</TT>: 
Return the center of the selected atoms, possibly weighted by 
<TT>weight</TT>, which must be a sequence.

</LI>
<LI><TT>sasa(srad, samples=-1, points=None, restrict=None)</TT>: 
        Returns the solvent-accessible surface area (SASA) of atoms in the
        selection using the assigned radius for each atom, extending
        each radius by <TT>srad</TT> to find the points on a sphere that are
        exposed to solvent.  If a <I>restrict</I> selection is given,
        only solvent-accessible points near that selection bill be considered.
        The <TT>points</TT> parameter can be used to collect the points which
        are determined to be solvent-accessible; this must be a list 
				variable.

</LI>
<LI><TT>getbonds()</TT>: 
Returns a list of the atoms bonded to each atom in the selection.

</LI>
<LI><TT>setbonds(bonds)</TT>: 
Set the bonds for the atoms in the selection.  <TT>bonds</TT> must be a list
of the same length as the selection; each element in the list must be
a sequence containing the indices of the atoms to which the atom has a bond.

</LI>
<LI><TT>minmax()</TT>: 
Returns the minimum and maximum coordinates of the atoms in the selection
as a tuple of the form <TT>(xmin, ymin, zmin), (xmax, ymax, zmax)</TT>.

</LI>
<LI><TT>rmsd(sel, frame=None, weight=None)</TT>: 
<A NAME="13573"></A>
<A NAME="13574"></A>
Returns the root-mean-square distance of the atoms in <TT>sel</TT> from
the selection.  If <TT>frame</TT> is given, the coordinates from the
corresponding frame will be used (see the example).  If <TT>weight</TT>
is given, the computed RMSD will be weighted using the values in <TT>weight</TT>.

</LI>
<LI><TT>align(ref=None, move=None, frame=None, weight=None)</TT>: 
<A NAME="13580"></A>
<A NAME="13581"></A>
<A NAME="13582"></A>
<A NAME="13583"></A>
Finds the transformation that aligns the atoms in the selection with the 
atoms in <TT>ref</TT>, with optional weights <TT>weight</TT>, and applies this 
transformation to the atoms in <TT>move</TT>.  The following default values
for all arguments are provided:

<UL>
<LI><TT>ref</TT>: Same molecule and atoms as selection, but always using the

</LI>
<LI><TT>align(ref=None, move=None, frame=None, weight=None)</TT>: 
<A NAME="13611"></A>
<A NAME="13612"></A>

<P>
Finds the transformation that aligns the atoms in the selection with the 
atoms in <TT>ref</TT>, with optional weights <TT>weight</TT>, and applies this 
transformation to the atoms in <TT>move</TT>.  The following default values
for all arguments are provided:

<UL>
<LI><TT>ref</TT>: Same molecule and atoms as selection, but always using the
first timestep in the molecule.
</LI>
<LI><TT>move</TT>: All atoms in the selection molecule.
</LI>
<LI><TT>frame</TT>: overrides both the selection's frame and the <TT>move</TT>
frame, but does not affect the <TT>ref</TT> frame.
</LI>
<LI><TT>weight</TT>: Defaults to uniform weights on all atoms in selection.
</LI>
</UL>

<P>
first timestep in the molecule.
</LI>
<LI><TT>move</TT>: All atoms in the selection molecule.
</LI>
<LI><TT>frame</TT>: overrides both the selection's frame and the <TT>move</TT>
frame, but does not affect the <TT>ref</TT> frame.
</LI>
<LI><TT>weight</TT>: Defaults to uniform weights on all atoms in selection.
</LI>
</UL>

<P>

</LI>
<LI><TT>contacts(cutoff, sel=None)</TT>: 
Returns pairs of of atoms within <TT>cutoff of each other</TT>.  If <TT>sel</TT>
is <TT>None</TT>, atoms in the pairs must be in the selection; otherwise, the
first atom in each pair will be from the selection, and the second will
be from <TT>sel</TT>.

<P>
</LI>
</UL>

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html3355"
  HREF="node166.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html3349"
  HREF="node163.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html3343"
  HREF="node164.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html3351"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html3353"
  HREF="node251.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html3356"
  HREF="node166.html">An atom selection example</A>
<B> Up:</B> <A NAME="tex2html3350"
  HREF="node163.html">Atom selections in Python</A>
<B> Previous:</B> <A NAME="tex2html3344"
  HREF="node164.html">The built-in atomsel type</A>
 &nbsp; <B>  <A NAME="tex2html3352"
  HREF="node1.html">Contents</A></B> 
 &nbsp; <B>  <A NAME="tex2html3354"
  HREF="node251.html">Index</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
vmd@ks.uiuc.edu
</ADDRESS>
</BODY>
</HTML>
