<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Linear and polynomial combinations of components</TITLE>
<META NAME="description" CONTENT="Linear and polynomial combinations of components">
<META NAME="keywords" CONTENT="ug">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="ug.css">

<LINK REL="next" HREF="node230.html">
<LINK REL="previous" HREF="node228.html">
<LINK REL="up" HREF="node226.html">
<LINK REL="next" HREF="node230.html">
</HEAD>

<BODY BGCOLOR="WHITE">
<!--Navigation Panel-->
<A NAME="tex2html4431"
  HREF="node230.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html4425"
  HREF="node226.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html4419"
  HREF="node228.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html4427"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html4429"
  HREF="node251.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html4432"
  HREF="node230.html">Colvars as scripted functions</A>
<B> Up:</B> <A NAME="tex2html4426"
  HREF="node226.html">Collective variable components (basis</A>
<B> Previous:</B> <A NAME="tex2html4420"
  HREF="node228.html">Advanced usage and special</A>
 &nbsp; <B>  <A NAME="tex2html4428"
  HREF="node1.html">Contents</A></B> 
 &nbsp; <B>  <A NAME="tex2html4430"
  HREF="node251.html">Index</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION001643000000000000000"></A>
<A NAME="sec:cvc_superp"></A>
<BR>
Linear and polynomial combinations of components
</H2>

<P>
To extend the set of possible definitions of colvars <!-- MATH
 $\xi(\mathbf{r})$
 -->
<IMG
 WIDTH="35" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img248.png"
 ALT="$ \xi(\mathbf{r})$">
, multiple components
<!-- MATH
 $q_i(\mathbf{r})$
 -->
<IMG
 WIDTH="39" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img249.png"
 ALT="$ q_i(\mathbf{r})$">
 can be summed with the formula:
<P></P>
<DIV ALIGN="CENTER"><A NAME="eq:colvar_combination"></A><!-- MATH
 \begin{equation}
\xi(\mathbf{r}) = \sum_i c_i [q_i(\mathbf{r})]^{n_i}
\end{equation}
 -->
<TABLE CELLPADDING="0" WIDTH="100%" ALIGN="CENTER">
<TR VALIGN="MIDDLE">
<TD NOWRAP ALIGN="CENTER"><IMG
 WIDTH="158" HEIGHT="53" ALIGN="MIDDLE" BORDER="0"
 SRC="img250.png"
 ALT="$\displaystyle \xi(\mathbf{r}) = \sum_i c_i [q_i(\mathbf{r})]^{n_i}$"></TD>
<TD NOWRAP WIDTH="10" ALIGN="RIGHT">
(13.13)</TD></TR>
</TABLE></DIV>
<BR CLEAR="ALL"><P></P>
where each component appears with a unique coefficient <IMG
 WIDTH="17" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img251.png"
 ALT="$ c_i$">
 (1.0 by
default) the positive integer exponent <IMG
 WIDTH="20" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img252.png"
 ALT="$ n_i$">
 (1 by default).

<P>
Any set of components can be combined within a colvar, provided that
they return the same type of values (scalar, unit vector, vector, or
quaternion).  By default, the colvar is the sum of its components.
Linear or polynomial combinations (following
equation&nbsp;(<A HREF="#eq:colvar_combination">13.14</A>)) can be obtained by setting the
following parameters, which are common to all components:

<UL>
<LI><A NAME="22158"></A>
  <B><FONT SIZE="+1"><TT>componentCoeff </TT></FONT></B> <IMG
 WIDTH="14" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img132.png"
 ALT="$ \langle\,$">
Coefficient of this component in the colvar<IMG
 WIDTH="14" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img133.png"
 ALT="$ \,\rangle$">
 
<BR><B>Context: </B> any component 
<BR><B>Acceptable values: </B> decimal 
<BR><B>Default value: </B> <TT>1.0</TT> 
<BR><B>Description: </B> Defines the coefficient by which this component is multiplied
    (after being raised to <TT>componentExp</TT>) before being added
    to the sum.

<P>
</LI>
<LI><A NAME="22167"></A>
  <B><FONT SIZE="+1"><TT>componentExp </TT></FONT></B> <IMG
 WIDTH="14" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img132.png"
 ALT="$ \langle\,$">
Exponent of this component in the colvar<IMG
 WIDTH="14" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img133.png"
 ALT="$ \,\rangle$">
 
<BR><B>Context: </B> any component 
<BR><B>Acceptable values: </B> integer 
<BR><B>Default value: </B> <TT>1</TT> 
<BR><B>Description: </B> Defines the power at which the value of this component is raised
    before being added to the sum.  When this exponent is
    different than 1 (non-linear sum), system forces and the Jacobian
    force are not available, making the colvar unsuitable for ABF calculations.
    Alternately, defines the order number of components
    within scripted colvars. Values should then range from 1 to the number
    of components. See&nbsp;<A HREF="node230.html#sec:colvar_scripted">13.4.4</A> for details.
</LI>
</UL>

<P>
<B>Example:</B> To define the <I>average</I> of a colvar across
different parts of the system, simply define within the same colvar
block a series of components of the same type (applied to different
atom groups), and assign to each component a <TT>componentCoeff</TT>
of <IMG
 WIDTH="37" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img253.png"
 ALT="$ 1/N$">
.

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html4431"
  HREF="node230.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html4425"
  HREF="node226.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html4419"
  HREF="node228.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html4427"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html4429"
  HREF="node251.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html4432"
  HREF="node230.html">Colvars as scripted functions</A>
<B> Up:</B> <A NAME="tex2html4426"
  HREF="node226.html">Collective variable components (basis</A>
<B> Previous:</B> <A NAME="tex2html4420"
  HREF="node228.html">Advanced usage and special</A>
 &nbsp; <B>  <A NAME="tex2html4428"
  HREF="node1.html">Contents</A></B> 
 &nbsp; <B>  <A NAME="tex2html4430"
  HREF="node251.html">Index</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
vmd@ks.uiuc.edu
</ADDRESS>
</BODY>
</HTML>
