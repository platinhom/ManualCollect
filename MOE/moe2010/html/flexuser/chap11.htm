

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Microsoft FrontPage 5.0" />
    <meta name="TEMPLATEBASE" content="DTemplate" />
    <title>Troubleshooting Guide</title>
    <link rel="StyleSheet" href="document.css" type="text/css" />
    <link rel="StyleSheet" href="catalog.css" type="text/css" />
  </head>

  <body>

    <?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

    <table width="174" border="0" align="right" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a href="TOC.htm"><img src="graphics/stocsb.gif" width="45" height="27" border="0" alt="TOC" /></a><a href="chap10.htm"><img src="graphics/sprevsb.gif" width="42" height="27" border="0" alt="PREV" /></a><a href="chap12.htm"><img src="graphics/snextsb.gif" width="42" height="27" border="0" alt="NEXT" /></a><a href="IX.htm"><img src="graphics/sindexsb.gif" width="45" height="27" border="0" alt="INDEX" /></a>
        </td>
      </tr>
    </table>

    <p>
      <img border="0" src="graphics/FLEXlm.gif">
    </p>
    <hr align="left" />

    <blockquote>
<a name="wp916236"> </a><h2 class="pNewHTMLPageNoRule">
Appendix&#160;C
</h2>

<a name="wp916242"> </a><h2 class="pHeading1Rule">
	Troubleshooting Guide
</h2>
<hr /><a name="wp896089"> </a><p class="pBody">
This appendix documents areas of FLEX<em class="cEmphasis">lm</em> that have given customers difficulty in the past.
</p>
<a name="wp896091"> </a><h3 class="pHeading2">
C.1	General Troubleshooting Hints
</h3>
<a name="wp896092"> </a><p class="pBody">
The following are tips for debugging:
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<a name="wp896093"> </a><div class="pSmartList1"><li>When you start the license server (<code class="cCode">lmgrd</code>) be sure that you direct the output into a local log file where you can examine it. The log file often contains useful information. Examine it when you have a problem, and be prepared to answer questions about it when you talk to a support person.</li></div>
<a name="wp896094"> </a><div class="pSmartList1"><li>If the license server appears to have started correctly (which you can determine from the log file), try running <code class="cCode">lmstat -a</code> and <code class="cCode">lmdiag</code> to see if that program has the same problem as your application.</li></div>
<a name="wp896100"> </a><div class="pSmartList1"><li>If your application is FLEX<em class="cEmphasis">lm</em> v4.1 or later (v5 or later on Windows), you can use the <code class="cCode">FLEXLM_DIAGNOSTICS</code> environment variable. Set <code class="cCode">FLEXLM_DIAGNOSTICS</code> to 1, 2, or 3. A setting of 3 gives more information than 2, 2 gives more information than 1 (in particular, the feature name that was denied). See <a  href="chap11.htm#wp896119">Section C.2, &#8220;FLEXLM_DIAGNOSTICS,&#8221;</a> for more information.</li></div>
<a name="wp896101"> </a><div class="pSmartList1"><li>When you talk to a support person, be prepared with answers to the following questions:</li></div>
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp896102"> </a><div class="pSmartList2"><li>What kind of machine is your license server running on? </li></div>
<a name="wp916555"> </a><div class="pSmartList2"><li>What version of the operating system? </li></div>
<a name="wp916556"> </a><div class="pSmartList2"><li>What machine and operating system is the application running on?</li></div>
<a name="wp896106"> </a><div class="pSmartList2"><li>What version of FLEX<em class="cEmphasis">lm</em> does the FLEX<em class="cEmphasis">lm</em>-licensed application use? </li></div>
<a name="wp916566"> </a><p class="pIndented3Relative">
Use the <code class="cCode">lmver</code> script, or, on UNIX, execute the following command on your <code class="cCode">lmgrd</code>, vendor daemon, and application:
</p>
<a name="wp896107"> </a><p class="pIndented3CodeRelative">
<code class="cCode">strings </code><code class="cCodeEmphasis">binary_name</code><code class="cCode"> | grep Copy</code>
</p>
<a name="wp896108"> </a><p class="pIndented3Relative">
Alternatively, <code class="cCode">lmgrd -v</code> gives the <code class="cCode">lmgrd</code> version, and this works with the vendor daemon also.
</p>
<a name="wp896109"> </a><div class="pSmartList2"><li>What error or warning messages appear in the log file? </li></div>
<a name="wp916576"> </a><div class="pSmartList2"><li>Did the server start correctly? </li></div>
<a name="wp916577"> </a><p class="pIndented3Relative">
Look for a message such as: 
</p>
<a name="wp896110"> </a><p class="pIndented3CodeRelative">
<code class="cCode">server xyz started for: feature1 feature2</code>.
</p>
<a name="wp896111"> </a><div class="pSmartList2"><li>What is the output from running <code class="cCode">lmstat -a</code>?</li></div>
<a name="wp896115"> </a><div class="pSmartList2"><li>Are you running other products which are also licensed by FLEX<em class="cEmphasis">lm</em>? </li></div>
<a name="wp916587"> </a><div class="pSmartList2"><li>Are you using a combined license file or separate license files?</li></div>
<a name="wp896116"> </a><div class="pSmartList2"><li>Are you using a three-server redundant license server (multiple SERVER lines in your license file)?</li></div>
</ul></div>
</ul></div>
<a name="wp896119"> </a><h3 class="pHeading2">
C.2	FLEXLM_DIAGNOSTICS
</h3>
<blockquote>
<hr width=75% />
<a name="wp896123"> </a><p class="pBodyNoteRelative">
Note:	The ability for FLEX<em class="cEmphasis">lm</em> to produce diagnostic output is controlled by your software vendor.
</p>
<hr width=75% />
</blockquote><a name="wp896124"> </a><p class="pBody">
<code class="cCode">FLEXLM_DIAGNOSTICS</code> is an environment variable that causes the application to produce diagnostic information when a checkout is denied. The format of the diagnostic information may change over time.
</p>
<a name="wp896131"> </a><p class="pBody">
On UNIX, the diagnostic output goes to stderr.
</p>
<a name="wp896132"> </a><p class="pBody">
On Windows, the output is a file in the current directory called <code class="cCode">flex</code><code class="cCodeEmphasis">pid</code><code class="cCode">.log</code>, where <code class="cCodeEmphasis">pid</code> is the application&#8217;s process ID.
</p>
<a name="wp896133"> </a><h4 class="pHeading3">
C.2.1	Level 1 Content
</h4>
<a name="wp896137"> </a><p class="pBody">
If <code class="cCode">FLEXLM_DIAGNOSTICS</code> is set to 1, then the standard FLEX<em class="cEmphasis">lm</em> error message is be presented, plus a complete list of license files that the application tried to use. For example:
</p>
<a name="wp896138"> </a><p class="pIndented1CodeRelative">
setenv FLEXLM_DIAGNOSTICS 1<br />FLEXlm checkout error: Cannot find license file (-1,73:2) No such file or directory<br />license file(s):  /usr/myproduct/licenses/testing.lic license.lic
</p>
<a name="wp896139"> </a><h4 class="pHeading3">
C.2.2	Level 2 Content
</h4>
<a name="wp905913"> </a><p class="pBody">
If <code class="cCode">FLEXLM_DIAGNOSTICS</code> is set to 2, then, in addition to level 1 output, the checkout arguments are presented. For example:
</p>
<a name="wp905914"> </a><p class="pIndented1CodeRelative">
setenv FLEXLM_DIAGNOSTICS 2<br />FLEXlm checkout error: No such feature exists (-5,116:2) No such file or directory<br />license file(s):  /usr/myproduct/licenses/testing.lic license.lic<br />lm_checkout(&quot;f1&quot;, 1.0, 1, 0x0, ..., 0x4000)
</p>
<a name="wp896142"> </a><p class="pBody">
Note that the error message actually contains two separate problems, which both occurred during the checkout: 
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<a name="wp896143"> </a><div class="pSmartList1"><li>There&#8217;s no such feature in the license it did find</li></div>
<a name="wp896144"> </a><div class="pSmartList1"><li>It was unable to find the other license file, which is what produces the message &#8220;No such file or directory&#8221;</li></div>
</ul></div>
<a name="wp896145"> </a><p class="pBody">
Following is a description of the arguments to <code class="cGUI">lm_checkout()</code>
</p>
<a name="wp896146"> </a><p class="pIndented2CodeRelative">
lm_checkout(<code class="cCodeEmphasis">feature</code>, <code class="cCodeEmphasis">version</code>, <code class="cCodeEmphasis">num_lic</code>, <code class="cCodeEmphasis">queue_flag</code>, <code class="cCodeEmphasis">...</code>, <code class="cCodeEmphasis">dupgroup_mask</code>)
</p>
<a name="wp896147"> </a><p class="pBody">
where:
</p>
<a name="wp896169"> </a><p class="pBodyRelative">
</p><div align="left">
<table border="1" cellpadding="10">
  <caption></caption>
  <tr align="left">    <td><a name="wp896150"> </a><div class="pCellBody">
<code style="font-style: italic; font-weight: normal; text-decoration: none; vertical-align: baseline" class="cCodeEmphasis">feature</code>
</div>
</td>
    <td><a name="wp896152"> </a><div class="pCellBody">
The requested feature.
</div>
</td>
</tr>
  <tr align="left">    <td><a name="wp896154"> </a><div class="pCellBody">
<code class="cCodeEmphasis">version</code>
</div>
</td>
    <td><a name="wp896156"> </a><div class="pCellBody">
The requested version. The license file must contain a version &gt;= the requested version.
</div>
</td>
</tr>
  <tr align="left">    <td><a name="wp896158"> </a><div class="pCellBody">
<code class="cCodeEmphasis">num_lic</code>
</div>
</td>
    <td><a name="wp896160"> </a><div class="pCellBody">
Number of licenses requested. Usually 1.
</div>
</td>
</tr>
  <tr align="left">    <td><a name="wp896162"> </a><div class="pCellBody">
<code class="cCodeEmphasis">queue_flag</code>
</div>
</td>
    <td><a name="wp896164"> </a><div class="pCellBody">
If 0, no queueing<br />If 1, queue for license (&#8220;blocking&#8221; queue)<br />If 2, queue for licenses, but return to application (&#8220;non-blocking&#8221; queue)
</div>
</td>
</tr>
  <tr align="left">    <td><a name="wp896166"> </a><div class="pCellBody">
<code class="cCodeEmphasis">dupgroup_mask</code>
</div>
</td>
    <td><a name="wp896168"> </a><div class="pCellBody">
Indicates duplicate grouping, also called license sharing. User, host, and display are as shown by <code class="cCode">lmstat -a</code>.
</div>
</td>
</tr>
</table>
</div>
<p class="pBodyRelative">
</p>
<a name="wp896170"> </a><p class="pBodyRelative">

</p>
<a name="wp896174"> </a><h4 class="pHeading3">
C.2.3	Level 3 Content (FLEX<em class="cEmphasis">lm</em> v6.0+ only)
</h4>
<a name="wp896175"> </a><p class="pBody">
If <code class="cCode">FLEXLM_DIAGNOSTICS</code> is set to 3, then, in addition to level 1 and 2 output, if a checkout is successful, information is printed explaining how the license was granted:
</p>
<a name="wp896176"> </a><p class="pIndented2CodeRelative">
setenv FLEXLM_DIAGNOSTICS 3<br /><code class="cCodeEmphasis">app<br /></code>Checkout succeeded: f0/14263EAEA8E0<br />License file: ./servtest.lic<br />No server used<br /><code class="cCodeEmphasis">app2<br /></code>Checkout succeeded: f1/BC64A7B120AE<br />License file: @localhost<br />License Server: @localhost<br /><code class="cCodeEmphasis">app3<br /></code>Checkout succeeded: f1/BC64A7B120AE<br />License file: servtest.lic<br />License Server: @speedy
</p>
<a name="wp896177"> </a><p class="pBody">
Note that the feature name and license key are printed, along with the license file location (or host name if <code class="cCode">@</code><code class="cCodeEmphasis">host</code> were used) and host name of the server, where applicable.
</p>
    </blockquote>

    <hr />

<table align="right" border="0" cellspacing="0" cellpadding="0">
    <td align="right" width="200" height="85">
    <map name="FPMap0">
    <area href="http://www.macrovision.com" shape="rect" coords="4, 0, 199, 33">
    <area href="http://www.macrovision.com" shape="rect" coords="1, 40, 199, 57"></map><img border="0" src="graphics/gsitoplogo.gif" usemap="#FPMap0" /></td>
    <td align="right" width="200" height="85">
    <map name="FPMap1">
    <area href="mailto:support@macrovision.com" shape="rect" coords="9, 70, 151, 99"></map><img border="0" src="graphics/footerAddress.gif" usemap="#FPMap1" /></td>
</table>
 
    
    <table width="174" border="0" align="left" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
<a href="TOC.htm"><img src="graphics/stocsb.gif" width="45" height="27" border="0" alt="TOC" /></a><a href="chap10.htm"><img src="graphics/sprevsb.gif" width="42" height="27" border="0" alt="PREV" /></a><a href="chap12.htm"><img src="graphics/snextsb.gif" width="42" height="27" border="0" alt="NEXT" /></a><a href="IX.htm"><img src="graphics/sindexsb.gif" width="45" height="27" border="0" alt="INDEX" /></a>
        </td>
      </tr>
    </table>
        
 <p>&nbsp;</p>
 
   
      <table align="left">
      <tr>
        <td colspan="4" align=left>
        <font face="Arial, Verdana, Helvetica, sans-serif" size="2"><i>
        FLEXlm End Users 
        Guide</i></font></tr>
      <tr> 
        <td colspan="4" align=left><em>
        <font face="Arial, Verdana, Helvetica, sans-serif" size="2">July 2003</font></em></td>
      </tr>
    </table>
   
  </body>
</html>