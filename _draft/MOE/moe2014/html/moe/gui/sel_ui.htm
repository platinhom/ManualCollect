<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!--
!!	select.htm	Selection Prompter
!!-->

<!--
!!    MOE Online Manuals
!!    COPYRIGHT (C) 1997-2015
!!        CHEMICAL COMPUTING GROUP INC.  ALL RIGHTS RESERVED.
!!-->

<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<script type="text/javascript" 
src="../../include/jsincludes_moe.js"></script>

<link rel="stylesheet" type="text/css"
href="../../include/manstyle.css" />


<meta panel Selection Prompter />

<meta keywords Atom Selector, Residue Selector, selection language />
<meta keywords selection expression />

<title>Selection Prompter</title>
</head>

<body>
<div id="MoeHeader"></div>
<noscript>
	<span class="warning">Warning: JavaScript is disabled. This page will not display correctly.</span>
	<h1 class="title">MOE Documentation</h1>
	<hr noshade="noshade" />
	<style>.LaTeX {color: #C08080;}</style>
</noscript>

<ul>
    <li><a href="#Introduction">Running the Application</a></li>
    <li><a href="#SelectionExamples">Selection Examples</a>
	<ul>
	<li><a href="#NamedSets">Named Sets</a></li>
	<li><a href="#Keywords">Selecting by Keywords</a></li>
	<li><a href="#Extension">Selecting by Extension</a></li>
	<li><a href="#Patterns">Selecting by Patterns</a></li>
	<li><a href="#LogicalOperation">Logical Operation</a></li>
	<li><a href="#Interaction">Interaction</a></li>
	<li><a href="#Functions">SVL Functions</a></li>
	<li><a href="#Macros">Selecting by Macros</a></li>
	</ul>
    </li>
</ul>

<p>
The purpose of the Selection Prompter is to select atoms and
residues using MOE's <a href="../fcnref/aselect.htm">selection language</a>.
With simple expressions, this powerful and intuitive
language achieves functionality provided by the
<a href="select.htm#AtomSelector">Atom Selector</a> and 
<a href="select.htm#ResidueSelector">Residue Selector</a>,
and additionally provides the ability to perform
complex selection operations previously unavailable
using those panels.
</p>

<p>Examples of selection language expressions and syntax are
given <a href="#SelectionExamples">below</a>.
</p>

<a name="Introduction"></a><h2>Running the Application</h2>

<p>
To open the Selection Prompter, choose: 

<blockquote>
<span class="menu">Select | Selector...</span>
</blockquote>

from either the MOE Window or the Sequence Editor.
Equivalently, the shortcut <tt>Ctrl+L</tt> will also raise the Selection
Prompter, provided the MOE Window or Sequence Editor has the focus.

<p>
<center>

<img src="sel_ui/selection_prompter.png" alt="Selection Prompter" />
<p class="caption">Selection Prompter in MOE Window</p>

<img src="sel_ui/se_selection_prompter.png" alt="Selection Prompter" />
<p class="caption">Selection Prompter in Sequence Editor</p>

</center>
</p>

<p>The Selection Prompter in the MOE Window and Sequence Editor are
the same application; their appearance differs slightly in each case
in that the dimmed text in the empty textfield is context-sensitive,
showing examples of atom selection expressions in the MOE Window,
and residue selection expressions in the Sequence Editor.
</p>

<p>The Selection Prompter selects atoms when operated from within
the MOE Window, and residues when within the Sequence Editor.
When entering an atom expression in the Sequence Editor,
the parent residues of the atoms satisfying the expression will be selected.
Similarly, when entering a residue expression in the MOE Window,
the child atoms of the residues satisfying the expression
will be selected.
</p>

<p>The Selection Prompter comprises the following components:</p>

<ul>
<p><li><img src="sel_ui/selection_mode.png" style="vertical-align:middle" />
Specify the selection mode.  There are two modes of selection:

    <p>
    <ul>
    <li>
	<b>Select.</b> Objects satisfying the selection expression
	are added to the current selection.
    </li><li>
	<b>Deselect.</b> Objects satisfying the
	selection expression are deselected from the current selection.
    </li>
    </ul>
    </p>
</li></p>

<p><li><b>Edit Box.</b> Textfield
in which selection expressions are entered.  The following
keystrokes and features are available:

    <ul>
    <p><li>
	<tt>&lt;Enter&gt;</tt>. Perform the selection and close the prompter.
    </li></p><p><li>
	<tt>&lt;Shift+Enter&gt;</tt>. Perform the selection, leaving the
	prompter open.
    </li></p><p><li>
	<tt>&lt;Ctrl+Enter&gt;</tt>. Briefly flash
	the objects satisfying the selection expression.
    </li></p><p><li>
	<tt>&lt;ESC&gt;</tt>. Clears the content.
	If the field is already empty, quits the prompter.
    </li></p><p><li>
	<tt>&lt;Up&gt;</tt>, <tt>&lt;Down&gt;</tt>.  Keyboard
	arrows navigate the expression history.
    </li></p><p><li>
	<i>Empty text</i>.  When the textfield is empty, the
	grayed text gives examples of selection language expressions.
	The bubble help, which appears when the mouse is hovered,
	gives further examples.
    </li></p><p><li>
	<i>Shortcut</i>.  The textfield pulldown provides
	examples of common expressions.
    </li></p><p><li>
	<i>Syntax checking</i>.  The text color
	turns red when a syntax error is detected.
    </li></p>
    </ul>
</li></p>

<p><li><img src="sel_ui/flash_button.png" style="vertical-align:middle" />
Press to briefly flash
the objects satisfying the selection expression.
The button will become inactive when the
expression is not valid, and its bubble help will show the syntax error.
Equivalently, press <tt>&lt;Ctrl+Enter&gt;</tt> in the textfield.
</li></p>

<p><li><img src="sel_ui/ui_button.png" style="vertical-align:middle" />
Opens the <a href="select.htm#AtomSelector">Atom Selector</a>
if the prompter is in the MOE Window,
otherwise the <a href="select.htm#ResidueSelector">Residue Selector</a>
if in the Sequence Editor. 
</p>

<p><li><img src="sel_ui/selection_help.png" style="vertical-align:middle" />
Opens the current page in a browser. 
</li></p>

</ul>

<a name="SelectionExamples"></a><h2>Selection Language Examples</h2>

<p>In the following, examples of syntax for common expressions
are given.
</p>

<a name="NamedSets"></a><h3>Named Sets</h3>

<p>Named sets of objects can be assigned and subsequently used in
other expressions.</p>

<pre>
    $name			objects of a set called &quot;name&quot;
    $name = ligand		create a set called &quot;name&quot; of all ligand objects
</pre>

<a name="Keywords"></a><h3>Keywords</h3>

<p>Special keywords exist to access atoms and residues with commonly
inquired properties.</p>

<pre>
    ligand			ligand atoms/residues
    asel			current atom selection
    rsel			current residue selection
    csel			current chain selection
    backbone			backbone atoms/residues
    visible			visible atoms/residues
    exposed			surface exposed atoms/residues
</pre>

<a name="Extension"></a><h3>Extension</h3>

<p>The extension operation enlarges the selection set.</p>

<pre>
    ligand >> 4.5		ligand and all objects within 5&Aring; of the ligand
    fixed >> bond		fixed atoms and all atoms bonded to them 
    sstruct h >> column		helical residues extended to include all residues
				belonging to the same columns in the Sequence Editor
    asel >> mol			currently selected atoms, extended to entire molecule
</pre>

<a name="Patterns"></a><h3>Patterns</h3>

<p>Residue sequence patterns, SMARTS strings,
and PROSITE patterns are supported.</p>

<pre>
    AlaGlyHis			three residues whose residue sequence is &quot;AlaGlyHis&quot;
    AGH				three residues whose residue sequence is &quot;AGH&quot;
    Ala245f			residue Ala at UID 245, with insertion code 'f'
    Ala4:Gly10			residues starting at Ala UID 4, to Gly UID 10, inclusive
    &quot;C(=O)C&quot;			ketone groups, specified by SMARTS string
    prosite &quot;F-[GS]-x(3)&quot;	residues satisfying PROSITE pattern
</pre>

<a name="LogicalOperation"></a><h3>Logical Operation</h3>

<p>Logical set combining operations such as <tt>and</tt> (intersection),
<tt>or</tt> (union), <tt>-</tt> (difference), and <tt>not</tt> (negation)
are supported.</p>

<pre>
    receptor and heavy		all heavy atoms of the receptor
    ligand or solvent		union of all ligand and solvent objects
    backbone - fixed 		all unfixed backbone atoms
    not pocket			no pocket atoms
</pre>

<a name="Interaction"></a><h3>Interaction</h3>

<p>Binary operations expressing the relationship between two
sets of objects use parenthesized parameter lists.
The objects satisfying the expression will all come from
the first set in the list.
</p>

<pre>
    dist (ligand, receptor) > 5	ligand atoms that are at least 5&Aring; away from
				any receptor atom
    hbond (water, sstruct h)	water molecules that are hydrogen-bonded to helices
    clash (ligand, all) > 4	ligand atoms that clash with other atoms, specified
				as having contact energy greater than 4 kcal/mol
</pre>

<a name="Functions"></a><h3>Functions</h3>

<p>Atom and residue property SVL functions can be invoked.</p>

<pre>
    aName == 'CA'		atoms with atom name 'CA'
    aIon < -1			atoms with ionization state less than -1
    rAtomCount == 15		residues containing exactly 15 atoms
    cHeader ==	'pdb'		chains with 'pdb' as a header
</pre>

<a name="Macros"></a><h3>Macros</h3>

<p>A special shorthand makes it easy to specify objects
by name and tag.  There are two modes of specification, one
the reverse of the other.  Fields can be left unspecified.
At least one slash '<tt>/</tt>' is required.
</p>

<pre>
    /1ATP/E/VAL/CA		shorthand for cTag == '1ATP'
					  and cLetter == 'E'
					  and rName == 'VAL'
					  and aName == 'CA'

    ca//E	 		shorthand for aName == 'CA'
					  and cLetter == 'E'
</pre>

<a name="See_Also"></a><h2>See Also</h2>

<a href="select.htm">Selection Panels</a><br />
<a href="../fcnref/aselect.htm">Selection Expression Language</a><br />

<noscript>
	<hr noshade="noshade" />
	<font size="2"> Copyright &copy; 1997&ndash;2015
	<a href="http://www.chemcomp.com">Chemical Computing Group Inc.</a> </font>
</noscript>
<div id="MoeFooter"></div>
</body>
</html>
