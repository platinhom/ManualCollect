<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!--
!!	dbpca.htm	PCA fcnref
!! -->


<!--
!!    MOE Online Manuals
!!    COPYRIGHT (C) 1997-2015
!!        CHEMICAL COMPUTING GROUP INC.  ALL RIGHTS RESERVED.
!!-->

<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<script type="text/javascript" 
src="../../include/jsincludes_moe.js"></script>

<link rel="stylesheet" type="text/css"
href="../../include/manstyle.css" />


<meta keywords>
<meta functions db_PrincipalComponents, dbv_PrincipalComponents>
<title>Principal Components Analysis</title>
</head>
<body>
<div id="MoeHeader"></div>
<noscript>
	<span class="warning">Warning: JavaScript is disabled. This page will not display correctly.</span>
	<h1 class="title">MOE Documentation</h1>
	<hr noshade="noshade" />
	<style>.LaTeX {color: #C08080;}</style>
</noscript>


<h2>Syntax</h2>

<pre>    
    <a class="fcnlink" href="#db_PrincipalComponents">db_PrincipalComponents</a> [ 'dbfile', dbi, options, 'report_file' ]
</pre>

<dir>
where <tt>options</tt> is:
</dir>
<pre>
    [
        write_pca : flag,
        prefix    : 'name',
	autoscale : flag,
        maxcond   : num,
        minvar    : percent,
        maxcomp   : num
    ]

    <a class="fcnlink" href="#dbv_PrincipalComponents">dbv_PrincipalComponents</a> 'mdb_filename'
</pre>

<a name="db_PrincipalComponents"></a>

<h2>Description</h2>

<p><tt><span class="fcndef">db_PrincipalComponents</span></tt>
performs principal components analysis
on a given database. Arguments are:

<dl>

<dt><tt>dbfile</tt>
<dd>Specifies the filename of the MOE molecular database to be operated
upon.

<p><dt><tt>dbi</tt>
<dd>Controls how the entries and fields from the database will be interpreted.
It is a tagged vector of the form:

<pre>
[wfield:'field', xfields:['field1', 'field2', ...], esel:flag]
</pre>

<p>where 
<ul>
<li><tt>'field'</tt> is the name of the weight field (a null or empty token
means no weight field)

<li><tt>['field1', 'field2', ...]</tt> is a vector of numeric field names
specifying the fields to use in the calculation; if null, all numeric
fields are used

<li><tt>flag</tt> indicates whether or not the calculation is restricted
to the selected entries in the Database Viewer (a non-zero value means use
selected entries only, default is 0); the flag is ignored if the database
is not open in a Database Viewer

</ul>

<dt><tt>options</tt>
<dd>Tagged vector of optional attribute-value colon-separated arguments: 

<dl>
<p><dt><tt>write_pca:flag</tt>
<dd>If <tt>flag</tt> is non-zero, the PCA components are written to
the database.  The field names are constructed using the specified
<tt>prefix</tt>.  Default is 1.

<p><dt><tt>prefix:'name'</tt>
<dd>Prefix for the PCA component field names. Default is <tt>'PCA'</tt>.

<p><dt><tt>autoscale:flag</tt>
<dd>If <tt>flag</tt> is non-zero, the data in each field will be scaled prior
to the PCA calculation so that the field has unit variance.  Default is 1.

<p><dt><tt>maxcond:num</tt>
<dd>Maximum acceptable condition number of the covariance matrix. Smaller
numbers result in fewer principal components. Default is 1e6.

<p><dt><tt>minvar:percent</tt>
<dd>Minimum percentage of variance to retain in the final set of principal
components. Default is 100.

<p><dt><tt>maxcomp:num</tt>
<dd>Maximum number of components to retain. A value of 0 means that no
limit is imposed. Default is 0.

</dl>

<p><dt><tt>report_file</tt>
<dd>Specifies the name of the report file.  If <tt>report_file</tt>
is null, an SVL Text Editor will be opened containing the report.

</dl>

<p>
See <a href="../../mdb/dbpca.htm">Principal Components Analysis</a>
for more details on the options vector and the theory behind the
calculation.

<p><a name="dbv_PrincipalComponents"></a></p><p><hr noshade="noshade" />

<pre>
<span class="fcndef">dbv_PrincipalComponents</span> 'mdb_filename'
</pre>

<p>Displays the Principal Components Analysis panel which is used to run
the <tt>db_PrincipalComponents</tt> function.  If the given filename is
null, the user is prompted to select a database.



<h2>See Also</h2>

<a href="../../mdb/dbpca.htm">Principal Components Analysis</a>


<noscript>
	<hr noshade="noshade" />
	<font size="2"> Copyright &copy; 1997&ndash;2015
	<a href="http://www.chemcomp.com">Chemical Computing Group Inc.</a> </font>
</noscript>
<div id="MoeFooter"></div>
</body>
</html>

