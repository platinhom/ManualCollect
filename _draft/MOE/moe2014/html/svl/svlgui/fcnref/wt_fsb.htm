<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!--	svl/svlgui/fcnref/wt_fsb.htm	FSB widget
!!-->

<!--
!!    MOE Online Manuals
!!    COPYRIGHT (C) 1997-2015
!!        CHEMICAL COMPUTING GROUP INC.  ALL RIGHTS RESERVED.
!!-->

<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<script type="text/javascript" 
src="../../../include/jsincludes_moe.js"></script>

<link rel="stylesheet" type="text/css"
href="../../../include/manstyle.css" />



<meta keywords FSB, FSBText>

<meta functions Widget:FSB>
<meta functions FSB (widget)>

<meta functions Widget:FSBText>
<meta functions FSBText (widget)>


<title>FSB, FSBText Widgets</title>

</head>

<body>
<div id="MoeHeader"></div>
<noscript>
	<span class="warning">Warning: JavaScript is disabled. This page will not display correctly.</span>
	<h1 class="title">MOE Documentation</h1>
	<hr noshade="noshade" />
	<style>.LaTeX {color: #C08080;}</style>
</noscript>

<h2>Description</h2>

<p><tt>FSB</tt> is a&nbsp;file selection box containing a&nbsp;list of files
and subdirectories of the currently searched directory.
Note: The labels and bubble help use the term "folder" to refer to directories.

<p>The top line of the box is used to select or to type in the&nbsp;pathname of
the&nbsp;browsed directory.

The bottom line is used to type in the&nbsp;<i>value</i> of the&nbsp;FSB, i.e.
the&nbsp;filenames that are reported to the caller by <tt>WindowWait</tt> or
<tt>WindowGetData</tt>.

Additional functionality is available via the filter menu on the bottom
right and the popup menu that opens on right-button click or after
pressing&nbsp;<tt>Alt</tt>.

<p>By default, <tt>FSB</tt> is set to trigger when a&nbsp;user double-clicks
on a&nbsp;filename in the file list, or when the user activates the text
field by typing a&nbsp;filename and pressing <tt>Return</tt>.

<p><tt>FSBText</tt>
provides a&nbsp;file selection box text field.  File name completion
is activated with the&nbsp;<tt>Tab</tt> key. The directory in which the
file name completion searches is specified with the&nbsp;<tt>directory</tt>
attribute.  If no directory is specified then the current directory
is used.

<h2>Attributes</h2>

<tt>FSB</tt> and <tt>FSBText</tt> inherit
all <a class="svl" href="wt_core.htm">core</a>
attributes and define the following attributes:</p>

<p><tt>FSBText</tt> further defines:

<p>
<table class="titlebar" width="100%" border="1" cellpadding="3">
  <tr>
    <th valign="baseline" width="15%">Attribute</td>
    <th valign="baseline" width="50%">Description</td>
    <th valign="baseline" width="20%">Values</td>
    <th valign="baseline" width="15%">Default</td>
  </tr>
  <tr>
    <td valign="baseline"><tt>allowBlank</tt></td>
    <td valign="baseline">If true then an empty file name will be allowed
    <td valign="baseline"><tt>0/1</tt></td>
    <td valign="baseline"><tt>1</tt></td>
  </tr>
  <tr>
    <td valign="baseline"><tt>directory</tt></td>
    <td valign="baseline">Directory which the text field will use for file
	name completion</td>
    <td valign="baseline">token</a></td>
    <td valign="baseline"><tt>[]</tt></td>
  </tr>
  <tr>
    <td valign="baseline"><tt>len</tt></td>
    <td valign="baseline">Length of the text field</td>
    <td valign="baseline">Maximum of 255</td>
    <td valign="baseline"><tt>40</tt></td>
  </tr>
  <tr>
    <td valign="baseline"><tt>mode</tt></td>
    <td valign="baseline">File validation mode</td>
    <td valign="baseline"><a href="wt_const.htm">
	<a class="svl" href="wt_const.htm">WINDOW_FSB_MODES</a></td>
    <td valign="baseline"><tt>'none'</tt></td>
  </tr>
  <tr>
    <td valign="baseline"><tt>shortcut</tt></td>
    <td valign="baseline">List of tokens to appear as a pulldown list located
        in the rightmost position of the text field</td>
    <td valign="baseline"><tt>vector of tokens</tt></td>
    <td valign="baseline"><tt>[]</tt></td>
  </tr>
  <tr>
    <td valign="baseline"><tt>shortcutTitle</tt></td>
    <td valign="baseline">Title to appear on the pulldown list.
        Will not be displayed if <tt>shortcut</tt> is empty.
    <td valign="baseline"><tt>token</tt></td>
    <td valign="baseline"><tt>''</tt></td>
  </tr>
</table>

<p><tt>FSB</tt> further defines:

<p>
<table class="titlebar" width="100%" border="1" cellpadding="3">
  <tr>
    <th valign="baseline" width="15%">Attribute</td>
    <th valign="baseline" width="50%">Description</td>
    <th valign="baseline" width="20%">Values</td>
    <th valign="baseline" width="15%">Default</td>
  </tr>
  <tr>
    <td valign="baseline"><tt>len</tt></td>
    <td valign="baseline">Number of rows displayed in the file list
    <td valign="baseline">1 to 127</td>
    <td valign="baseline"><tt>15</tt></td>
  </tr>
  <tr>
    <td valign="baseline"><tt>mode</tt></td>
    <td valign="baseline">File validation mode</td>
    <td valign="baseline">
	<a class="svl" href="wt_const.htm">WINDOW_FSB_MODES</a></td>
    <td valign="baseline"><tt>'none'</tt></td>
  </tr>
  <tr>
    <td valign="baseline"><tt>width</tt></td>
    <td valign="baseline">Width of the widget on creation,
	in units of "characters", approximately the width of
	the letter&nbsp;"W".
    </td>
    <td valign="baseline">0 to 127</td>
    <!-- ms: note: 2012 default is width=39, but I leave it unspecified
    !! because no code should depend on it: the default may change without
    !! notice or could depend on other factors (OS, environment, contents) -->
    <td valign="baseline">unspecified</td>
  </tr>
  <tr>
    <td valign="baseline"><tt>filter</tt></td>
    <td valign="baseline">List of patterns used as the current filter.
	The FSB will show only filenames that match one of the patterns.
	Empty list is ignored.  A&nbsp;single empty token
	is interpeted as&nbsp;<tt>'*'</tt>.
    </td>
    <td valign="baseline"><tt>vector of tokens</tt></td>
    <td valign="baseline"><tt>'*'</tt></td>
  </tr>
  <tr>
    <td valign="baseline"><tt>filterList</tt></td>
    <td valign="baseline">The titles and values of filters in the filter menu.
	Each item is a token that stores an optional title followed by
	a comma-separated list of patterns.  The title is separated from the
	list of patterns by the TAB character (i.e.&nbsp;<tt>'\t'</tt>).
	If the first item is an empty token, it is replaced by
	<tt>'All&nbsp;Files\t*'</tt>
	</td>
    <td valign="baseline"><tt>vector of tokens</tt></td>
    <td valign="baseline"><tt>none</tt></td>
  </tr>
  <tr>
    <td valign="baseline"><tt>filterIndex</tt></td>
    <td valign="baseline">Determines which of the titled filters in
	by the filter menu (and set by <tt>filterList</tt>) is
	the current filter.  Value 0 indicates that the current filter
	is not one of the titled filters and its value is the contents
	of the filter menu textfield (typically typed-in by the user).
    <td valign="baseline">
	<tt>0,1,2...</tt>
    <td valign="baseline"><tt>0</tt></td>
  </tr>
<!-- 2012: for now, type, multiSelect remains undocumented
-->
  <tr>
    <td valign="baseline"><tt>type</tt></td>
    <td valign="baseline">Determines the form the FSB value and events
	that cause FSB to trigger.
	(See <i>Trigger</i> and <i>Data Value</i> below).
    <td valign="baseline">
	<tt>'char', 'modint'</tt>
    <td valign="baseline"><tt>'char'</tt></td>
  </tr>
  <tr>
    <td valign="baseline"><tt>multiSelect</tt></td>
    <td valign="baseline">List selection policy.
	<p>
	Note: multi-select can be used only when <tt>type</tt> is set
	to&nbsp;<tt>'modint'</tt>.
	</p>
    <td valign="baseline">
	<tt>0</tt> (Single select)<br>
	<tt>1</tt> (Multi-select style 1)<br>
	<tt>2</tt> (Multi-select style 2)
    <td valign="baseline"><tt>0</tt></td>
  </tr>
  <tr>
    <td valign="baseline"><tt>dirMode</tt></td>
    <td valign="baseline">Determines whether or not directories (folders)
	will can be specified as FSB return values.
    <td valign="baseline">
	<tt>0</tt> (Files only)<br>
	<tt>1</tt> (Files and directories)<br>
	<tt>2</tt> (Directories only)
    <td valign="baseline"><tt>0</tt></td>
  </tr>
<!-- obsolete
  <tr>
    <td valign="baseline"><tt>recentDirs</tt></td>
    <td valign="baseline">List of recent directories to be loaded into
    the recent directories popup, provided as tokens.
    The new directories will be added to the current list.
    Duplicate entries will be ignored.</td>
    <td valign="baseline"><tt>'dir1;dir2;dir3...'</tt></td>
    <td valign="baseline"><tt>[]</tt></td>
  </tr>
-->
</table>

<h4>Trigger</h4>

<p>
If the FSB <tt>type</tt> is <tt>'char'</tt>,
the widget will trigger when the user double-clicks
on a&nbsp;filename or types a&nbsp;filename in the
bottom textfield and presses <i>Return</i>.
</p>

<p>
If the FSB <tt>type</tt> is <tt>'modint'</tt>,
the widget will report a double-click trigger for the
above events (with the <tt>WMOD_DBL</tt> bit set in the
third element of the return value).

Additionally, the FSB will report a&nbsp;single-click trigger
with each change in the return value, i.e. a change
in the browsed directory, the selection or the typed-in value.
</p>

<h4>Data Value</h4>

<p>
If the FSB <tt>type</tt> is <tt>'char'</tt>,
the FSB value is the absolute pathname of the selected
or typed-in file.  If there is no file is selected or typed-in,
the value is the pathname of the browsed directory, followed by a&nbsp;slash.
</p>

<p>
If the FSB <tt>type</tt> is <tt>'modint'</tt>,
the FSB value is a triplet of values:
<ul>
<li>browsed directory
</li>
<li>selected or typed-in filename or filenames
</li>
<li>position of the last selected item (if any),
    together with modifier bits
</li>
</ul>

</p>


<h2>See Also</h2>
<p>
<a href="wt_core.htm">Core Attributes</a><br />
<a href="wt_text.htm">Text Widget</a><br />
<a href="../wt_intro.htm">SVL Window Toolkit</a><br />
<a href="introwt.htm">Window Toolkit Functions</a><br />
<a href="../../../tutorials/wintour.htm">Window Toolkit Tutorial</a>


<noscript>
	<hr noshade="noshade" />
	<font size="2"> Copyright &copy; 1997&ndash;2015
	<a href="http://www.chemcomp.com">Chemical Computing Group Inc.</a> </font>
</noscript>
<div id="MoeFooter"></div>
</body>
</html>


