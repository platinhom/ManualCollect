<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!--
!!	install.htm
!!-->

<!--
!!    MOE Online Manuals
!!    COPYRIGHT (C) 1997-2015
!!        CHEMICAL COMPUTING GROUP INC.  ALL RIGHTS RESERVED.
!!-->

<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<script type="text/javascript" 
src="../include/jsincludes_moe.js"></script>

<link rel="stylesheet" type="text/css"
href="../include/manstyle.css" />


<style type="text/css">
table {
    margin: 0 auto;
    border: solid thin grey;
}
table td {
    border: solid thin grey;
    padding: 2px 1em;
}
table th { background-color: #cccccc; }
table.noborder, table.noborder td { border: none; }
</style>

<title>Installing and Running MOE</title>

<meta SVL:command_line_switch -boot, -exec, -ffdefault, -forcefield, -gfx>
<meta SVL:command_line_switch -gfxvisual, -lic, -licwait, -nolicwait>
<meta SVL:command_line_switch -mpu, -mpulog, -load, -opengl, -root, -run>
<meta SVL:command_line_switch -script, -setenv, -std, -stereo, -nostereo>
<meta SVL:command_line_switch -test, -tmp, -tty, -notty, -x11>
<meta SVL:command_line_switch -fsaa, -nofsaa, -fsaa_mode>
<meta SVL:command_line_switch -noaccum, -accum, -accumfp -noextensions>
<meta SVL:command_line_switch -openfiles -desktop -downloads -home -send2all>
<meta SVL:command_line_switch -32, -64, -dbg>

<meta panel License Info />
</head>

<body>
<div id="MoeHeader"></div>
<noscript>
	<span class="warning">Warning: JavaScript is disabled. This page will not display correctly.</span>
	<h1 class="title">MOE Documentation</h1>
	<hr noshade="noshade" />
	<style>.LaTeX {color: #C08080;}</style>
</noscript>

<h6 class="h-two">Contents</h6>
<div id="toc-list"><script>var gman_OrderedListTOC=true; </script></div>

<!-- =========================== OVERVIEW =========================== -->


<a name="Overview"></a>
<h2 class="legal">Overview</h2>

<p>The following materials are required for the installation of MOE:</p>

<ul>
<li> The MOE Installer or MOE archive.
<li> At least 5 GB of free space
<li> A software key issued by CCG
</ul>

<p>Installing MOE is relatively simple and consists of two required steps:</p>
<ol>
<li> installing the software;
<li> installing the software key;
</ol>

<p>If you do not have a software key, first
install the software and related licensing utilities, then contact
Chemical Computing Group to obtain a key.</p>

<p>Detailed information about license installation can be found
in the <a href="../release_notes/license_install.htm">License Installation Guide</a>.
</p>

<p>
A single copy of MOE can be shared by several people (even if they are
using different computer architectures) if it is installed on a network
drive.  To prevent against accidental overwriting of distribution files,
we recommend that the directory where MOE has been installed be made
read-only and that all customized or updated SVL programs subsequently released
by CCG be installed in the <tt>$MOE/patch</tt>
and <tt>$MOE/custom</tt> directories dedicated
for that purpose.  The <tt>$MOE/patch</tt> directory is
intended for updates to the standard MOE distribution files.
The <tt>$MOE/custom</tt> directory is intended for
customizations that are to be made available to all users.
Within the <tt>custom</tt> directory there is a subdirectory
called <tt>run</tt> in which runnable custom files visible to
all users can be stored.  More details can be found in the
chapter on
<a href="../appendix/moeconfig.htm">Configuring&nbsp;and&nbsp;Customizing&nbsp;MOE</a>.
</p>

<p>
Notes:

<ul>

<li>On Unix systems, root permission is not required for installation.

<p>
<li>MOE will not copy files into any directory other than the installation
directory (i.e. nothing to the Windows directories). However, an RC
file, or user resource configuration file, will be written in the home
directory of each MOE user after first use.  The user file is
<tt>$HOME/moe-rc</tt> on Windows systems and <tt>$HOME/.moe-rc</tt> on
Unix systems. 

<p>
<li>The installation directory can be changed at any time; just rename or copy
the directory.

<p>
<li>The installation directory can be copied or moved to other machines; the
archive/installer is no longer required.

<p>
<li>In most cases, best performance is achieved when MOE is installed on
the computer on which it will run but this unfortunately complicates the process
of upgrades, patches and enhancements.

</ul>


<h3 class="legal">MOE files and directories hierarchy</h3>

<p>The following directories and files are used by MOE:
<table class="noborder">
  <tr>
    <td valign="baseline"><tt>$MOE/bin/*</tt></td>
    <td valign="baseline">MOE executables</td>
  <tr>
    <td valign="baseline"><tt>$MOE/html/*</tt></td>
    <td valign="baseline">Documentation</td>
  <tr>
    <td valign="baseline"><tt>$MOE/bin-*/*</tt></td>
    <td valign="baseline">Architecture-specific executables</td>
  </tr><tr>
    <td valign="baseline"><tt>$MOE/lib/*</tt></td>
    <td valign="baseline">Standard MOE data files</td>
  </tr><tr>
    <td valign="baseline"><tt>$MOE/lib/moe-menus</tt></td>
    <td valign="baseline">Start-up menu specification file</td>
  </tr><tr>
    <td valign="baseline"><tt>$MOE/lib/menu-*</tt></td>
    <td valign="baseline">Start-up menu include files</td>
  </tr><tr>
    <td valign="baseline"><tt>$MOE/lib/moe-rc</tt></td>
    <td valign="baseline">Start-up configuration file</td>
  </tr><tr>
    <td valign="baseline"><tt>$MOE/lib/svl/*.svl</tt></td>
    <td valign="baseline">Core application SVL program files</td>
  </tr><tr>
    <td valign="baseline"><tt>$MOE/sample/*.svl</tt></td>
    <td valign="baseline">Sample application SVL program files</td>
  </tr><tr>
    <td valign="baseline"><tt>$MOE/sample/mol/*</tt></td>
    <td valign="baseline">Sample molecule and database files</td>
  </tr><tr>
    <td valign="baseline"></td>
    <td valign="baseline"></td>
  </tr><tr>
    <td valign="baseline"><tt>$HOME/.moe-menus</tt></td>
    <td valign="baseline">User modifications to MOE menus (Unix)</td>
  </tr><tr>
    <td valign="baseline"><tt>$HOME/moe-menus</tt></td>
    <td valign="baseline">User modifications to MOE menus (Windows)</td>
  </tr><tr>
    <td valign="baseline"><tt>$HOME/.moe-rc</tt></td>
    <td valign="baseline">User configuration file (Unix)</td>
  </tr><tr>
    <td valign="baseline"><tt>$HOME/moe-rc</tt></td>
    <td valign="baseline">User configuration file (Windows)</td>
  </tr><tr>
    <td valign="baseline"><tt>$HOME/.moe-themes</tt></td>
    <td valign="baseline">User visualization settings (Unix)</td>
  </tr><tr>
    <td valign="baseline"><tt>$HOME/moe-themes</tt></td>
    <td valign="baseline">User visualization settings (Windows)</td>
  </tr><tr>
    <td valign="baseline"><tt>$HOME/moefiles</tt></td>
    <td valign="baseline">Temporary and permanent MOE files</td>
  </tr>
</table>

<p>Additionally, the following extensions are used by MOE:
<table class="noborder">
  <tr>
    <td valign="baseline"><tt>*.svl</tt></td>
    <td valign="baseline">SVL program files</td>
  </tr><tr>
    <td valign="baseline"><tt>*.moe</tt></td>
    <td valign="baseline">MOE molecule files</td>
  </tr><tr>
    <td valign="baseline"><tt>*.mdb</tt></td>
    <td valign="baseline">MOE molecular database files</td>
  </tr><tr>
    <td valign="baseline"><tt>*.ph4</tt></td>
    <td valign="baseline">Pharmacophore files</td>
  </tr><tr>
    <td valign="baseline"><tt>*.ftp</tt></td>
    <td valign="baseline">Fingerprint models</td>
  </tr><tr>
    <td valign="baseline"><tt>*.mom</tt></td>
    <td valign="baseline">Model Composer files</td>
  </tr><tr>
    <td valign="baseline"><tt>*.fit</tt></td>
    <td valign="baseline">QuaSAR Model files</td>
  </tr><tr>
    <td valign="baseline"><tt>*.bct</tt></td>
    <td valign="baseline">Binary Classification Tree</td>
  </tr>
</table>



<a name="Architecture"></a>
<h2 class="legal">Architectures</h2>

<p>MOE is a cross-platform application that has been designed to operate on
desktop equipment without limiting either the size of the molecule under study
or the kind of calculation that can be performed.  Special purpose graphics
workstations or terminals are not required to run MOE effectively.  The
following table shows the currently supported platforms:

<p>
<table>
<tr>
<th>Architecture</th>
<th>Operating System</th>
<th>Graphics</th>
<th>32-bit</th>
<th>64-bit</th>
</tr>

<tr>
<td>Intel
<td>Windows XP/Vista/7/8
<td>OpenGL
<td><tt>i4w9</tt>
<td><tt>win64</tt>
</tr>

<tr>
<td>Intel
<td>Linux
<td>OpenGL, X11
<td><tt>lnux</tt>
<td><tt>lnx64</tt>
</tr>

<tr>
<td>Intel
<td>OS X (10.6 and higher)
<td>OpenGL, X11
<td><tt>mx86</tt>
<td><tt>mac64</tt>
</tr>

</table>


<a name="InstallWindows"></a>
<h2 class="legal">Windows</h2>

This procedure applies to all the members of the Microsoft Windows
family of operating systems: Windows XP, Windows Vista, Windows 7 and Windows 8.

<a name="CopyWindows"></a>
<h3 class="legal">Step 1: Install MOE on Windows</h3>

<p>To extract the software from the MOE archive or installer, follow the
instructions given on the download page to begin the installation.
The name of the directory into which MOE will be installed
can be specified in the installer.  The default installation
directory name is <tt>moe2014</tt>.
</p>

<p>
<b>Note!</b> The Windows installation requires that both the installer and associated
data file be downloaded before executing the installer.
</p>


<a name="KeyWindows"></a>
<h3 class="legal">Step 2: Install the Software Key on Windows</h3>
<ul>
  <li><a href="#KeyEvalWindows">Evaluation License</a>
  <li><a href="#KeyNodeWindows">Node-Locked License</a>
  <li><a href="#KeyFloatWindows">Network Floating License</a>
	<ul>
	    <li><a href="#InstallLicenseWindows">Installing the License</a>
	  <li><a href="#StartlmgrdWindows">Starting the License Manager</a>
	  <li><a href="#AutolmgrdWindows">Launching the License Manager Automatically</a>
	  <li><a href="#StoplmgrdWindows">Stopping the License Manager</a>
  </ul>
</ul>

<p>
The MOE license protection mechanism makes use of a license file
containing expiration dates, version restrictions, and possibly various
other license restrictions.  There are two steps required to install the
software key:

<ol>
<li>
The <tt>license.dat</tt> file in each installed MOE root directory must be
updated with the contents that you have been given by CCG (either by hard
copy or e-mail). You can use any text editor.

<p>
<li>
The FLEXnet license manager <tt>lmgrd</tt> must be configured and run.  This
step is not required for evaluation licenses and node-locked licenses.  It
is only required for network floating licenses.

</ol>

<p>To inspect the license information, run the SVL command <tt>LicenseInfo[]</tt>,
for example through <tt>moebatch</tt>:
</p>

<p>
<pre>
    c:\&gt; <b>c:\moe\bin\moebatch -exec "LicenseInfo[];"</b>
</pre>

<p>
After a few seconds, you should see something like:

<pre>
     Feature: moe
     Version: 2014.09
     Expires: 31-dec-2014
         Key: 00D7 4D08 4CE1 FED7 30DD B41D 2099 6E8F...
      Server: iris.chemcomp.com
      Tokens: 3
</pre>

<p>
The <tt>Server</tt> field can be used to verify that you are connecting
to the correct server. See the
<a href="../moe/fcnref/licinfo.htm">LicenseInfo</a> function reference for
details about the software key information.

<a name="KeyEvalWindows"></a>
<h4 class="legal">Evaluation License on Windows</h4>

<p>
Edit the <tt>license.dat</tt> file in the MOE root directory and replace
its content with the license data supplied by CCG.  Be careful not to add
any extra spaces and make sure that you enter the data exactly as given.
An evaluation license file contains text similar to:

<pre>
    FEATURE moe chemcompd 2014.09 31-dec-2014 uncounted HOSTID=DEMO \
            SIGN="00D7 4D08 4CE1 FED7 30DD B41D 2099 6E8F 1C0F CD92 2300 \
            05B3 446A E546 AB52 8FF5 3121 C596 680F F7EB 846E"
</pre>

<p>
The items in the license file specify the MOE software (<tt>moe</tt>),
the <tt>chemcompd</tt> class, the highest version of the software enabled
by the software key (2014.09), the expiration date of the key (December 31,
2014), the maximum number of copies that can be run simultaneously (in this
case, no limit), an authentication code 
(<tt>SIGN="00D7 4D08 4CE1 FED7..."</tt>) and a host ID
indicating that this is an evaluation license (<tt>HOSTID=DEMO</tt>).

<p>
No further configuration is required for evaluation licenses.

<a name="KeyNodeWindows"></a>
<h4 class="legal">Node-Locked License on Windows</h4>

<p>
To obtain a node-locked license (a license restricting the use of MOE to a
particular computer) from Chemical Computing Group, you must first install
the MOE software and then determine the FLEXnet host ID of the
computer on which you intend to run MOE:

<p>
<ol>
<li> Execute program <tt>lmtools.exe</tt> located in directory
<tt>c:\moe\bin-win64</tt> (64-bit) or <tt>c:\moe\bin-i4w9</tt> (32-bit).
<li> Press the <b>System Settings</b> tab.
<li> Press the <b>Save HOSTID Info to a File</b> button to record the
license server information into a file. Forward the file to CCG.
</ol>

<p>
With this information, CCG can issue a node-locked license.  Once issued,
you can install the license as follows.

<p>
Edit the <tt>license.dat</tt> file in the MOE root directory and replace
its content with the license data supplied by CCG.  Be careful not to add
any extra spaces and make sure that you enter the data exactly as given.
A node-locked license file contains text similar to:

<pre>
    FEATURE moe chemcompd 2014.09 31-dec-2014 uncounted HOSTID=690c40d0 \
            SIGN="00D7 4D08 4CE1 FED7 30DD B41D 2099 6E8F 1C0F CD92 2300 \
            05B3 446A E546 AB52 8FF5 3121 C596 680F F7EB 846E"
</pre>

<p>
The items in the license file specify the MOE software (<tt>moe</tt>),
the <tt>chemcompd</tt> class, the highest version of the software enabled
by the software key (2014.09), the expiration date of the key (December 31,
2014), the maximum number of copies that can be run simultaneously (in this
case, no limit), an authentication code (<tt>SIGN="00D7 4D08 4CE1..."</tt>)
and a host ID indicating that MOE can only run on the computer with
FLEXnet host ID 690c40d0
(as returned by <tt>lmtools.exe</tt>).

<p>
<b>Note:</b> The MOE software itself
need not be installed on this machine.

<p>
No further configuration is required for node-locked licenses.

<a name="KeyFloatWindows"></a>
<h4 class="legal">Network Floating License on Windows</h4>

<p>
To obtain a network floating license from Chemical Computing Group, you
must first install the MOE software.  Next, you must
choose a License Server computer.  The License Server should be on a
computer network accessible by the computers on which you want to run
MOE.  The License Server computer will run the <tt>lmgrd</tt> license
dispenser program.  It is a good idea to install the MOE software on the
License Server itself.
<p>
Once a License Server computer has been chosen,
log on to it and use the following instructions to determine its
hostname and FLEXnet host ID.

<p>
<ol>
<li> Execute program <tt>lmtools.exe</tt> located in directory
<tt>c:\moe\bin-win64</tt> (64-bit) or <tt>c:\moe\bin-i4w9</tt> (32-bit).
<li> Press the <b>System Settings</b> tab.
<li> Press the <b>Save HOSTID Info to a File</b> button to record the
license server information into a file. Forward the file to CCG.
</ol>

<p>
With this information, CCG can issue a network floating license.  Once issued,
you can install the license as follows.

<a name="InstallLicenseWindows"></a>
<h5 class="legal">Installing the License on Windows</h5>

<p><span class="note">Note: </span>Additional details can be found in the
<a href="../release_notes/license_install.htm">MOE License Installation Guide</a></p>

<p>
Edit the <tt>license.dat</tt> file in the MOE root directory and replace
its content with the license data supplied by CCG.  Be careful not to add
any extra spaces and make sure that you enter the data exactly as given.
The resulting <tt>license.dat</tt> file should look similar to:

<pre>
    SERVER hostname 00b0d0240936 7788
    DAEMON chemcompd $MOE/bin/chemcompd
    FEATURE moe chemcompd 2014.09 31-dec-2014 4 \
            SIGN="00D7 4D08 4CE1 FED7 30DD B41D 2099 6E8F 1C0F CD92 2300 \
            05B3 446A E546 AB52 8FF5 3121 C596 680F F7EB 846E"
</pre>

<p>
The <tt>SERVER</tt> line should contain the host name and FLEXnet host ID that
you supplied to CCG; if not, then the license will not work.  You must now
edit the <tt>DAEMON</tt> line to replace <tt>$MOE</tt> with the
complete path to the MOE root directory where MOE is installed.  Assuming
that the directory is <tt>c:\moe</tt>, the final license file
should look like:

<p>
<pre>
    SERVER hostname 00b0d0240936 7788
    DAEMON chemcompd c:\moe\bin-win64\chemcompd
    FEATURE moe chemcompd 2014.09 31-dec-2014 4 \
            SIGN="00D7 4D08 4CE1 FED7 30DD B41D 2099 6E8F 1C0F CD92 2300 \
            05B3 446A E546 AB52 8FF5 3121 C596 680F F7EB 846E"
</pre>

<p>
If the server is a 32-bit Windows operating system, replace
<tt>bin-win64</tt> with <tt>bin-i4w9</tt> in the path on the <tt>DAEMON</tt> line.

<p>
The <tt>FEATURE</tt> items in the license file specify the MOE software
(<tt>moe</tt>), the <tt>chemcompd</tt> class, the highest version of the
software enabled by the software key (2014.09), the expiration date of the key
(December 31, 2014), the number of tokens available (in this case, 4) and an
authentication code (<tt>SIGN="00D7 4D08 4CE1 FED7...</tt>).

<p>
You are now ready to run the FLEXnet License Manager.

<a name="StartlmgrdWindows"></a>
<h5 class="legal">Starting the License Manager on Windows</h5>

<p>
Before running MOE, you must run the <tt>lmgrd</tt> license dispenser on the
chosen License Server computer.  If you are already running the FLEXnet license
manager for other software products, you can add the contents of the MOE
<tt>license.dat</tt> license file to your existing master license file (add
only the <tt>DAEMON</tt> and <tt>FEATURE</tt> lines). For the change to take
effect, you will need to stop and restart the license manager program
<tt>lmgrd</tt>.  If you are not running FLEXnet, log on to the License Server
(no need to be Administrator) and type:

<p>
Assuming the MOE root directory to be
<tt>c:\moe</tt>

<pre>
    c:\&gt; <b>c:\moe\bin-win64\lmgrd -c c:\moe\license.dat -l c:\lmgrd.log</b>
</pre>

Or on an older 32-bit Windows operating system

<pre>
    c:\&gt; <b>c:\moe\bin-i4w9\lmgrd -c c:\moe\license.dat -l c:\lmgrd.log</b>
</pre>

<p>
<tt>lmgrd.log</tt> is a log file written by the license manager which contains
information on software usage and possible problems.

<a name="AutolmgrdWindows"></a>
<h5 class="legal">Launching the License Manager Automatically on Windows</h5>

<p>It is a good idea to have the above <tt>lmgrd</tt> command issued in the
boot sequence of the License Server computer.

<p>
On Windows XP,
Windows Vista, Windows 7, and Windows 8
the license dispenser can be registered as a "Windows Service" that will 
automatically start. It is recommended that the LMTools application be used 
to manage the Service properties:

<ol>
<li>Execute program <tt>lmtools.exe</tt> located in directory
<tt>c:\moe\bin-win64</tt> or <tt>c:\moe\bin-i4w9</tt>.
<li>Press the <b>Config Services</b> tab.
<li>Enter the <b>Path to the lmgrd.exe file</b>, <b>Path to the license
file</b> and the <b>Path to the debug log file</b> information.
<li>Check <b>Use Service</b> then check <b>Start Server at Power Up</b>
<li>Press <b>Save Service</b> (noting the name of the service).
<li>Press the <b>Start/Stop/Reread</b> tab.
<li>Select the name of the <b>Installed Service</b> just set.
<li>Press <b>Start Server</b>.
</ol>

<p>
The Server can be halted when it is no longer needed by going to the
<b>Start/Stop/Reread</b> tab and pressing the <b>Stop Server</b> button.


<a name="StoplmgrdWindows"></a>
<h5 class="legal">Stopping the License Manager on Windows</h5>

<p>
The <tt>lmgrd</tt> program can be stopped by following these steps:

<p>
<ol>
<li>Execute program <tt>lmtools.exe</tt> located in directory
<tt>c:\moe\bin-win64</tt> or <tt>c:\moe\bin-i4w9</tt>.
<li>Press the <b>Start/Stop/Reread</b> tab.
<li>Select the name of the <b>Installed Service</b>.
<li>Press <b>Stop Server</b>.
</ol>

<p>
MOE uses version 11.11.1.2 of <tt>lmgrd</tt>.  You do not need to be
<tt>Administrator</tt> to run <tt>lmgrd</tt>.


<a name="InstallMacOSX"></a>
<h2 class="legal">Mac OS X</h2>

<p>
This procedure applies to all the members of the Mac&nbsp;OS&nbsp;X
family of computers running on Intel processors
(PowerPC is not supported, see the <a href="#Architecture">Architectures</a>
section).
</p>

<a name="CopyMacOSX"></a>
<h3 class="legal">Step 1: Install MOE on OS X</h3>

<p>
<font color="#ff0000"><b>Important</b></font>&nbsp;&nbsp;
If a <tt>moe</tt> directory already exists on your system, it is likely that
a previous version is currently installed and that you are upgrading to a new
version.
<b>Do not delete the old version until the new one has been installed
successfully. Rename the old directory before doing the install and remove it
after a successful installation.</b>
For example, if the currently installed MOE is version 2012.10, then rename the
<tt>moe</tt> directory to <tt>moe2012_10</tt>.

<p>
To extract the software from the MOE archive or installer,
follow the instructions given on the download page to begin
the installation. The name of the directory into which MOE will
be installed can be specified in the installer. The default
installation directory name is <tt>moe2014</tt>.
</p>

<p>
<b>Note:</b> The installation directory can be changed at any time; just rename
or copy the directory.

<a name="KeyMacOSX"></a>
<h3 class="legal">Step 2: Install the Software Key on OS X</h3>

    <ul>
    <li><a href="#KeyEvalMacOSX">Evaluation License</a>
    <li><a href="#KeyNodeMacOSX">Node-Locked License</a>
    <li><a href="#KeyFloatMacOSX">Network Floating License</a>
	<ul>
	    <li><a href="#InstallLicenseMac">Installing the License</a>
	<li><a href="#StartlmgrdMacOSX">Starting the License Manager</a>
	<li><a href="#AutolmgrdMacOSX">Launching the License Manager Automatically</a>
	<li><a href="#StoplmgrdMacOSX">Stopping the License Manager</a>
	</ul>
  </ul>


<p>
The MOE license protection mechanism makes use of a license file
containing expiration dates, version restrictions, and possibly various
other license restrictions.  There are two steps required to install the
software key:

<ol>
<li>
The <tt>license.dat</tt> file in each installed MOE root directory must be
updated with the contents that you have been given by CCG (either by hard
copy or e-mail). You can use any text editor.

<p>
<li>
The FLEXnet license manager <tt>lmgrd</tt> must be configured and run.  This
step is not required for evaluation licenses and node-locked licenses.  It
is only required for network floating licenses.

</ol>

<p>To inspect the license information, run the SVL command <tt>LicenseInfo[]</tt>,
for example through <tt>moebatch</tt>:
</p>

<pre>
    user% <b>/Applications/moe/bin/moebatch -exec "LicenseInfo[];"</b>
</pre>

<p>
After a few seconds, you should see something like:

<pre>
     Feature: moe
     Version: 2014.09
     Expires: 31-dec-2014
         Key: 00D7 4D08 4CE1 FED7 30DD B41D 2099 6E8F...
      Server: iris.chemcomp.com
      Tokens: 3
</pre>

<p>
The <tt>Server</tt> field can be used to verify that you are connecting
to the correct server. See the
<a href="../moe/fcnref/licinfo.htm">LicenseInfo</a> function reference for
details about the software key information.

<a name="KeyEvalMacOSX"></a>
<h4 class="legal">Evaluation License on OS X</h4>

<p>
Edit the <tt>license.dat</tt> file in the MOE root directory and replace
its content with the license data supplied by CCG.  Be careful not to add
any extra spaces and make sure that you enter the data exactly as given.
An evaluation license file contains text similar to:

<pre>
    FEATURE moe chemcompd 2014.09 31-dec-2014 uncounted HOSTID=DEMO \
            SIGN="00D7 4D08 4CE1 FED7 30DD B41D 2099 6E8F 1C0F CD92 2300 \
            05B3 446A E546 AB52 8FF5 3121 C596 680F F7EB 846E"
</pre>

<p>
The items in the license file specify the MOE software (<tt>moe</tt>),
the <tt>chemcompd</tt> class, the highest version of the software enabled
by the software key (2014.09), the expiration date of the key (December 31,
2014), the maximum number of copies that can be run simultaneously (in this
case, no limit), an authentication code
(<tt>SIGN="00D7 4D08 4CE1 FED7..."</tt>) and a host ID
indicating that this is an evaluation license (<tt>HOSTID=DEMO</tt>).

<p>
No further configuration is required for evaluation licenses.

<a name="KeyNodeMacOSX"></a>
<h4 class="legal">Node-Locked License on OS X</h4>

<p>
To obtain a node-locked license (a license restricting the use of MOE to a
particular computer) from Chemical Computing Group, you must first install
the MOE software and then determine the FLEXnet host ID of the
computer on which you intend to run MOE by typing the following line in a
terminal window:

<pre>
    user% <b>/Applications/moe/bin/lmutil lmhostid</b>
    lmutil - Copyright (c) 1989-2014 by Flexera Software, Inc. All rights reserved.
    The FLEXnet host ID of this machine is "00b0d0240936"
</pre>

<p>
With this information, CCG can issue a node-locked license.  Once issued,
you can install the license as follows.

<p>
Edit the <tt>license.dat</tt> file in the MOE root directory and replace
its content with the license data supplied by CCG.  Be careful not to add
any extra spaces and make sure that you enter the data exactly as given.
A node-locked license file contains text similar to:

<pre>
    FEATURE moe chemcompd 2014.09 31-dec-2014 uncounted HOSTID=690c40d0 \
            SIGN="00D7 4D08 4CE1 FED7 30DD B41D 2099 6E8F 1C0F CD92 2300 \
            05B3 446A E546 AB52 8FF5 3121 C596 680F F7EB 846E"
</pre>

<p>
The items in the license file specify the MOE software (<tt>moe</tt>),
the <tt>chemcompd</tt> class, the highest version of the software enabled
by the software key (2014.09), the expiration date of the key (December 31,
2014), the maximum number of copies that can be run simultaneously (in this
case, no limit), an authentication code
(<tt>SIGN="00D7 4D08 4CE1 FED7..."</tt>) and a host ID
indicating that MOE can only run on the computer with FLEXnet host ID 690c40d0
(as returned by <tt>lmutil</tt>).

<p>
<b>Note:</b> The MOE software itself
need not be installed on this machine.

<p>
No further configuration is required for node-locked licenses.

<a name="KeyFloatMacOSX"></a>
<h4 class="legal">Network Floating License on OS X</h4>

<p>
To obtain a network floating license from Chemical Computing Group, you
must first install the MOE software.  Next, you must
choose a License Server computer.  The License Server should be on a
computer network accessible by the computers on which you want to run
MOE.  The License Server computer will run the <tt>lmgrd</tt> license
dispenser program.  It is a good idea to install the MOE software on the
License Server itself.
<p>
Once a License Server computer has been chosen,
log on to it and use the following instructions to determine its
hostname and FLEXnet host ID.

<ol>
<li> The command <tt>hostname</tt> can be used to find the network name of
a computer:
<pre>
    user% <b>hostname</b>
    mags.chemcomp.com
</pre>
<li> Type the following line to determine the FLEXnet host ID of the server
computer:
<pre>
    user% <b>/Applications/moe/bin/lmutil lmhostid</b>
    lmutil - Copyright (c) 1989-2014 by Flexera Software, Inc. All rights reserved.
    The FLEXnet host ID of this machine is "00b0d0240936"
</pre>
</ol>

<p>
With this information, CCG can issue a network floating license.  Once issued,
you can install the license as follows.

<a name="InstallLicenseMac"></a>
<h5 class="legal">Installing the License on OS X</h5>

<p><span class="note">Note: </span>Additional details can be found in the
<a href="../release_notes/license_install.htm">MOE License Installation Guide</a></p>

<p>
Edit the <tt>license.dat</tt> file in the MOE root directory and replace
its content with the license data supplied by CCG.  Be careful not to add
any extra spaces and make sure that you enter the data exactly as given.
The resulting <tt>license.dat</tt> file should look similar to:

<pre>
    SERVER hostname 00b0d0240936 7788
    DAEMON chemcompd $MOE/bin/chemcompd
    FEATURE moe chemcompd 2014.09 31-dec-2014 4 \
            SIGN="00D7 4D08 4CE1 FED7 30DD B41D 2099 6E8F 1C0F CD92 2300 \
            05B3 446A E546 AB52 8FF5 3121 C596 680F F7EB 846E"
</pre>

<p>
The <tt>SERVER</tt> line should contain the host name and FLEXnet host ID that
you supplied to CCG; if not, then the license will not work.  You must now
edit the <tt>DAEMON</tt> line to replace <tt>$MOE</tt> with the
complete path to the MOE root directory where MOE is installed.  Assuming
that the directory is <tt>/Applications/moe</tt>, the final license file
should look like:

<pre>
    SERVER hostname 00b0d0240936 7788
    DAEMON chemcompd /Applications/moe/bin/chemcompd
    FEATURE moe chemcompd 2014.09 31-dec-2014 4 \
            SIGN="00D7 4D08 4CE1 FED7 30DD B41D 2099 6E8F 1C0F CD92 2300 \
            05B3 446A E546 AB52 8FF5 3121 C596 680F F7EB 846E"
</pre>

<p>
The <tt>FEATURE</tt> items in the license file specify the MOE software
(<tt>moe</tt>), the <tt>chemcompd</tt> class, the highest version of the
software enabled by the software key (2014.09), the expiration date of the key
(December 31, 2014), the number of tokens available (in this case, 4) and an
authentication code (<tt>SIGN="00D7 4D08 4CE1 FED7..."</tt>).

<p>
You are now ready to run the FLEXnet License Manager.

<a name="StartlmgrdMacOSX"></a>
<h5 class="legal">Starting the License Manager on OS X</h5>

<p>
Before running MOE, you must run the <tt>lmgrd</tt> license dispenser on the
chosen License Server computer.  If you are already running the FLEXnet license
manager for other software products, you can add the contents of the MOE
<tt>license.dat</tt> license file to your existing master license file (add
only the <tt>DAEMON</tt> and <tt>FEATURE</tt> lines). For the change to take
effect, you will need to stop and restart the license manager program
<tt>lmgrd</tt>.  If you are not running FLEXnet, log on to the License Server
(no need to be root) and type:

<p>
Assuming the MOE root directory to be
<tt>/Applications/moe</tt>

<pre>
    user% <b>export MOE=/Applications/moe</b>
    user% <b>$MOE/bin/lmgrd -c $MOE/license.dat -l /tmp/lmgrd.log</b>
</pre>

<p>
<tt>lmgrd.log</tt> is a log file written by the license manager which contains
information on software usage and possible problems.

<a name="AutolmgrdMacOSX"></a>
<h5 class="legal">Launching the License Manager Automatically on OS X</h5>

<p>It is a good idea to have the above <tt>lmgrd</tt> command issued in the
boot sequence of the License Server computer.

<p>On Mac, the license server process can be started automatically at
power up by registering a launched startup configuration file, located in:

<pre>
$MOE/bin-mx86/com.chemcomp.flexlm.plist
</pre>

<p>To use the script, the following procedure must be followed:

<ol>
<li>Edit the script file to match your environment. Modify each instance of
the path to MOE (default <tt>/Application/moe</tt>).
<li>As root, copy this script to <tt>/System/Library/LaunchDaemons</tt>, which is the
System-wide daemon provided by Mac OS X.
<li>Test the license server configuration with:
<pre>
    user% <b>launchctl load /System/Library/LaunchDaemons/com.chemcomp.flexlm.plist</b>
</pre>
<li>Verify whether the configuration was properly loaded with:
<pre>
    user% <b>launchctl list</b>
</pre>
<li>You can shutdown the server with:
<pre>
    user% <b>launchctl unload -w /System/Library/LaunchDaemons/com.chemcomp.flexlm.plist</b>
</pre>
<li>The MOE license server will be launched automatically when the computer is
rebooted.
</ol>

<a name="StoplmgrdMacOSX"></a>
<h5 class="legal">Stopping the License Manager on OS X</h5>

<p>
The <tt>lmgrd</tt> program can be stopped with:

<pre>
    user% <b>$MOE/bin/lmutil lmdown -c $MOE/license.dat</b>
</pre>

<p>
MOE uses version 11.11.1.2 of <tt>lmgrd</tt>.  You do not need to be
<tt>root</tt> to run <tt>lmgrd</tt>.






<a name="InstallUnix"></a>
<h2 class="legal">Linux</h2>
<a name="CopyUnix"></a>
<h3 class="legal">Step 1: Install MOE on Linux</h3>

<p>
<font color="#ff0000"><b>Important</b></font>&nbsp;&nbsp;

If a <tt>moe</tt> directory already exists on your system, it is likely that
a previous version is currently installed and that you are upgrading to a new
version.

<b>Do not delete the old version until the new one has been installed
successfully. Rename the old directory before doing the install and remove it
after a successful installation.</b>

For example, if the currently installed MOE is version 2012.10, then rename the
<tt>moe</tt> directory to <tt>moe2012_10</tt>.

<p>
To extract the software from the MOE archive or installer,
follow the instructions given on the download page to begin
the installation. The name of the directory into which MOE will
be installed can be specified in the installer. The default
installation directory name is moe2014.
</p>

<p>
Follow the instructions on the screen to install MOE. You will need write
permission into the installation directory; however, you do not need
<tt>root</tt> privileges on the computer.

<p>
<b>Note:</b> You can later change your mind about the installation
directory location or name: just copy or move the directory.

<a name="KeyUnix"></a>
<h3 class="legal">Step 2: Install the Software Key on Linux</h3>
    <ul>
    <li><a href="#KeyEvalUnix">Evaluation License</a>
    <li><a href="#KeyNodeUnix">Node-Locked License</a>
    <li><a href="#KeyFloatUnix">Network Floating License</a>
	<ul>
	    <li><a href="#InstallLicenseUnix">Installing the License</a>
	<li><a href="#StartlmgrdUnix">Starting the License Manager</a>
	<li><a href="#StoplmgrdUnix">Stopping the License Manager</a>
	<li><a href="#AutolmgrdUnix">Launching the License Manager Automatically</a>
	</ul>
</ul>

<p>
The MOE license protection mechanism makes use of a license file
containing expiration dates, version restrictions, and possibly various
other license restrictions.  There are two steps required to install the
software key:

<ol>
<li>
The <tt>license.dat</tt> file in each installed MOE root directory must be
updated with the contents that you have been given by CCG (either by hard
copy or e-mail). You can use any text editor.

<p>
<li>
The FLEXnet license manager <tt>lmgrd</tt> must be configured and run.  This
step is not required for evaluation licenses and node-locked licenses.  It
is only required for network floating licenses.

</ol>

<p>To inspect the license information, run the SVL command <tt>LicenseInfo[]</tt>,
for example through <tt>moebatch</tt>:
</p>

<pre>
    user% <b>/usr/local/moe/bin/moebatch -exec "LicenseInfo[];"</b>
</pre>

<p>
After a few seconds, you should see something like:

<pre>
     Feature: moe
     Version: 2014.09
     Expires: 31-dec-2014
         Key: 00D7 4D08 4CE1 FED7 30DD B41D 2099 6E8F...
      Server: iris.chemcomp.com
      Tokens: 3
</pre>

<p>
The <tt>Server</tt> field can be used to verify that you are connecting
to the correct server. See the
<a href="../moe/fcnref/licinfo.htm">LicenseInfo</a> function reference for
details about the software key information.

<a name="KeyEvalUnix"></a>
<h4 class="legal">Evaluation License on Linux</h4>

<p>
Edit the <tt>license.dat</tt> file in the MOE root directory and replace
its content with the license data supplied by CCG.  Be careful not to add
any extra spaces and make sure that you enter the data exactly as given.
An evaluation license file contains text similar to:

<pre>
    FEATURE moe chemcompd 2014.09 31-dec-2014 uncounted HOSTID=DEMO \
            SIGN="00D7 4D08 4CE1 FED7 30DD B41D 2099 6E8F 1C0F CD92 2300 \
            05B3 446A E546 AB52 8FF5 3121 C596 680F F7EB 846E"
</pre>

<p>
The items in the license file specify the MOE software (<tt>moe</tt>),
the <tt>chemcompd</tt> class, the highest version of the software enabled
by the software key (2014.09), the expiration date of the key (December 31,
2014), the maximum number of copies that can be run simultaneously (in this
case, no limit), an authentication code
(<tt>SIGN="00D7 4D08 4CE1 FED7..."</tt>) and a host ID
indicating that this is an evaluation license (<tt>HOSTID=DEMO</tt>).

<p>
No further configuration is required for evaluation licenses.

<a name="KeyNodeUnix"></a>
<h4 class="legal">Node-Locked License on Linux</h4>

<p>
To obtain a node-locked license (a license restricting the use of MOE to a
particular computer) from Chemical Computing Group, you must first install
the MOE software and then determine the FLEXnet host ID of the
computer on which you intend to run MOE by typing the following line in a
terminal window:

<pre>
    user% <b>/usr/local/moe/bin/lmutil lmhostid</b>
    lmutil - Copyright (c) 1989-2014 by Flexera Software, Inc. All rights reserved.
    The FLEXnet host ID of this machine is "00b0d0240936"
</pre>

<p>
With this information, CCG can issue a node-locked license.  Once issued,
you can install the license as follows.

<p>
Edit the <tt>license.dat</tt> file in the MOE root directory and replace
its content with the license data supplied by CCG.  Be careful not to add
any extra spaces and make sure that you enter the data exactly as given.
A node-locked license file contains text similar to:

<pre>
    FEATURE moe chemcompd 2014.09 31-dec-2014 uncounted HOSTID=690c40d0 \
            SIGN="00D7 4D08 4CE1 FED7 30DD B41D 2099 6E8F 1C0F CD92 2300 \
            05B3 446A E546 AB52 8FF5 3121 C596 680F F7EB 846E"
</pre>

<p>
The items in the license file specify the MOE software (<tt>moe</tt>),
the <tt>chemcompd</tt> class, the highest version of the software enabled
by the software key (2014.09), the expiration date of the key (December 31,
2014), the maximum number of copies that can be run simultaneously (in this
case, no limit), an authentication code 
(<tt>SIGN="00D7 4D08 4CE1 FED7..."</tt>) and a host ID
indicating that MOE can only run on the computer with FLEXnet host ID 690c40d0
(as returned by <tt>lmutil</tt>).

<p>
<b>Note:</b> The MOE software itself
need not be installed on this machine.

<p>
No further configuration is required for node-locked licenses.

<a name="KeyFloatUnix"></a>
<h4 class="legal">Network Floating License on Linux</h4>

<p>
To obtain a network floating license from Chemical Computing Group, you
must first install the MOE software.  Next, you must
choose a License Server computer.  The License Server should be on a
computer network accessible by the computers on which you want to run
MOE.  The License Server computer will run the <tt>lmgrd</tt> license
dispenser program.  It is a good idea to install the MOE software on the
License Server itself.
<p>
Once a License Server computer has been chosen,
log on to it and use the following instructions to determine its
hostname and FLEXnet host ID.

<ol>
<li> The command <tt>hostname</tt> can be used to find the network name of
a computer:
<pre>
    user% <b>hostname</b>
    mags.chemcomp.com
</pre>
<li> Type the following line to determine the FLEXnet host ID of the server
computer:
<pre>
    user% <b>/usr/local/moe/bin/lmutil lmhostid</b>
    lmutil - Copyright (c) 1989-2014 by Flexera Software, Inc. All rights reserved.
    The FLEXnet host ID of this machine is "00b0d0240936"
</pre>
</ol>

<p>
With this information, CCG can issue a network floating license.  Once issued,
you can install the license as follows.

<a name="InstallLicenseUnix"></a>
<h5 class="legal">Installing the License on Linux</h5>

<p><span class="note">Note: </span>Additional details can be found in the
<a href="../release_notes/license_install.htm">MOE License Installation Guide</a></p>

<p>
Edit the <tt>license.dat</tt> file in the MOE root directory and replace
its content with the license data supplied by CCG.  Be careful not to add
any extra spaces and make sure that you enter the data exactly as given.
The resulting <tt>license.dat</tt> file should look similar to:

<pre>
    SERVER hostname 00b0d0240936 7788
    DAEMON chemcompd $MOE/bin/chemcompd
    FEATURE moe chemcompd 2014.09 31-dec-2014 4 \
            SIGN="00D7 4D08 4CE1 FED7 30DD B41D 2099 6E8F 1C0F CD92 2300 \
            05B3 446A E546 AB52 8FF5 3121 C596 680F F7EB 846E"
</pre>

<p>
The <tt>SERVER</tt> line should contain the host name and FLEXnet host ID that
you supplied to CCG; if not, then the license will not work.  You must now
edit the <tt>DAEMON</tt> line to replace <tt>$MOE</tt> with the
complete path to the MOE root directory where MOE is installed.  Assuming
that the directory is <tt>/usr/local/moe</tt>, the final license file
should look like:

<pre>
    SERVER hostname 00b0d0240936 7788
    DAEMON chemcompd /usr/local/moe/bin/chemcompd
    FEATURE moe chemcompd 2014.09 31-dec-2014 4 \
            SIGN="00D7 4D08 4CE1 FED7 30DD B41D 2099 6E8F 1C0F CD92 2300 \
            05B3 446A E546 AB52 8FF5 3121 C596 680F F7EB 846E"
</pre>

<p>
The <tt>FEATURE</tt> items in the license file specify the MOE software
(<tt>moe</tt>), the <tt>chemcompd</tt> class, the highest version of the
software enabled by the software key (2014.09), the expiration date of the key
(December 31, 2014), the number of tokens available (in this case, 4) and an
authentication code (<tt>SIGN="00D7 4D08 4CE1 FED7..."</tt>).

<p>
You are now ready to run the FLEXnet License Manager.

<a name="StartlmgrdUnix"></a>
<h5 class="legal">Starting the License Manager on Linux</h5>

<p>
Before running MOE, you must run the <tt>lmgrd</tt> license dispenser on the
chosen License Server computer.  If you are already running the FLEXnet license
manager for other software products, you can add the contents of the MOE
<tt>license.dat</tt> license file to your existing master license file (add
only the <tt>DAEMON</tt> and <tt>FEATURE</tt> lines). For the change to take
effect, you will need to stop and restart the license manager program
<tt>lmgrd</tt>.  If you are not running FLEXnet, log on to the License Server
(no need to be root) and type:

<p>
Assuming the MOE root directory to be
<tt>/usr/local/moe</tt>

<pre>
    user% <b>setenv MOE /usr/local/moe</b>
    user% <b>$MOE/bin/lmgrd -c $MOE/license.dat -l /tmp/lmgrd.log</b>
</pre>
<p>
Some Linux systems use bash as the shell. In these case,
replace the <tt>setenv</tt> command
with <tt>export&nbsp;MOE=/usr/local/moe</tt>.

<p>
<tt>lmgrd.log</tt> is a log file written by the license manager which contains
information on software usage and possible problems.

<a name="StoplmgrdUnix"></a>
<h5 class="legal">Stopping the License Manager on Linux</h5>

<p>
The <tt>lmgrd</tt> program can be stopped with:

<pre>
    user% <b>$MOE/bin/lmutil lmdown -c $MOE/license.dat</b>
</pre>

<p>If you are using the <tt>lmgrd_init</tt> script described
<a href="#AutolmgrdUnix">below</a>,
you can use the same script to stop the license manager by issuing
the commands:

<pre>
    user% <b>/sbin/service lmgrd_init stop</b>
</pre>
<p>or:
<pre>
    user% <b>/etc/init.d/lmgrd_init stop</b>
</pre>

<p><i>Ubuntu users:</i> Please note that if you are running Ubuntu, replace
the name of the script
<tt>lmgrd_init</tt> with <tt>lmgrd_init_ubuntu</tt> in the
lines above.
</p>

<p>
MOE uses version 11.11.1.2 of <tt>lmgrd</tt>.  You do not need to be
<tt>root</tt> to run <tt>lmgrd</tt>.
</p>

<a name="AutolmgrdUnix"></a>
<h5 class="legal">Launching the License Manager Automatically on Linux</h5>

<p>It is a good idea to have the above <tt>lmgrd</tt> command issued in the
boot sequence of the License Server computer.

<p>
On Linux, the moe license daemon can be started automatically using the
init script located in:
</p>

<pre>
$MOE/bin-lnux/lmgrd_init
</pre>

<p>
<i>Ubuntu users:</i> When running Ubuntu, the script is located in:
<tt>$MOE/bin-lnux/lmgrd_init_ubuntu</tt>
</p>

<p>To use the script, the following procedure must be followed:
</p>

<ol>
<li>Edit the script file to match your environment:

<pre>
    MOE=/home/ccg/moe
    LOGFILE=/usr/tmp/lmgrd.log
    USERNAME=ccg
</pre>

<p>where:

<ul>
<li><tt>MOE</tt>: root of the MOE installation directory
<li><tt>LOGFILE</tt>: name of the log file used by the server
<li><tt>USERNAME</tt>: user owning the license daemon process
</ul>

<p>
<li>Login as root.

<p>
<li>Copy the script file into the <tt>init.d</tt> directory:

<pre>
    user% <b>cp lmgrd_init /etc/init.d/lmgrd_init</b>
</pre>

<p>
<i>Ubuntu users:</i> 
<pre>
    user% <b>cp lmgrd_init_ubuntu /etc/init.d/lmgrd_init</b>
</pre>

</p>

<p>
<li>Ensure that the script is executable:

<pre>
    user% <b>chmod +x /etc/init.d/lmgrd_init</b>
</pre>

<p>
<li> Register the lmgrd_init script so that it is run when the machine starts
and stops:

<pre>
    user% <b>chkconfig --add lmgrd_init</b>
    user% <b>chkconfig lmgrd_init on</b>
</pre>

If chkconfig is not available, the links can be created manually:

<pre>
    user% <b>ln -s /etc/init.d/lmgrd_init /etc/rc2.d/S99moe_lmstart</b>
    user% <b>ln -s /etc/init.d/lmgrd_init /etc/rc3.d/S99moe_lmstart</b>
    user% <b>ln -s /etc/init.d/lmgrd_init /etc/rc4.d/S99moe_lmstart</b>
    user% <b>ln -s /etc/init.d/lmgrd_init /etc/rc5.d/S99moe_lmstart</b>
    user% <b>ln -s /etc/init.d/lmgrd_init /etc/rc0.d/K10moe_lmstop</b>
    user% <b>ln -s /etc/init.d/lmgrd_init /etc/rc1.d/K10moe_lmstop</b>
    user% <b>ln -s /etc/init.d/lmgrd_init /etc/rc6.d/K10moe_lmstop</b>
</pre>
<p>
<li>Start the MOE license server:

<pre>
    user% <b>/sbin/service lmgrd_init start</b>
</pre>

If /sbin/service is not available, the script can be invoked directly:

<pre>
    user% <b>/etc/init.d/lmgrd_init start</b>
</pre>


</ol>


<!-- ===================== DELETING MOE ===================== -->

<a name="Delete"></a><h2 class="legal">Deleting MOE</h2>

<ol>
<li>Delete the <tt>$MOE</tt> root directory and all files and
directories under it. In this document we have assumed that <tt>$MOE</tt>
is <tt>/usr/local/moe</tt> on UNIX systems and <tt>c:\moe</tt> on
Windows systems.

<p>
<li>If you are not planning to re-install MOE:

<ol>
    <li> "unset" all MOE environment variables in user shell configuration files
         (e.g. <tt>.cshrc</tt> or <tt>.bashrc</tt>);
    <li> Linux and Mac: delete the <tt>.moe-rc</tt>, <tt>.moe-menus</tt> and
         <tt>.moe-themes</tt> files located in the home directory;
    <li> Windows: delete the <tt>moe-rc</tt>, <tt>moe-menus</tt> and
         <tt>.moe-themes</tt> files located in the home directory;
    <li> delete the <tt>moefiles</tt> directory located in the home directory.
</ol>



<p>
<li>Delete any MOE additions to global license files (if necessary)
and/or delete the automatic start-up of <tt>$MOE/bin/lmgrd</tt> from the
boot scripts of the license management computer. Do not perform this step
if you plan to re-install MOE.

</ol>



<!-- ===================== JAVA and JDBC ===================== -->

<a name="JDBC"></a>
<h2 class="legal">Installing Java and JDBC Drivers</h2>

<p>The <a href="../svl/manual/jdbc_man.htm">SVL relational database
functions</a> provide both access to a wide variety of relational databases and
compatibility with a wide variety of database servers.  To use the relational
database functions, you must have Java (i.e. a Java Virtual Machine)
installed.


<a name="Java"></a>
<h3 class="legal">Installing Java</h3>

<p>
To use the relational database functions, a Java Virtual Machine (JVM) must be
available. The required JVM for MOE is Oracle (Sun) Java version 1.5 or higher.
Many of the available JDBC drivers will have more strict requirements than this,
so the most recent version available for the platform is highly recommended.
If the Java executable is not specified through the <span class="menu">MOE |
<img src="../appendix/settings/settings.png" alt="Settings" align="bottom" /> |
<a href="../appendix/settings.htm#JDBC">Java/JDBC Database</a> </span>
panel or by an <a href="#SVL_JVM">environment variable</a>, then the system PATH
will be searched. Java executable settings in the Java/JDBC Database panel will take
precedence over the Java environment variables.

<p>A recent version of Java for most platforms can be obtained from <a
href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
http://www.oracle.com/technetwork/java/javase/downloads/index.html</a>.
Either the <tt>JRE</tt> or the full <tt>SDK</tt> version of Java may be
used.</p>

<p>
<b>Note:</b> Third party JVMs (i.e. not from Oracle/Sun)
may be incompatible with MOE.
</p>


<a name="JVM_OPTS"></a>
<h3 class="legal">Using a Proxy Server, and Other Options for Starting the JVM</h3>

<p>Some networks are protected from the internet through the use of a
<i>proxy server</i>.  In order for Java to be able to access external
internet sites, this proxy server information must be specified.  If the
Java installed on your machine has a control panel (Java Control Panel
accessible via the Windows Control Panel on Windows systems,
or by typing <tt>ControlPanel</tt> at a shell prompt under
Unix), the proxy setting is settable under
the <b>Network Settings...</b>
button on the <b>General</b> tab.  If your version of
Java does not have a control panel, the proxy information must be provided
as additional options to the JVM as follows.</p>

<p>Additional options to be used for starting the JVM may be supplied in the
MOE resource configuration file <tt>moe-rc</tt>.
If there is an entry in <tt>moe-rc</tt> corresponding to
<tt>jvm.commandOptions</tt> then the value of that entry will be used
when starting the JVM.
For instance, it is possible to specify to the JVM that any internet
connections should be established through an internet proxy server using the
following SVL command (replace <tt>&lt;proxy&gt;</tt> with
the appropriate IP address and <tt>&lt;port&gt;</tt> with
the appropriate port number):</p>

<pre>
svl&gt; SetRC [
	'jvm.commandOptions',
	'-DproxySet=true -Dhttp.proxyHost=&lt;proxy&gt; -Dhttp.proxyPort=&lt;port&gt;'
	' -Dftp.proxyHost=&lt;proxy&gt; -Dftp.proxyPort=&lt;port&gt;'
    ]
</pre>
<p>
This change will take effect when the JVM is next restarted, but will be
written to the <tt>moe-rc</tt> file only when the current
MOE session ends.  Exiting MOE will ensure that the changes are recorded
for all subsequent MOE sessions.
</p>

<p><b>Note:</b>  If your
Java has a control panel, the proxy settings should be set there,
rather than through the <tt>moe-rc</tt>.</p>

<a name="SVL_JVM"></a>
<h3 class="legal">Java Environment Variables</h3>


<p>Once MOE and Java have been properly installed on the system MOE must be
informed of where the Java installation is located. If the system's
<tt>PATH</tt> environment variable contains a reference to the directory
containing the <tt>java</tt> executable then MOE will find it when
needed. Otherwise, the <tt>SVL_JVM</tt> environment variable in the table below
must be set appropriately.

<p>The following environment variables are used by MOE.
<p>
<table class="titlebar">
<tr>
<th>Variable</th>
<th>Description</th>
</tr>

<tr>
<td valign="baseline"><tt>CLASSPATH</tt></td>
<td valign="baseline">
Specifies the default search path used by all Java programs when looking for
Java class files. Java uses this environment variable independently of MOE, so
if the <tt>CLASSPATH</tt> variable is set, then it will be used to initialize
the JVM with the following three entries automatically appended:
<tt>$MOE/java/, $MOE/java/jdbc.jar, $MOE/java/svljava.jar</tt>.
</td>

</tr>
<tr><td valign="baseline"><tt>SVL_CLASSPATH</tt></td>

<td valign="baseline">
<tt>SVL_CLASSPATH</tt> overrides the <tt>CLASSPATH</tt> environment variable.
If this environment variable is set, then it is used exclusively with no
modification. Note that unlike for <tt>CLASSPATH</tt>, paths to
<tt>$MOE/java</tt>, <tt>$MOE/java/jdbc.jar</tt> and
<tt>$MOE/java/svljava.jar</tt> must be explicitly defined when using this
environment variable.
</td>

</tr>
<tr>
<td valign="baseline"><tt>SVL_JVM</tt></td>

<td valign="baseline">
Specifies the Java Virtual Machine (JVM) that SVL will start. Set this variable
to point to the Java executable to use. If this is not set in the environment
then it is expected that the command 'java' will be resolved in the current
PATH.
</td>

</tr>
<tr><td valign="baseline"><tt>SVL_JVM_LOG</tt></td>

<td valign="baseline">
Specifies the location and name of a log file for the system. If this variable
is set then it will be used as the name of the log file written to by the Java
Virtual Machine started by SVL, otherwise no log will be written. This is
useful for debugging purposes.
</td>

</tr>
</table>


<a name="Drivers"></a>
<h3 class="legal">Installing the JDBC Drivers</h3>

<p>A JDBC Driver corresponding to the type of database you wish to access is
required, in addition to having a sufficiently new JVM installed on the
system. JDBC drivers are not included with MOE. Because JDBC is a common
standard, JDBC drivers are available for free download from the web sites of
all the most popular database vendors. For example, the following table lists
the URLs where drivers can be found for several popular database products:

<p>
<table class="titlebar">
<tr><th>Database</th>
    <th>JDBC Driver Location</th>
</tr>

<tr><td valign="baseline">IBM DB2</td>
    <td valign="baseline">{DB2_INSTALL_DIR}/java/db2jcc.jar</td>
</tr>

<tr><td valign="baseline">Oracle</td>
    <td valign="baseline"><a
href="http://www.oracle.com/technetwork/database/features/jdbc/index-091264.html">Oracle
JDBC driver</a> </td>
</tr>

<tr><td valign="baseline">Microsoft SQL</td>
    <td valign="baseline">
    <a href= "http://msdn.microsoft.com/en-us/data/aa937724.aspx">Microsoft SQL
    Server Driver for JDBC</a>
    </td>
</tr>

<tr><td valign="baseline">MySQL</td>
    <td valign="baseline">
    <a href= "http://www.mysql.com/downloads/connector/j/">MySQL
    Connector/J</a></td>
</tr>

</table>

<p>
Acquire the appropriate JDBC driver and install it on your system. Once the
driver has been installed ensure that <tt>CLASSPATH</tt> or
<tt>SVL_CLASSPATH</tt> refers to the appropriate installation locations. The
driver installation directory and the <tt>$MOE/java</tt> directory as well as
the necessary <tt>jar</tt> files must all appear in one of the
<tt>CLASSPATH</tt> variables for the system to function completely.

<p>
It is highly recommended that the documentation for each driver be read
carefully. Drivers from different vendors do not behave consistently and each
has its own set of supported and non-supported features. The documentation will
also specify the format of the URL (Uniform Resource Locater) expected by the
driver and the name by which the driver may be invoked.  Note that this
information is needed by the relational database functions for connecting to a
database using that driver.

<a name="JDBC_Trouble"></a>
<h3 class="legal">Troubleshooting JDBC</h3>

<table class="titlebar" width="100%">
<tr>
<th>Error Message</th>
<th>Possible Problem</th>

<tr>
<td valign="baseline" nowrap="nowrap">
<tt>Unable to load Java class</tt>
<td valign="baseline">
Make sure the <tt>CLASSPATH</tt> and <tt>SVL_JVM</tt> environment variables are
set and then restart MOE.
</td></tr>

<tr>
<td valign="baseline" nowrap="nowrap">
<tt>I/O error reading from JVM</tt>
<td valign="baseline">
Java may not be installed on your machine.  See
<a href="#Java">Installing Java</a>
for information on how to install Java.
</td></tr>

<tr>
<td valign="baseline" nowrap="nowrap">
<tt>jvm: Can't locate file</tt>
<td valign="baseline">
The <tt>java</tt> executable file cannot be found in the path.  Ensure that
<tt>SVL_JVM</tt> correctly refers to this file.
</td></tr>
</table>



<a name="Sketchers"></a>
<h3 class="legal">Sketcher Programs</h3>

    <p>MOE can connect to a variety of 2D sketchers.
    For configuration details, please see
    <a href="../moe/sketcher.htm">2D Sketcher Programs</a>.
    </p>


<!-- ===================== RUNNING MOE ===================== -->

<a name="Run"></a>
<h2 class="legal">Running MOE</h2>

<ul>
<li><a href="#RunGUI">Running MOE</a>
<li><a href="#RunBatch">Running MOE/batch</a>
<li><a href="#RunSwitch">Command Line Switches</a>
<li><a href="#RunEnv">Environment Variables</a>
</ul>

<a name="RunGUI"></a>
<h3 class="legal">Launch MOE (graphical mode)</h3>

<p>
We will assume that the MOE root directory is <tt>/usr/local/moe</tt>
on Unix systems and <tt>c:\moe</tt> on Windows systems.  To run the MOE
graphical environment on a Unix system type:

<pre>
    user% <b>/usr/local/moe/bin/moe</b>
</pre>

<p>
in a terminal shell.

On Windows, a Command Prompt can be used to launch MOE:

<pre>
    c:\&gt; <b>c:\moe\bin\moe.exe</b>
</pre>

<p>
On all platforms, adding the full path to the bin directory (located inside
of the MOE installation location) to the <tt>PATH</tt> environment variable
will allow launching the MOE executable (and moebatch) directly without
providing the full path every time.

<p>
On Windows, a shortcut to the <tt>moe.exe</tt> executable can be created on the
desktop for easy access.

<p>
If the MOE Window does not
appear, there is a problem with the installation.  Consult the
troubleshooting section below called <a href="#Trouble">Common
Problems</a>.

<a name="RunBatch"></a>
<h3 class="legal">Running MOE/batch</h3>

<p>
One of MOE's significant features is that it also runs in terminal mode, a
non-graphical version of the MOE software called MOE/batch.  In batch mode,
you can issue all the SVL functions (except, of course, graphical and
window-generating commands) as you would from the SVL command line in the
graphical version of MOE.   MOE/batch is typically used for background
calculations that do not require a graphical interface.

<p>
We will assume that the MOE root directory is <tt>/usr/local/moe</tt>
on Unix systems and <tt>c:\moe</tt> on Windows systems. To run MOE/batch
on a Unix system type:

<pre>
    user% <b>/usr/local/moe/bin/moebatch</b>
</pre>

<p>
in a terminal shell.


<p> To run MOE/batch in a
Windows system, open an Command Prompt window and type:

<pre>
    user% <b>c:\moe\bin\moebatch</b>
</pre>

<p>
If MOE's <tt>bin</tt> directory has been added to the PATH,
<tt>moebatch</tt> can be run directly without providing the full path.

<p>
In any event, when ready for an SVL command, MOE/batch will prompt with
<tt>moe&gt;</tt>:

<pre>
    moe&gt;
</pre>

<p>
If the <tt>moe&gt;</tt> prompt does not appear after a few seconds, then
there is a problem with the installation.  Consult the troubleshooting
section below called <a href="#Trouble">Common Problems</a>.
You can exit MOE/batch with

<pre>
    moe&gt; <b>Quit[]</b>
</pre>

<p>
which will return you to the system command prompt.  MOE/batch will also exit
when the end of file character is seen (<tt>Ctrl+D</tt> on Unix and
<tt>Ctrl+Z</tt> on Windows).  The command history can be examined with
<tt>Ctrl+P</tt> for the previous command and <tt>Ctrl+N</tt> for the
next command.

<p>
MOE/batch is very much a script processing environment.  If you have an SVL
script file with a sequence of SVL commands called <tt>myscript.svl</tt>, you
can run them and quit MOE/batch upon completion by typing

<pre>
    user% <b>/usr/local/moe/bin/moebatch -script myscript.svl</b>
</pre>

<a name="RunSwitch"></a>
<a name="-32"></a>
<a name="-64"></a>
<a name="-dbg"></a>
<a name="-accumfp"></a>
<a name="-boot"></a>
<a name="-bootlog"></a>
<a name="-cd"></a>
<a name="-desktop"></a>
<a name="-downloads"></a>
<a name="-exec"></a>
<a name="-ffdefault"></a>
<a name="-forcefield"></a>
<a name="-fsaa"></a>
<a name="-fsaa_mode"></a>
<a name="-gfx"></a>
<a name="-gfxvisual"></a>
<a name="-home"></a>
<a name="-lic"></a>
<a name="-licwait"></a>
<a name="-noaccum"></a>
<a name="-noextensions"></a>
<a name="-nofsaa"></a>
<a name="-nolicwait"></a>
<a name="-mpu"></a>
<a name="-mpulog"></a>
<a name="-load"></a>
<a name="-openfiles"></a>
<a name="-opengl"></a>
<a name="-root"></a>
<a name="-run"></a>
<a name="-script"></a>
<a name="-setenv"></a>
<a name="-std"></a>
<a name="-stereo"></a>
<a name="-nostereo"></a>
<a name="-test"></a>
<a name="-tmp"></a>
<a name="-tty"></a>
<a name="-notty"></a>
<a name="-x11"></a>

<h3 class="legal">Command Line Switches</h3>

<p>
When <tt>moe</tt> or <tt>moebatch</tt> are run from a command shell or
Command Prompt a number of <i>switches</i> or options are available.  These
are invoked by typing

<pre>
   user% <b>/usr/local/moe/bin/moe <i>switches</i></b>
   user% <b>/usr/local/moe/bin/moebatch <i>switches</i></b>
</pre>

<p>
where <i>switches</i> are one or more of the following items:

<p>
<table class="titlebar" width="90%">
<tr>
<th>Switch</th>
<th>Description</th>
</tr>

<tr>
<td valign="baseline">
<tt>-32</tt><br/><tt>-64</tt>
</td>
<td valign="baseline">
Launch either 32-bit or 64-bit MOE executable.
</td>
</tr>


<tr>
<td valign="baseline" width="20%">
<tt>-accum</tt><br />
<tt>-accumfp</tt><br />
<tt>-noaccum</tt>
</td>
<td valign="baseline">
If <tt>-accum</tt> is specified, the OpenGL accumulation buffer will
be used for anti-aliasing and focal blurring (this is the default).
If <tt>-accumfp</tt> is specified, a floating point precision accumulation
buffer will be used. This buffer is only available on modern graphics cards;
however, it is
only needed if there are problems with the normal OpenGL accumulation
buffer.
If <tt>-noaccum</tt>
is specified, the OpenGL accumulation buffer will not be used,
with the consequence
that high-quality anti-aliasing and focal blurring will be disabled.
<br />
<br />
Note: A faster but lower quality anti-aliasing may be accessible using
the <tt>-fsaa</tt> switch.
</td>
</tr>


<tr>
<td valign="baseline"><tt>-boot</tt>&nbsp;<i>filename</i></td>
<td valign="baseline">
Specifies the SVL program that MOE runs immediately upon startup.  The
default is <tt>$MOE/lib/boot.svl</tt> for MOE and MOE/batch.
The default is <tt>$MOE/web/boot_web.svl</tt> for MOE/web.
</td>
</tr>

<tr>
<td valign="baseline" width="20%"><tt>-bootlog</tt>&nbsp;<i>filename</i></td>
<td valign="baseline">
Specifies a file into which to save the boot logfile which will
record any messages at boot time.
</td>
</tr>

<tr>
<td valign="baseline" width="20%"><tt>-cd&nbsp;<i>path</i></tt></td>
<td valign="baseline">
Specifies the current directory used by MOE/moebatch after launch. The value
of <i>path</i> can be either absolute or relative, or any
<a href="#RunEnv">environment variables</a> used by MOE. The "." (dot) or
"~" (tilde) characters can also be used, representing the current working
directory at the time of launch and the home directory, respectively.
</td>
</tr>

<tr>
<td valign="baseline" width="20%">
<tt>-desktop</tt><br />
<tt>-downloads</tt><br />
<tt>-home</tt><br />
</td>
<td valign="baseline">
Specifies <tt>DESKTOP</tt>, <tt>DOWNLOADS</tt>, or
<tt>HOME</tt> directories to supersede the defaults in the
MOE session.
</td>
</tr>

<tr>
<td valign="baseline"><tt>-exec</tt>&nbsp;<i>"expression"</i></td>
<td valign="baseline">
Upon startup, but after the <tt>MOE_SVL_LOAD</tt> files have been loaded
and the <tt>MOE_SVL_STARTSCRIPT</tt> has been executed, evaluate the specified
SVL expression, <i>expression</i>.
If used on the MOE/batch command line it will cause MOE/batch to
automatically terminate after <i>expression</i> is evaluated.
</td>
</tr>

<tr>
<td valign="baseline"><tt>-ffdefault</tt>&nbsp;<i>filename</i></td>
<td valign="baseline">
Use the parameters in the file <i>filename</i> when specific parameters
are not available in a force field.  By default MOE uses the defaults file
<tt>$MOE/lib/ffdefault.dat</tt>.
</td>
</tr>

<tr>
<td valign="baseline"><tt>-forcefield</tt>&nbsp;<i>filename</i></td>
<td valign="baseline">
Use <i>filename</i> as the default forcefield file instead of that specified
in the <tt>$MOE/lib/moe-rc</tt> file.
</td>
</tr>

<tr>
<td valign="baseline">
<tt>-fsaa</tt><br />
<tt>-nofsaa</tt><br />
<tt>-fsaa_mode</tt>&nbsp;<i>numsamples</i>
</td>
<td valign="baseline">
Specifying <tt>-fsaa</tt> enables graphics hardware anti-aliasing
(&quot;multisampling&quot;), if available.  Specifying
<tt>-nofsaa</tt> disables hardware anti-aliasing (this is the default).
The <tt>-fsaa_mode</tt> enables hardware anti-aliasing and
specifies the number of samples used; the higher the number,
the better the quality, but the slower the refresh rate.
<br />
<br />
Note: <tt>-fsaa</tt> provides a faster but lower quality
anti-aliasing than <tt>-accum</tt>.
</td>
</tr>

<tr>
<td valign="baseline"><tt>-gfx</tt></td>
<td valign="baseline">
On startup, lists the available OpenGL-compatible visuals and displays the
default selection.
</td>
</tr>


<tr>
<td valign="baseline"><tt>-gfxvisual&nbsp;0xHH</tt></td>
<td valign="baseline">
Used to force the selection of a particular visual.
<tt>HH</tt> is the visual ID to be used.
</td>
</tr>

<tr>
<td valign="baseline"><tt>-lic</tt>&nbsp;<i>filename</i></td>
<td valign="baseline">Use <i>filename</i> as the license file.</td>
</tr>

<tr>
<td valign="baseline"><tt>-licwait</tt><br/><tt>-nolicwait</tt></td>
<td valign="baseline">
If <tt>-licwait</tt> is specified on the command line then MOE will wait
until a license is available from the license manager.
If <tt>-nolicwait</tt> is specified then MOE will terminate upon detection
that no license is available (this is the default).
</td>
</tr>

<tr>
<td valign="baseline"><tt>-load</tt>&nbsp;<i>filename</i></td>
<td valign="baseline">
Specifies an SVL source file or directory containing SVL source files to
be loaded automatically when MOE starts.  If <i>filename</i> specifies a
file then that file is loaded.  If <i>filename</i> specifies a directory
then all files ending in <tt>.svl</tt> in that directory will be loaded.
If the directory also contains any subdirectories ending with
<tt>.svl</tt>, those subdirectories will each be recursively searched for
files and subdirectories ending in <tt>.svl</tt>.  Files are loaded and
subdirectories are searched in alphabetical order.
</td>
</tr>

<tr>
<td valign="baseline"><tt>-mpu</tt>&nbsp;<i>n</i></td>
<td valign="baseline">Start MOE in multiprocessor mode, using
<i>n</i> processors.
</tr>

<tr>
<td valign="baseline"><tt>-mpulog</tt>&nbsp;<i>filename</i></td>
<td valign="baseline">When MOE is started in multiprocessor mode,
internal details of computations will be logged to
the specified file.  If the filename contains the character
<tt>#</tt>, then a series of logfiles will be written out,
each of whose name will be based on the original filename,
but with the <tt>#</tt> replaced by the host number.
</tr>

<tr>
<td valign="baseline"><tt>-openfiles</tt>&nbsp;<i>filename1</i>
    <i>filename2</i>&hellip;</td>
<td valign="baseline">
If a MOE GUI session is open, the listed files will be opened into it.
Otherwise, a new MOE session will be started, with the specified
files loaded. This option can not be used with MOE/batch, and
has no effect if <tt>-exec</tt>, <tt>-run</tt>, or <tt>-script</tt> 
are specified on the command line.
</td>
</tr>

<tr>
<td valign="baseline"><tt>-opengl</tt></td>
<td valign="baseline">Use the OpenGL graphics rendering library (if available).</td>
</tr>

<tr>
<td valign="baseline"><tt>-root</tt>&nbsp;<i>path</i></td>
<td valign="baseline">
Set the path of the MOE installation directory.  This switch will override
any value set in the <tt>MOE</tt> environment variable.
The SVL constant <tt>MOE</tt> contains the path to the MOE root directory.
</td>
</tr>

<tr>
<td valign="baseline"><tt>-run</tt>&nbsp;<i>filename</i></td>
<td valign="baseline">
Run the specified SVL program after the boot program is run.
If used on the MOE/batch command line it will cause MOE/batch to
automatically terminate after the program is run.
</td>
</tr>

<tr>
<td valign="baseline"><tt>-script</tt>&nbsp;<i>filename</i></td>
<td valign="baseline">
Run the specified SVL script after the boot program is run.
If used on the MOE/batch command line it will cause MOE/batch to
automatically terminate after the script terminates.
</td>
</tr>


<tr>
<td valign="baseline"><tt>-setenv</tt>&nbsp;<i>name=value</i></td>
<td valign="baseline">Upon starting MOE, environment variable <tt>name</tt> will
be set to <tt>value</tt>.
</td>
</tr>


<tr>
<td valign="baseline"><tt>-std</tt></td>
<td valign="baseline">
Ignore any customizations. In particular, ignore the <tt>$HOME/.moe-menus</tt>
and <tt>$HOME/.moe-rc</tt> files and the environment variables
<tt>MOE_SVL_LOAD</tt> and <tt>MOE_SVL_STARTSCRIPT</tt>.
</td>
</tr>

<tr>
<td valign="baseline"><tt>-stereo</tt><br/><tt>-nostereo</tt></td>
<td valign="baseline">
Use <tt>-nostereo</tt> to disable the request for a stereo visual and
<tt>-stereo</tt> to insist upon it. By default MOE requests a stereo
visual to support OpenGL stereo, but on some platforms stereo
visuals have lower quality graphics (e.g. 12 bit vs. 24 bit).
</td>
</tr>

<tr>
<td valign="baseline"><tt>-test</tt></td>
<td valign="baseline">
After loading SVL files, print the version of MOE and the name and path of
the MOE root directory, then exit MOE.  This option is used primarily for
testing the MOE installation.
</td>
</tr>

<tr>
<td valign="baseline"><tt>-tmp</tt>&nbsp;<i>path</i></td>
<td valign="baseline">
Set the path to the temporary file directory.  Write permission is required
for the directory.  This is the directory that MOE uses for temporary files.
This switch will override any value set in the <tt>MOE_TMP</tt>, <tt>TMP</tt>,
<tt>TEMP</tt> environment variables.  The SVL constant <tt>TMP</tt> contains
the path to the temporary directory.
</td>
</tr>

<tr>
<td valign="baseline"><tt>-tty</tt><br/><tt>-notty</tt></td>
<td valign="baseline">
The <tt>-tty</tt> switch causes MOE and MOE/batch to accept
terminal input. The <tt>-notty</tt> switch disables the terminal
input capability.
</td>
</tr>

<tr>
<td valign="baseline"><tt>-x11</tt></td>
<td valign="baseline">Use the X11 graphics rendering library (if available).
</td>
</tr>

<tr>
<td valign="baseline"><tt><i>filename1, filename2...</i></tt></td>
<td valign="baseline">
Open specified files in MOE. The filenames must be the last arguments
on the command line. This option has no effect if
<tt>-exec</tt>, <tt>-run</tt>, or <tt>-script</tt> are specified on
the command line.
</td>
</tr>

</table>

<p>
In general, the command line switches are not required; however, in
certain circumstances they are useful.  For example, to run an SVL program
<tt>myprog.svl</tt> from MOE/batch one would type:

<pre>
    user% <b>/usr/local/moe/bin/moebatch -run myprog.svl</b>
</pre>

<p> If the program requires arguments, one would type:

<pre>
    user% <b>/usr/local/moe/bin/moebatch -exec "run ['myprog.svl', ['in.mdb', 'out.mdb']]"</b>
</pre>

<p>
To use the alternative license file <tt>mylic.dat</tt> and run the
standard MOE forcing X11 graphics, one would type:

<pre>
    user% <b>/usr/local/moe/bin/moe -lic mylic.dat -x11 -std</b>
</pre>

<p>
Finally, one can test the MOE installation with:

<pre>
    user% <b>/usr/local/moe/bin/moebatch -test</b>
    MOE 2014.09 appears OK (/usr/local/moe)
</pre>

<p>
Note that the <tt>-test</tt> switch exits MOE automatically.

<a name="RunEnv"></a>
<h3 class="legal">Environment Variables</h3>

<p>
Environment variables are used a) to specify an alternate MOE root
directory, or b) to modify how MOE starts up when customizations have been
made.  All of the MOE environment variables begin with <tt>MOE_</tt> and
are optional; that is, no environment variables are required to run MOE.

<p>
Typically, environment variables are set in a user's home directory shell
configuration file (e.g. <tt>.cshrc</tt> or <tt>.bashrc</tt>) on Unix systems or in
the Advanced System Control Panel on Windows systems.
To set an environment variable for bash (many Linux distributions, Mac OS X),
use the following syntax:
<pre>
    user% <b>export</b> <i>variable</i>=<i>value</i>
</pre>
while for POSIX shell, use the following syntax:
<pre>
    user% <b>setenv</b> <i>variable</i> <i>value</i>
</pre>

<p>
For example, <tt>setenv MOE /usr/local/moe</tt> would set the MOE root
directory variable to <tt>/usr/local/moe</tt>.  In subsequent shell commands,
the string of characters <tt>$MOE</tt> would be replaced by
<tt>/usr/local/moe</tt>.  To set an environment variable
under Windows type:

<pre>
    c:\windows> <b>set</b> <i>variable</i><b>=</b><i>value</i>
</pre>

<p>
in a Command Prompt window.  For example, <tt>set MOE=c:\moe</tt> would
set the MOE root directory variable to <tt>c:\moe</tt>.  In subsequent
DOS commands, the string of characters <tt>%MOE%</tt> would be replaced by
<tt>c:\moe</tt>.

<p>
<b>Note:</b> Setting an environment variable like this is only temporary.
Use the same syntax but inside the shell's configuration file
(e.g. <tt>.cshrc</tt> or <tt>.bashrc</tt>) on Linux and Mac OS X to make the
setting permanent.

<p>Alternatively, the Windows <b>Control Panel</b> offers a graphical
interface to manipulate environment variables. It can be accessed from
the <b>System Properties</b> panel <b>Advanced</b> section. Press the
<b>Environment Variables</b> button to launch the interface.
</p>

<p>Finally, the
<a class="svl" href="#-setenv">-setenv</a> runtime switch can be
used to set an environment variable when MOE is invoked.
</p>

<p>
The following environment variables are used by MOE:

<a name="DESKTOP"></a>
<a name="DOWNLOADS"></a>
<a name="HOME"></a>
<a name="HOMEPATH"></a>
<a name="HOMEDRIVE"></a>
<a name="MOE"></a>
<a name="MOE_SVL_LOAD"></a>
<a name="MOE_SVL_RUN"></a>
<a name="MOE_SVL_RUNPATH"></a>
<a name="MOE_SVL_STARTSCRIPT"></a>
<a name="MOE_TMP"></a>
<a name="TMP"></a>
<a name="TEMP"></a>
<p>
<table>
<tr>
<th>Variable</th>
<th>Description</th>
</tr>

<tr>
<td valign="baseline"><tt>HOMEDRIVE</tt><br/><tt>HOMEPATH</tt><br/><tt>HOME</tt></td>
<td valign="baseline">
On Windows platforms MOE uses the environment variables <tt>HOMEDRIVE</tt> and
<tt>HOMEPATH</tt> to compose the user's home directory.  If either is not
defined then the <tt>HOME</tt> environment variable is used.  If <tt>HOME</tt>
is not defined then the current directory when MOE starts is used as the
user's home directory.
</tr>


<tr>
<td valign="baseline"><tt>MOE</tt></td>
<td valign="baseline">
Root MOE directory (the installation directory). <b>Note:</b> MOE does not use
the <tt>MOE</tt> environment variable set by the user; it will automatically
detects its installation directory and use that value for the <tt>MOE</tt>
environment variable.
</tr>

<tr>
<td valign="baseline"><tt>MOE_SVL_LOAD</tt></td>
<td valign="baseline">
Specifies an SVL source file or directory containing SVL source files to
be loaded automatically when MOE starts, for example local applications or
files customizations sent by the CCG support staff.

<p>
These files will be loaded before
the <tt>-load</tt>, <tt>-run</tt> and <tt>-script</tt> command line switches
are executed.  If <tt>MOE_SVL_LOAD</tt> specifies a file then that file
is loaded.  If <tt>MOE_SVL_LOAD</tt> specifies a directory then all files
ending in <tt>.svl</tt> in that directory will be loaded.  If the
directory also contains any subdirectories ending with <tt>.svl</tt>,
those subdirectories will each be recursively searched for files and
subdirectories ending in <tt>.svl</tt>.  Files are loaded and
subdirectories are searched in alphabetical order.
If the local directory <tt>~/svl</tt> exists, all SVL files in that
directory will be loaded immediately after the
<tt>MOE_SVL_LOAD</tt> files are loaded.
</tr>

<tr>
<td valign="baseline"><tt>MOE_SVL_RUN</tt></td>
<td valign="baseline">
Specifies a single SVL source file to run automatically when MOE starts.
This file will be run after the files specified by <tt>MOE_SVL_LOAD</tt>
are loaded.
</tr>

<tr>
<td valign="baseline"><tt>MOE_SVL_RUNPATH</tt></td>
<td valign="baseline">
Specifies a list of directories to be searched when the
SVL command <tt>run</tt> is presented with a relative filename.  Directory
names must be separated by semicolons.  The directories are processed from
left to right.  The default is <tt>$MOE/lib/svl/run;~/svl/run</tt>.

</tr>

<tr>
<td valign="baseline"><tt>MOE_TMP</tt><br/><tt>TMP</tt><br/><tt>TEMP</tt>
</td>
<td valign="baseline">
Specify the path to a directory that MOE will use for
temporary files (write permission is required).

MOE will try to access these environment variable
and where they are pointing to. If they are not defined or if they point to a
non-existing path, the next one in the following list will be used. The order is:
<tt>MOE_TMP</tt>, <tt>TMP</tt>, <tt>TEMP</tt> and hardcoded value
(<tt>/tmp</tt> or <tt>c:\Temp</tt>).

<p>This environment variable can be overwritten by the <a href="#-tmp"><tt>-tmp</tt>
command line argument</a> to MOE.

</tr>

<tr>
<td valign="baseline"><tt>DESKTOP</tt><br/><tt>DOWNLOADS</tt></td>
<td valign="baseline">
The <tt>DESKTOP</tt> and <tt>DOWNLOADS</tt> directories are two
fixed locations that can be used for downloading files.
Note that <tt>DESKTOP</tt> is not guaranteed to be set.
</tr>

<tr>
<td valign="baseline"><tt>MOE_SVL_STARTSCRIPT</tt></td>
<td valign="baseline">
Specifies an SVL script (list of SVL commands) to be executed when MOE
is started (but after the <tt>MOE_SVL_LOAD</tt> files have been loaded).
</tr>

</table>



<!-- ===================== License Info ===================== -->

<a name="LicenseInfo"></a>
<h2 class="legal">License Information</h2>

<p>Information about the current license, including expiration date,
version limit (maximum version of MOE that can be run under the
current license), and number of tokens, is given by the
<b>License Info</b> panel.
</p>

<blockquote>
<span class="menu">MOE | Help | License Info</span>
</blockquote>

<p>
<center>
<img src="install/licenseinfo.png" alt="License Info panel" />
</center>
</p>

<!-- ===================== MOE DOCUMENTATION ===================== -->

<a name="Documentation"></a>
<h2 class="legal">MOE Documentation</h2>

<p>Once MOE is installed and running, all of MOE's
documentation can be accessed from the <b>Help</b> menu in MOE's main menu bar
or by opening the <tt>$MOE/html/index.htm</tt> file.</p>


<!-- ===================== COMMON PROBLEMS ===================== -->

<a name="Trouble"></a>
<h2 class="legal">Common Problems</h2>

<ul>
  <li><a href="#Launch">MOE doesn't launch</a>
  <li><a href="#Flex">Error message: Can't check out license (##)</a>
  <li><a href="#Nolibgl">Error message: Cannot find libGL.so.1</a>
  <li><a href="#OpenGL">Problems using MOE with OpenGL drivers for Linux</a>
</ul>


<a name="Launch"></a>
<h3 class="legal">MOE doesn't launch</h3>

<p>
If MOE is not working properly, it means that there is a problem with one
or more of:

<ol>
<li>The MOE files or environment variables
<li>The software keys or license manager
<li>The graphics system
</ol>

<p>
Assuming that MOE has been installed in <tt>/usr/local/moe</tt>
for Unix systems and <tt>c:\moe</tt> for Windows systems,
the first step in troubleshooting is to launch <tt>moebatch</tt> with its
full path. On Linux and Mac OS X, type:

<pre>
    user% <b>/usr/local/moe/bin/moebatch -test</b>
</pre>

<p>On Windows, type:

<pre>
    c:\&gt; <b>c:\moe\bin\moebatch.exe -test</b>
</pre>

<p>After a few seconds, you should see something like

<pre>
    MOE 2014.09 appears OK (/usr/local/moe)
</pre>

<p>
where <tt>2014.09</tt> is the version of MOE and <tt>/usr/local/moe</tt>
is the MOE root directory.  If this message appears (alone) then it means
that the software installation and license management files seem to be in
working order.  If this does not appear or other messages are printed, it
means that there is a problem with either the MOE files installation or
the license management system.  First make sure that the license manager
file <tt>license.dat</tt> is correct and make sure that the <tt>lmgrd</tt>
program is running and using the same license information (you may need to
restart <tt>lmgrd</tt>).

<p>
If you were able to start moebatch, try starting <tt>moe</tt> using the
same method.  The MOE Window should appear briefly and the same
message printed to the terminal window.  If the <tt>moebatch</tt> test
worked but the <tt>moe</tt> test did not, then it is likely that there is
<a href="#Nolibgl">a problem</a> with <a href="#OpenGL">the graphics</a>.

<p>
If these tests work, try running <tt>moe</tt> or <tt>moebatch</tt> with the
<a href="#-std"><tt>-std</tt></a> switch.  If MOE runs, then it means that there is a problem
with local customization (menu files, default forcefields, new SVL code).



<a name="Flex"></a>
<h3 class="legal">Error message: Can't check out license (##)</h3>

<p>
This error message means that there is something wrong with the software key or
the license server.  First, make sure that your <tt>license.dat</tt> is correct
and that your key has not expired.  If your <tt>license.dat</tt> file is
correct and you have a valid license file, then consult the (##) in the error
message.  It is a code indicating the possible source of the problem:

<p>
<table>
<tr>
<td rowspan=2 valign="top" align="middle" width=65>
<font size=+1>-4</font>
<td bgcolor="#eeeeee"><b>Detail:</b><br/>
MOE cannot be used because all copies of the software
enabled by your license are already in use.
<tr>
<td><b>Resolution:</b><br/>
You can either wait until a copy of MOE is freed or contact
Chemical Computing Group to obtain additional copies. This error
message can also be caused by a copy of MOE that did not terminate properly
and therefore did not return the license it was using to the license server.
In this case, it may take up to two hours before the license server makes
the license available again.

<tr>
<td rowspan=2 valign="top" align="middle"><font size=+1>-8</font>
<td bgcolor="#eeeeee"><b>Detail:</b><br/>
The format of the license key is not recognized.
<tr>
<td><b>Resolution:</b><br/>
Make sure the contents of your license file match exactly the software key
sent to you by Chemical Computing Group.

<tr>
<td rowspan=2 valign="top" align="middle">
<font size=+1>-10</font>
<td bgcolor="#eeeeee"><b>Detail:</b><br/>
Your MOE license is expired.
<tr>
<td><b>Resolution:</b><br/>
Contact Chemical Computing Group to renew your license.

<tr>
<td rowspan=2 valign="top" align="middle"><font size=+1>-15</font>
<td bgcolor="#eeeeee"><b>Detail:</b><br/>
MOE cannot contact to the license server.
<tr>
<td><b>Resolution:</b><br/>
First, make sure the license server computer can be contacted using
<tt>telnet</tt> or <tt>ping</tt>. Next, verify that any firewall
between the computer running MOE and the license server allow connection on the port specified
by the SERVER line of the license file. Finally, confirm that lmgrd is running
by logging into the license server computer and listing all the active
processes.  If no process named <tt>lmgrd</tt> can be found then
the license manager needs to be started using the instructions provided for
your platform.

<tr>
<td rowspan=2 valign="top" align="middle"><font size=+1>-88</font>
<td bgcolor="#eeeeee"><b>Detail:</b><br/>
The date on the computer running MOE or the license manager has been set back.
<tr>
<td><b>Resolution:</b><br/>
Nothing can be done about this problem until the dates on the hard disk and
the system clock are consistent. The time difference is greater than
a day.

<tr>
<td rowspan=2 valign="top" align="middle"><font size=+1>-96</font>
<td bgcolor="#eeeeee"><b>Detail:</b><br/>
Server machine is not responding.
<tr>
<td><b>Resolution:</b><br/>
This problem usually occurs when the name of the license server is not
spelled correctly on the SERVER line of the license file. If this is not
the case then the license server is not running and needs to be
started using the instructions provided for your platform.

<tr>
<td rowspan=2 valign="top" align="middle"><font size=+1>-97</font>
<td bgcolor="#eeeeee"><b>Detail:</b><br/>
The desired vendor daemon (chemcompd) is down.
<tr>
<td><b>Resolution:</b><br/>
The path to chemcompd on the DAEMON line of the license file needs to be
updated. For example, if MOE is installed in directory <tt>/usr/local/moe</tt>
on a Unix system then the DAEMON line should read like this:
<pre>
    DAEMON chemcompd /usr/local/moe/bin/chemcompd
</pre>
On Windows, if MOE is installed in <tt>C:\moe</tt>, then the DAEMON line should
read like this:
<pre>
    DAEMON chemcompd c:\moe\bin-win64\chemcompd
</pre>
Or on older 32-bit Windows operating systems:
<pre>
    DAEMON chemcompd c:\moe\bin-i4w9\chemcompd
</pre>
Once the license is updated stop and restart the server. If the path to
chemcompd is valid but you still get this error, the problem is most likely
caused by a leftover lock file. Search the license server temporary directory
for a file named <tt>chemcompd.lock</tt> and delete it.
Stop and
restart the server using instructions provided for your
platform.
</table>

<p>
Please refer to the complete
<a href="fnp_LicAdmin.pdf">FlexNet Error Code Descriptions</a>
(Chapter 20 in the linked PDF)
to get more information about any error codes not described here.

<p>
If the problem persists, try restarting the <tt>lmgrd</tt> program on the
License Server and make sure it is using the same <tt>license.dat</tt> file as
the MOE you are trying to run.



<a name="Nolibgl"></a>
<h3 class="legal">Error message: Cannot find libGL.so.1</h3>

<p> Your Linux distribution may not contain the OpenGL libraries.
These can be obtained from a number of sources, most probably the Linux
distribution repositories. As a last resort,
consult the website of your graphics card manufacturer.


<a name="OpenGL"></a>
<h3 class="legal">Problems using MOE with OpenGL drivers for Linux</h3>

<p>I have installed the OpenGL drivers for Linux for my video card.
MOE starts fine, except the window is completely black with a few lines
defining the location of the menus, etc. I can't see any text including
the initializing message that usually appears in the window on startup.
If I choose the x11 option, I can see the text but nothing else.
How can I fix this problem?</p>

<p>Check that the correct graphics drivers for your graphics card are
installed.  For some graphics cards the drivers are not included in the
Linux distribution and have to be downloaded and installed separately.</p>

<noscript>
	<hr noshade="noshade" />
	<font size="2"> Copyright &copy; 1997&ndash;2015
	<a href="http://www.chemcomp.com">Chemical Computing Group Inc.</a> </font>
</noscript>
<div id="MoeFooter"></div>
</body>
</html>
