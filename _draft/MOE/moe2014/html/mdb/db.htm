<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">



<!--
!!    MOE Online Manuals
!!    COPYRIGHT (C) 1997-2015
!!        CHEMICAL COMPUTING GROUP INC.  ALL RIGHTS RESERVED.
!!-->

<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<script type="text/javascript" 
src="../include/jsincludes_moe.js"></script>

<link rel="stylesheet" type="text/css"
href="../include/manstyle.css" />


<meta panel Database Viewer />
<meta panel Database Viewer Field Color />
<meta panel Sort Database />
<meta panel Save Database As />
<meta panel Database Partial Charges />

<title>MOE Database Viewer</title>
</head>

<body>
<div id="MoeHeader"></div>
<noscript>
	<span class="warning">Warning: JavaScript is disabled. This page will not display correctly.</span>
	<h1 class="title">MOE Documentation</h1>
	<hr noshade="noshade" />
	<style>.LaTeX {color: #C08080;}</style>
</noscript>

<p>This chapter covers the basic operations performed on databases containing
numeric, text and molecular data entries in MOE.  For information
on creating databases, please consult the chapter on
<a href="dbedit.htm">Creating and Editing Databases</a>.
</p>

<p>
If you are looking for information on a specific menu or command, click on the 
links in the 
<a href="#QuickReference">Database Viewer Menu Bar</a> section. 

<ul>
  <li><a href="#Introduction">Introduction</a></li>
  <li><a href="#Mouse">Using the Mouse</a>
  <ul>
    <li><a href="#Popups">Database Popup Menus</a>
  </ul>

  <li><a href="#DisplayingAndEditingFields">Displaying and Editing Fields</a>
  <ul>
    <li><a href="#SelectingFields">Selecting Fields</a>
    <li><a href="#InvertClearFields">Inverting and Clearing Field Selection</a>
    <li><a href="#HideShowFields">Hiding and Showing Fields</a>
    <li><a href="#MovingFields">Moving Fields</a>
    <li><a href="#ColoringFields">Coloring Fields</a>
    <li><a href="#RenamingFields">Renaming Fields</a>
    <li><a href="#Precision">Adjusting the Precision of Numeric Data</a>
    <li><a href="#MultiLine">Displaying Multiple Lines per Entry</a>
    <li><a href="#Converting_Fields">Converting Fields</a></li> 
    <li><a href="#DeletingFields">Deleting Fields</a>
  </ul>

  <li><a href="#DisplayingAndEditingEntries">Displaying and Editing Entries</a>
  <ul>
    <li><a href="#SelectingEntries">Selecting Entries</a>
    <ul>
      <li><a href="#SelectingNumbers">Selecting Based on Numeric Data</a>
      <li><a href="#SelectingText">Selecting Based on Character Data</a>
      <li><a href="#SelectingMolecules">
		Selecting Based on Substructure Search of Molecular Data</a>
      <li><a href="#SelectingAllFields"> Selecting Based on Multiple Fields</a>
      <li><a href="#SelectingMore">Using More Than One Selection Criterion</a>
      <li><a href="#Select_Entries">Selecting Using the Field Popup</a>
    </ul>
    <li><a href="#InvertClearEntries">Inverting and Clearing Entry Selection</a>
    <li><a href="#HideShowEntries">Hiding and Showing Entries</a>
    <li><a href="#MovingEntries">Moving Entries</a>
    <li><a href="#SortingEntries">Sorting Entries</a>
    <li><a href="#DeletingEntries">Deleting Entries</a>
  </ul>

  <li><a href="#SpecifyingMolecularData">Specifying Molecular Data</a>
    <ul>
    <li><a href="#DisplayingMolecules">Displaying Molecules in the Database</a>
    <li><a href="#PartialCharges">Computing Partial Charges</a>
    <li><a href="#MinimizingMolecularStructures">Minimizing Molecular Structures</a>
    </ul>

  <li><a href="#PlottingDatabaseValues">Database Plot</a>
    <ul>
    <li><a href="#Zoom">Zooming In and Out</a>
    <li><a href="#PlotPopup">Database Plot Popup Menus</a>
    <li><a href="#SelectingPlot">Selecting Data Points and Entries</a>
    <li><a href="#InvertClearPlot">Inverting and Clearing Selections</a>
    <li><a href="#LinesMarkers">Adjusting the Plot Display</a>
    <li><a href="#ClearPlot">Clearing the Plot Area</a>
    </ul>

  <li><a href="#Saving">Saving Databases</a>
<!-- PACK
  <ul>
    <li><a href="#Packing">Packing/Unpacking Conformational Databases</a>
  </ul>
-->
  <li><a href="#SVL">SVL Commands</a>
  <li><a href="#QuickReference">Database Viewer Menu Bar</a>
</ul>


<h2><a name="Introduction">Introduction</a></h2>


<p>Databases are useful for storing the output of any process that
generates a large amount of data. Some examples in MOE are: Molecular
Dynamics, Conformational Search, Docking, Pharmacophore Search,
Protein Homology Modeling and PDB Search.
MOE's QuaSAR and Diversity Analysis tools also use databases.  MOE
applications commonly use databases to provide input and return output.
Should you need to write an SVL application, it is likely that you will
need to use a database.
</p>

<p>The Database Viewer displays database files. MOE database filenames 
typically end with the extension <tt>.mdb</tt>. Files of various 
<a href="dbio.htm">database formats</a> can be imported and exported. 
The Database Viewer is also used to create and modify databases within MOE. 
</p>


<p>The MOE interface provides several ways of opening the Database Viewer. 
Choose <nobr><b>File | Open</b> </nobr>
in the <a href="../moe/gui/mainwin.htm">MOE Window</a> or
<a href="../moe/gui/se.htm">Sequence Editor</a> to open
an existing database.  Choose
<span class="nobr"><b>File | New | Database</b></span>
or <span class="nobr"><b>DBV | File | New</b></span> in
the Database Viewer
to create a new database.  The Database Viewer
<span class="nobr"><b>DBV | File | Open</b></span> command can
be used both to open an existing database and to create a new one.
</p>


<p>A database file can be viewed in a single Database Viewer at any given
time.  Trying to view a database already open in another viewer simply
brings this Database Viewer window to the foreground.  
</p>

<p><b>Warning!</b> The Database Viewer is a direct view of the data on disk.
A change made to data in the Database Viewer <i>immediately</i> updates the
disk file. No backups are made, and there is no undo. Previous data can be
irrevocably lost.
</p>

<p><b>Warning!</b> Do not try to view the same database simultaneously from two
different sessions of MOE.  Doing so may irretrievably corrupt the database.
</p>

<p>The <a href="#QuickReference">menu bar</a> heading the Database Viewer
provides direct access to most commonly used commands, applications and
tools. The window includes a <a href="../moe/hellomoe.htm#CLI">command
line interface (CLI)</a>, which is used to enter SVL commands and also
serves as a prompt area for editing commands such as 
<span class="nobr">DBV | Edit | New | Field</span>. 
The <a href="../moe/gui/mainwin.htm">Cancel menu</a>
in the top right corner of the window allows you to halt any tasks running
in MOE.
</p>

<p>Alternate rows in the Database Viewer can be colored to
enhance visualization.  The coloring is controlled by
the Row Color option menu in the
<a href="../appendix/settings.htm">Configuration&nbsp;Options</a> panel.
</p>

<center>
<p><img src="db/db.png" alt="Data Area in Database Viewer">
</center>

<p>A MOE molecular database is a binary file that stores a list of data
records, called <em>entries</em>.  Rows represent the entries, where the
leftmost column indicates entry numbers (i.e. row number).  Each
entry is composed of a list of values, called <em>fields</em>, that have
an associated name and data type.  Columns represent the fields. Each
field has a name, or label, which is unique within the database.  The
Database Viewer provides the option of displaying numerical fields in a
plot area below the data area (<nobr><b>DBV | Footer | Plot icon</b></nobr>).
</p>


<p>Data cells store character or numeric data values as well as 3D
conformations of molecules.  When a molecular field is a single 
character high,
MOE displays the compound name instead of the line drawing.  Cells can be
resized by dragging the left mouse button within a cell.  Modifying the
width of a cell modifies the width of the whole field without affecting
other fields.  Conversely, modifying the height of a cell modifies the
height of every cell (i.e. every row) in the Viewer.
</p>

<p>
The font size of the data area in the 
Database Viewer can be changed with the zoom
wheel in the right corner of the footer. The <b>R</b>eset button will restore
the default size. 
<center>
<img src="db/dbzoom.png" alt="Database Viewer Footer with Zoom Wheel">
</center>
</p>

<p>
To move within a large database, use the attached scroll bars or
the mouse wheel. Alternatively, one can press the <tt>PageUp</tt> and
<tt>PageDown</tt> keys to move one page up or down each time; the
<tt>Up</tt> and <tt>Down</tt> arrow keys can be used to move by
one entry row at a time.
</p>

<a name="Mouse"></a><h2>Using the Mouse</h2>

<p>In general, the left mouse button is used to select fields and entries,
and to edit and resize cells.  The middle mouse button is used to modify
the view of molecules inside the molecule cells. (Use the right button if
you are using a <a href="../moe/gui/mouse.htm">two-button mouse</a>.)
The functionality of the mouse depends
on the location of the cursor in the database.
</p>

<p><center>
<table class="titlebar" border="1" cellpadding="5">

  <tr>
    <th>To:</th>
    <th>With the Mouse:</th>
  </tr>

  <tr>
    <td valign="top">Resize cell
    <td valign="top">
	Drag left within the cell, or<br>
	drag the row/column borders
  </tr>
  <tr>
    <td valign="top">Rotate molecule in cell
    <td valign="top">Drag middle
  </tr>

  <tr>
    <td valign="top">Zoom in/out molecule in cell
    <td valign="top"><tt>Ctrl</tt> - drag middle
  </tr>

 <tr>
    <td valign="top">Edit non-molecular cell contents
    <td valign="top">Double-click
  </tr>

  <tr>
    <td valign="top">Copy molecule to the MOE Window
    <td valign="top">Double-click
  </tr>
</table></center>
</p>


<a name="Popups"></a><h3>Database Popup Menus</h3>
<p>The Database Viewer includes several popup menus that provide shortcuts
for performing certain operations.  Press the 
<a href="../moe/gui/mouse.htm#MousePopupButton">
mouse popup button</a> over each of 
the following objects to display their relative popup options:
</p>

<div class="floatright">
<img src="db/popup_marker.png" alt="Mouse Over Popup Marker">
<p class="caption">Popup Marker in Cell Corner</p>
</div>

<p><table cellpadding="5">
<tr>
<td valign="top" bgcolor="#cccccc">
<a href="#FieldPopup"><b>Field</b></a>
<td valign="top">Top row (field labels)
</tr>

<tr><td valign="top" bgcolor="#cccccc">
    <a href="#EntryPopup"><b>Entry</b></a>
<td valign="top">Leftmost column (entry numbers) 
</tr>

<tr><td valign="top" bgcolor="#cccccc">
    <a href="dbedit.htm#EditingMoleculeCells"><b>Molecule Cell</b></a>
<td valign="top">Cell containing molecular data 
</tr>

<tr><td valign="top" bgcolor="#cccccc">
    <a href="dbedit.htm#EditingNumericAndCharacterCells"><b>Cell</b></a>
<td valign="top">Cell containing numeric or character data
</tr>

<tr><td valign="top" bgcolor="#cccccc">
    <a href="#PlotPopup"><b>Plot</b></a>
<td valign="top">Plot area (over graph or ruler) 
</tr>
</table>

<p>
Alternatively, the popup menus can be opened with the popup marker in the
top right/left corner of the cell or entry/field labels. The popup marker
appears faint in the cell when the mouse enters the cell. Once the mouse
is over the marker it becomes active bold and can be pressed with the left
mouse button to open the popup menu. The popup markers can disabled in the
<a href="../appendix/settings.htm#DatabaseViewer">Configuration Options</a>.
</p>

<h2><a name="DisplayingAndEditingFields"></a>Displaying and Editing Fields</h2>

<p>
Fields hold character, numeric or molecular data. Note that a field may
contain only a single kind of data. Operations on fields are performed
using the Edit and Display menus and the Field Popup.
To open the Field
Popup, position the cursor over a field name and press the mouse popup
button or click on the popup marker.
</p>

<p>
<table cellspacing="5">
<tr bgcolor="#cccccc">
<td valign="top" align="center"><b>DBV | Edit</b>
<td valign="top" align="center"><b>&nbsp;DBV | Display | Field&nbsp;</b>
<td valign="top" align="center"><b><a name="FieldPopup">Field Popup</a></b>
</tr>
<tr>
<td valign="top"><a href="dbedit.htm#CreatingFields">New | Field</a>
<td valign="top"><a href="#HideShowFields">Hide Selected</a>
<td valign="top"><a href="#InvertClearFields">Selection</a>
</tr>
<tr>
<td valign="top"><a href="dbedit.htm#CopyPaste">Copy</a>
<td valign="top"><a href="#HideShowFields">Hide Unselected</a>
<td valign="top"><a href="#HideShowFields">Display</a>
    (<a href="#MultiLine">Multi-line</a>,
    <a href="#Precision">Precision</a>,
    <a href="#DisplayingMolecules">Molecule</a>)
</tr>
<tr>
<td valign="top"><a href="dbedit.htm#CopyPaste">Paste</a>
<td valign="top"><a href="#HideShowFields">Invert All</a>
<td valign="top"><a href="#MovingFields">Move</a>
</tr>
<tr>
<td valign="top"><a href="#DeletingFields">Delete | Selected Fields</a>
<td valign="top"><a href="#HideShowFields">Show All</a>
<td valign="top"><a href="#ColoringFields">Color</a>
</tr>
<tr>
<td valign="top"><a href="#MovingFields">Move | Selected Fields</a>
<td valign="top">&nbsp;
<td valign="top"><a href="#PlottingDatabaseValues">Plot</a>
(Numeric fields only)
</tr>
<tr>
<td valign="top"><a href="#ColoringFields">Color</a>
<td valign="top">&nbsp;
<td valign="top"><a href="#RenamingFields">Rename</a>
</tr>
<tr>
<td valign="top"><a href="#RenamingFields">Rename</a>
<td valign="top">&nbsp;
<td valign="top"><a href="dbedit.htm#Duplicate">Duplicate</a>
</tr>
<tr>
<td valign="top"><a href="#InvertClearFields">Invert | Field Selection</a>
<td valign="top">&nbsp;
<td valign="top"><a href="#Converting_Fields">Convert To</a>
</tr>
<tr>
<td valign="top"><a href="#InvertClearFields">Clear | Field Selection</a>
<td valign="top">&nbsp;
<td valign="top"><a href="#DeletingFields">Delete</a>
</tr>
<tr>
<td valign="top"><a href="#InvertClearFields">Select All | Fields</a>
<td valign="top">&nbsp;
<td valign="top"><a href="dbedit.htm#CreatingFields">New</a>
</tr>
<tr>
<td valign="top">&nbsp;
<td valign="top">&nbsp;
<td valign="top"><a href="#SortingEntries">Sort</a>
</tr>
<tr>
<td valign="top">&nbsp;
<td valign="top">&nbsp;
<td valign="top"><a href="#SelectingEntries">Select</a>
</tr>
<tr>
<td valign="top">&nbsp;
<td valign="top">&nbsp;
<td valign="top"><a href="#SelectingFields">Select Fields</a>
</tr>
<tr>
<td valign="top">&nbsp;
<td valign="top">&nbsp;
<td valign="top"><a href="#Select_Entries">Select Entries</a>
</tr>
<tr>
<td valign="top">&nbsp;
<td valign="top">&nbsp;
<td valign="top"><a href="dbedit.htm#MoleculeNames">Name</a>
(Molecule fields only)
</tr>
</table>

<h3><a name="SelectingFields"></a>Selecting Fields</h3>

Selecting fields can be done with the mouse:


<p><center>
<table class="titlebar" border="1" cellpadding="5">
<tr>
<th>To:</th>
<th>With the Left Mouse Button:</th>
</tr>
<tr>
<td valign="top">Select one field
<td valign="top">Click on field name.  This will deselect all other fields.
</tr>
<tr>
<td valign="top">Toggle selection state of field
<td valign="top"><tt>Ctrl</tt> - click on field name
</tr>
<tr>
<td valign="top">Select range of fields
<td valign="top">Click (or <tt>Ctrl</tt> - click) on first field name and
<tt>Shift</tt> - click on second field name
</tr>

</table></center>

<p>You can also use the <b>Select Fields</b> command in the
<span class="nobr"><b>DBV | Field Popup</b></span> menu
which displays a prompter in the CLI. 
Fields matching the selection criteria can be combined
with the current field selection using either the
<span class="menu">Add To</span>, <b>Intersect</b>,
<span class="menu">Remove</span>, or
<span class="menu">Replace</span> options.
Selection is based on field names or types.
If selecting
by <b>Field Name</b>, names are matched to the specified
pattern.  If selecting by <b>Field Type</b> then all fields of the 
specified type will be considered for selection.
Set the
selection criteria and press <b>Apply</b> to perform the operation.
<p>

<p><center>
<img src="db/selectfield.png" alt="Select Fields Prompt">
</center>

<p>
<ul class="help">
<li class="help">
For more on combining selections, please see
<a href="#SelectingMore">Using More Than One Selection Criterion</a>.
Although this section is found under Selecting Entries,
the information applies equally well to fields.
</li>
</ul>
</p>


<h3><a name="InvertClearFields"></a>Inverting and Clearing Field Selection</h3>

<p>
The invert and clear field selection commands operate on all fields.
To invert the selection means to deselect fields that are currently 
selected and select those that are not selected.
To clear the selection means to deselect all fields in the database.
There is also a command to select all fields.  The commands are
duplicated in the
<span class="nobr"><b>DBV | Edit</b></span> and
<span class="nobr"><b>Field Popup | Selection</b></span> menus
and are summarized in the following table:
</p>

<center>
<table class="titlebar" border="1" cellpadding="3">
<tr>
<th>Operation</th>
<th><span class="nobr"><b>DBV | Edit</b></span></th>
<th><span class="nobr"><b>Field Popup | Selection</b></span></th>
</tr>

<tr>
<td>
Invert field selection
</td>
<td>
<span class="nobr"><b>Invert | Field Selection</b></span>
</td>
<td>
<span class="nobr"><b>Invert</b></span>
</td>
</tr>

<tr>
<td>
Clear field selection
</td>
<td>
<span class="nobr"><b>Clear | Field Selection</b></span>
</td>
<td>
<span class="nobr"><b>Clear</b></span>
</td>
</tr>

<tr>
<td>
Select all fields
</td>
<td>
<span class="nobr"><b>Select All | Fields</b></span>
</td>
<td>
<span class="nobr"><b>Select All</b></span>
</td>
</tr>

</table>
</center>

<p>
The top left corner button, which connects the field and entry labels,
can be also used to clear the field selection or select all fields.
If pressed, any field and entry selection will be cleared and if nothing
is selected the press will select all fields and entries.
</p>

<h3><a name="HideShowFields"></a>Hiding and Showing Fields</h3>

<p>The display of individual and multiple fields is controlled using
the <span class="nobr"><b>DBV | Display | Field</b></span> and
<span class="nobr"><b>DBV | Field Popup | Display</b></span> menus.
Field selection can be used to determine which fields to
hide or show.  An individual field can be hidden using that field's
popup menu.  The
<span class="nobr"><b>Show All</b></span> and
<span class="nobr"><b>Invert All</b></span> commands
operate on all fields.  The invert operation toggles the display
state of all fields so that hidden fields become shown and vice-versa.
The commands are summarized in the following table.
</p>

<p><b>Note:</b> Hidden fields cannot be selected.</p>

<center>
<table class="titlebar" border="1" cellpadding="3">
<tr>
<th>Operation</th>
<th><span class="nobr"><b>DBV | Display | Field</b></span></th>
<th><span class="nobr"><b>Field Popup | Display</b></span></th>
</tr>

<tr>
<td>
Hide individual field (without using field selection)
</td>
<td>
&nbsp;
</td>
<td>
<span class="nobr"><b>Hide Field</b></span>
</td>
</tr>

<tr>
<td>
Hide selected fields
</td>
<td>
<span class="nobr"><b>Hide Selected</b></span>
</td>
<td>
<span class="nobr"><b>Hide Selected</b></span>
</td>
</tr>

<tr>
<td>
Hide unselected fields
</td>
<td>
<span class="nobr"><b>Hide Unselected</b></span>
</td>
<td>
<span class="nobr"><b>Hide Unselected</b></span>
</td>
</tr>


<tr>
<td>
Invert field display
</td>
<td>
<span class="nobr"><b>Invert All</b></span>
</td>
<td>
<span class="nobr"><b>Invert All</b></span>
</td>
</tr>

<tr>
<td>
Show all fields
</td>
<td>
<span class="nobr"><b>Show All</b></span>
</td>
<td>
<span class="nobr"><b>Show All</b></span>
</td>
</tr>

</table>
</center>

<h3><a name="MovingFields"></a>Moving Fields</h3>

<p>Single fields can be repositioned in the Database Viewer, as follows:
</p>

<ol>
<li>Position the cursor over the field to move.
<li>Press and hold the middle mouse button and drag the field to
the new position. During the move, the field label is marked by
a red rectangle.
</ol>

<p>Or</p>

<ol>
<li>Position the cursor over the field to move (the field need not be selected).
<li>Choose <span class="menu">Field Popup | Move</span>.
<li>The cursor changes to a crosshair, and the CLI prompts you to select
the new position of the field.

<li>Click on the new position. The field is moved to the new location.
Other fields are shifted to the right to make space for the new field.
</ol>

<p>Multiple fields are moved in a similar manner:
</p>

<ol>
<li>Select the fields to reposition.</li>
<li> Choose <span class="menu">Field | Popup | Selection | Move</span>.</li>
<li>Click on the new position.  All selected fields are inserted at the
new location and the displaced fields are moved right.</li>
</ol>

<p>
<b>Note:</b> Fields in read-only databases cannot be moved.
</p>

<h3><a name="ColoringFields">Coloring Fields</a></h3> 

<p>The 
<span class="nobr"><b>Field Popup | Color</b></span> command opens the
field coloring panel:
</p>

<center>
<img src="db/dbcolor.png" alt="Field Coloring Panel" />
</center>

<p>

<table cellpadding="5">
<tr>
<td valign="top" width="25%"><b>Database</b>
</td>
<td valign="top">Path and filename of the database to operate on.
</tr>

<tr>
<td valign="top"><b>Color</b>
</td>
<td valign="top">Specify whether the color is to be applied to the
background or foreground of the cells of the specified field;
the default is <b>Background</b>.
For <tt>'molecule'</tt> fields, only background coloring
is available.  Foreground refers to text coloring.
</td>
</tr>

<td valign="top"><b>of Field</b>
</td>
<td valign="top">Target field to which the coloring rule will be applied.
<br /><br />
</td>
</tr>

<tr>
<td valign="top" colspan="2">
<b>Coloring schemes.</b>
There are three possible coloring schemes.  Exactly one scheme can be in
effect for any given field.  For <tt>'molecule'</tt> fields only, coloring
by cell value is not available.  The schemes are as follows:
</td>
</tr>

<tr>
<td valign="top" style="text-indent: 3em"><b>Cell</b>
</td>
<td valign="top">The coloring of each cell depends on the value of the cell
contents.  Options for coloring all cells or just the empty ones are
available for both numeric and character fields.
If the field contains numeric data, options for coloring based on
comparison to a specified value are available.
In addition, a <b>range</b> option provides the ability to calculate
a color gradient over a range of values.  The endpoints of the
range and their associated colors can be specified.  Values beyond the endpoints
are assigned the endpoint colors.
If the field contains character data, coloring can be based on matching or
not matching a <a href="../svl/fcnref/findetc.htm">pattern</a>.
This option is not available for molecule fields.
</td>
</tr>

<tr>
<td valign="top" style="text-indent: 3em">
<span class="nobr"><b>Inherit color from field</b></span>
</td>
<td valign="top">
Use the same coloring scheme as that of another field.  The coloring
scheme cannot be inherited from molecule fields.
</td>
</tr>
<tr>
<td valign="top" style="text-indent: 3em">
<span class="nobr"><b>Edit color rule directly</b></span>
</td>
<td valign="top">
The <a href="../moe/fcnref/dbcolor.htm">coloring expression</a>
currently in effect is displayed in the
text field.
If this option is enabled, the coloring expression can
be edited or a new expression entered.
The bubblehelp on the text field offers a few representative
examples of coloring expression syntax.
When there is a syntax error, the text color turns red, and its 
bubblehelp will show the error message.
</td>
</tr>

<tr>
<td valign="top"><b>Apply</b>
</td>
<td valign="top">Puts the coloring rules into effect.
</td>
</tr>

<tr>
<td valign="top"><b>Clear</b>
</td>
<td valign="top">Clears the coloring rule for the foreground or background,
as specified in the <b>Color</b> options, of the specified field.  The
foreground or background will revert to the default MOE foreground or
background color.
</td>
</tr>

</table>

<h3><a name="RenamingFields">Renaming Fields</a></h3> 

<p>A field can be renamed in the Database Viewer using either
<span class="nobr"><b>DBV | Edit | Rename</b></span> or
<span class="nobr"><b>Field Popup | Rename</b></span>.
When renaming using the Edit menu, you will be prompted to pick
the field to rename.  Otherwise the field from which the
popup was issued will be renamed.  The CLI area will display
a prompter where the new name can be entered.  Press <b>Apply</b>
or <tt>Enter</tt> to put the new name into effect.
The new name must be unique.
</p>

<center>
<img src="db/rename_prompt.png" alt="CLI Rename Prompter" />
</center>

<h3><a name="Precision"></a>Adjusting the Precision of Numeric Data</h3>

<p>
You can adjust the precision of numeric data displayed in a given numeric
field by using that field's
<span class="nobr"><b>Field Popup | Display</b></span>
menu controls.  Note that the precision is for display purposes
only and does not modify the values stored in the database.
The precision display information is retained and saved with the database,
unless it was opened in read-only mode.
</p>

<center>
<img src="db/precision.png" alt="Field Popup Precision Menu Options" />
</center>

<h3><a name="MultiLine"></a>Displaying Multiple Lines per Entry</h3>

<p>Numeric fields can contain one or more data items, provided data is of
the same type.  Multiple numeric entries are entered into a single
cell as space-separated values.  For example, to
<a href="dbedit.htm#EditingNumericAndCharacterCells">add a value</a> to
an existing cell, double-click in the cell then in the Edit prompter
insert a space and enter the new value.  In a new entry (e.g. in the
<a href="dbedit.htm#AddingEntries">Add Entry</a> panel), enter the values
with spaces in between them.
</p>

<p>The data items can be displayed all on one line or one per line
using the <span class="nobr"><b>Field Popup | Display | Multi-line</b></span>
command.
This option also allows long
character strings to wrap instead of being truncated.
</p>

<p>Use the left mouse button to resize the data cell to see all the data lines.
The multi-line attribute is retained and saved with the database,
unless it was opened in read-only mode.
</p>

<h3><a name="Converting_Fields">Converting Fields</a></h3> 

<p>Molecule, numeric and character fields can be converted to other
formats using the
<span class="nobr"><b>Field Popup | Convert To</b></span> submenus.
The conversions are summarized in the following table:
</p>

<center>
<table class="titlebar" border="1" cellpadding="3">
<tr>
<th>Original Field Type</th>
<th>Convert To</th>
<th>Resulting Field Type</th>
</tr>

<tr>
<td rowspan="3">Molecule
</td>
<td>SMILES</td>
</td>
<td>Character
</td>
</tr>

<tr>
<td>2D Depiction</td>
</td>
<td>Molecule
</td>
</tr>

<tr>
<td>MOE</td>
</td>
<td>Extended Molecule
</td>
</tr>

<tr>
<td rowspan="5">Character
</td>
<td>Integer</td>
</td>
<td>Numeric
</td>
</tr>

<tr>
<td>Single Real</td>
</td>
<td>Numeric (4-byte IEEE floating point)
</td>
</tr>

<tr>
<td>Double Real</td>
</td>
<td>Numeric (8-byte IEEE floating point)
</td>
</tr>

<tr>
<td>2D Depiction</td>
</td>
<td>Molecule (provided field data are SMILES strings)
</td>
</tr>

<tr>
<td>MOE Molecule</td>
</td>
<td>Extended Molecule (provided field data are SMILES strings)
</td>
</tr>

<tr>
<td rowspan="5">Numeric
</td>
<td>Single Real</td>
</td>
<td>Numeric (4-byte IEEE floating point)

<tr>
<td>Double Real</td>
</td>
<td>Numeric (8-byte IEEE floating point)
</td>
</tr>

<tr>
<td>Integer</td>
</td>
<td>Numeric
</td>
</tr>

<tr>
<td>Character</td>
</td>
<td>Character
</td>
</tr>

<tr>
<td>Byte</td>
</td>
<td>Numeric (8-bit value in the range [<tt>-128</tt>..<tt>127</tt>] inclusive)
</td>
</tr>

</table>
</center>

<h3><a name="DeletingFields">Deleting Fields</a></h3> 

<p>The deletion of multiple fields is controlled using the
<span class="nobr"><b>DBV | Edit | Delete | Selected Fields</b></span>
command or the
<span class="nobr"><b>Field Popup | Selection | Delete Selected</b></span>
command.
These commands use field selection to determine which fields to delete.
The <span class="nobr"><b>Field Popup | Delete</b></span> command
can be used to delete individual fields.  In all cases, you will be
asked to confirm the operation.
</p>

<center>
<table class="titlebar" border="1" cellpadding="3">

<tr>
<th>Command</th>
<th>Description</th>
</tr>

<tr>
<td>
<span class="nobr"><b>DBV | Edit | Delete | Selected Fields</b></span>
</td>
<td>
Delete selected fields.  This command is unavailable when no
fields are selected.
</td>
</tr>

<tr>
<td>
<span class="nobr"><b>Field Popup | Selection | Delete Selected</b></span>
</td>
<td>
Delete selected fields.  This command is unavailable when no
fields are selected.
</td>
</tr>

<tr>
<td>
<span class="nobr"><b>Field Popup | Delete</b></span>
</td>
<td>
Delete the current field (i.e. where the popup was issued).
The field need not be selected.
</td>
</tr>

</table>
</center>

<p><b>Caution!</b> These commands delete fields from the 
database file, and are not to be confused with the
<a href="#HideShowFields">Hide Field</a> command. 
Deleted fields cannot be recovered as no temporary backups are made.
</p>


<h2>
<a name="DisplayingAndEditingEntries"></a>Displaying and Editing Entries</h2>

<p>A database entry is a set of data fields, which are displayed 
along one row of the Database Viewer. 
Each entry is identified by an entry (row) number to the 
left of its data fields. 

<p><b>Note:</b> The entry number is not the same as the <i>entry key</i>, 
an identifier unique within a given database that is used to reference 
an entry when using SVL calls.  To obtain the list
of entry keys of a database, use
<a class="svl" href="../moe/fcnref/db_entry.htm#db_Entries">db_Entries</a>.

<p>Operations on entries are performed using the mouse, the Edit menu or
the Entry Popup.  To display the Entry Popup, position the cursor over an
entry number and press the mouse popup button or click on the popup marker
in the top right corner of each entry label.

<p>
<table cellspacing="5">
<tr bgcolor="#cccccc">
<td valign="top" align="center"><b>DBV | Edit</b>
<td valign="top" align="center"><b>&nbsp;DBV | Display | Entry&nbsp;</b>
<td valign="top" align="center"><b><a name="EntryPopup">
	&nbsp;Entry Popup&nbsp;</a></b>
</tr>
<tr>
<td valign="top"><a href="dbedit.htm#AddingEntries">New | Entry</a>
<td valign="top"><a href="#HideShowEntries">Hide Selected</a>
<td valign="top"><a href="#InvertClearFields">Selection</a>
</tr>
<tr>
<td valign="top"><a href="dbedit.htm#CopyPaste">Copy</a>
<td valign="top"><a href="#HideShowEntries">Hide Unselected</a>
<td valign="top"><a href="#HideShowEntries">Display</a>
</tr>
<tr>
<td valign="top"><a href="dbedit.htm#CopyPaste">Paste</a>
<td valign="top"><a href="#HideShowEntries">Invert All</a>
<td valign="top"><a href="#MovingEntries">Move</a>
</tr>
<tr>
<td valign="top"><a href="#DeletingEntries">Delete | Selected Entries</a>
<td valign="top"><a href="#HideShowEntries">Show All</a>
<td valign="top"><a href="dbedit.htm#Duplicate">Duplicate</a>
</tr>
<tr>
<td valign="top"><a href="#MovingEntries">Move | Selected Entries</a>
<td valign="top">&nbsp;
<td valign="top"><a href="#DeletingEntries">Delete</a>
</tr>
<tr>
<td valign="top"><a href="#SelectingEntries">Select</a>
<td valign="top">&nbsp;
<td valign="top"><a href="dbedit.htm#AddingEntries">New</a>
</tr>
<tr>
<td valign="top"><a href="#InvertClearEntries">Invert | Entry Selection</a>
<td valign="top">&nbsp;
<td valign="top">&nbsp;
</tr>
<tr>
<td valign="top"><a href="#InvertClearEntries">Clear | Entry Selection</a>
<td valign="top">&nbsp;
<td valign="top">&nbsp;
</tr>
<tr>
<td valign="top"><a href="#InvertClearEntries">Select All | Entry Selection</a>
<td valign="top">&nbsp;
<td valign="top">&nbsp;
</tr>
</table>

<h3><a name="SelectingEntries"></a>Selecting Entries</h3>

Selecting entries can be done with the mouse:

<p><center>
<table class="titlebar" border="1" cellpadding="5">
<tr>
<th>To:</th>
<th>With the Left Mouse Button:</th>
</tr>
<tr>
<td valign="top">Select one entry
<td valign="top">Click on entry number.  This will deselect all other entries. 
</tr>
<tr>
<td valign="top">Toggle selection state of entry
<td valign="top"><tt>Ctrl</tt> - click on entry number
</tr>
<tr>
<td valign="top">Select range of entries
<td valign="top">Click (or <tt>Ctrl</tt> - click) on first entry number and
<tt>Shift</tt> - click on second entry number

</tr>

</table></center>

<p>Entry selection can also be performed using the
<span class="menu">DBV | Edit | Select</span> and
the <span class="menu">Field Popup | Select</span> commands, both of which
open the selection panel:

<p align="center">
<img src="db/selectpanel.png" alt="Select/find panel" /></p>

This panel allows the user to select one or more database entries or find
cells (or entries) that satisfy the Selection Criteria.  When
multiple fields of the appropriate type are present in a database entry,
they are searched in turn.  In such cases, the search is considered
successful if any field matches the Selection Criteria.

<table cellpadding="5">
<tr>
<td valign="top">
<b>Field Menu</b>
<td valign="top">
Specifies the field(s) to be used for the search.  Fields must be
visible to be used.

<table cellpadding="5">
<tr>
<td valign="top">
<b>All Fields</b>
<td valign="top">
Search all fields of the database, performing text, numeric and substructure
searches as appropriate.  Can involve multiple data fields.
<tr>
<td valign="top">
<b>Molecule Fields</b>
<td valign="top">
Use a <a href="../quasar/fcnref/descrfcn.htm#DescriptorExprSyntax">
Descriptor Filter</a> to search all molecule fields in a database entry.
With multiple fields, only one must satisfy the Filter for success.
<tr>
<td valign="top">
<b>Substructure</b>
<td valign="top">
Search all molecule and MOE fields of the database by substructure.  This
can be defined as a
<a href="../moe/molsystems/smiles.htm#Substructure_Matching">SMARTS</a>
string or via a <a href="../moe/sketcher.htm">Sketcher</a> program.
<tr>
<td valign="top">
<b>Text Fields</b>
<td valign="top">
Search all character fields of the database by string or substring
<a href="../svl/fcnref/findetc.htm">matching</a>.
The search can be case-sensitive if desired.
<tr>
<td valign="top">
<b>Number Fields</b>
<td valign="top">
Search all numeric fields (int, float or double) by value or range of values.
</table>

Searches can also be performed on individual data fields.  For individual
molecule or MOE fields, either a Descriptor Filter or sketched query search
can be performed.

<tr>
<td valign="top">
<b>Selection Criteria</b>
<td valign="top">
The selection criteria that must be satisfied.  If blank, valid
possibilities are shown as
hints.  The shortcuts contain the last successful searches for the type of
field(s) being searched.  Selecting the <font color="red">X</font> clears
the Selection Criteria.

<tr>
<td valign="top">
<b>Select</b>
<td valign="top">
Specifies how the current field selection state should be
modified based on the current selection:

<table cellpadding="5">
<tr>
<td valign="top">
<b>Add To</b>
<td valign="top">
Any entry satisfying the Selection Criteria will
be selected in the Database Viewer.

<tr>
<td valign="top">
<b>Intersect</b>
<td valign="top">
Any entry satisfying the Selection Criteria will
be selected in the Database Viewer only if it is already selected.

<tr>
<td valign="top">
<b>Remove</b>
<td valign="top">
Any entry satisfying the Selection Criteria will
be deselected in the Database Viewer.

<tr>
<td valign="top">
<b>Replace</b>
<td valign="top">
Any entry satisfying the Selection Criteria will
be selected in the Database Viewer. Any entry not satisfying the
criteria will be deselected.
</table>

<tr>
<td valign="top">
<b>Selected fields</b>
<td valign="top">
If on, the search will be restricted to the selected fields of the database.
Fields must be visible to be selected.

<tr>
<td valign="top">
<b>Exact</b>
<td valign="top">
By default, text searches look for the specified substring.  If <b>Exact</b>
is on, the complete text string must match.

<tr>
<td valign="top">
<b>Case</b>
<td valign="top">
By default, text searches are case-independent.  If <b>Case</b> is on, the
text must match the specific case of the Selection Criteria.
</table>

Press <b>Select</b> to find all database entries that satisfy the
Selection Criteria.  The <b>Select</b> menu determines how the selection
state of the database will change.  This is described
<a href="#SelectingMore">below</a>.
Press <span class="nobr"><b>Find Next</b></span> to find the next
occurrence of the Selection Criteria in the database.  If the search involves
a single field, the cell will be highlighted.  Otherwise, the entry will be
highlighted.
Press <span class="nobr"><b>Find Previous</b></span> to find the
previous occurrence of the Selection Criteria in the database.

If <span class="menu">Field Popup | Select</span> is used,
<span class="nobr"><b>All Fields</b></span> is replaced by the specific
field name.  Character data is selected using pattern matching,
numeric data using comparisons, and molecular data
using substructure searching.  Relational operators are similar to those
used by the
<a href="../quasar/fcnref/descrfcn.htm#DescriptorExprSyntax">
Descriptor Filter.</a>  The following sections describe in detail
how to specify the selection criteria.
</p>

<a name="SelectingNumbers"></a><h4>Selecting Based on Numeric Data</h4>

In the Field Menu, select All Fields, Number Fields or a numeric
data field. Use a Selection Criteria of the form <i>op&nbsp;number</i>,
where <i>op</i> is one of
<tt>=, &lt;&gt;, &lt;, &gt;, &lt;=, &gt;=</tt> or <tt>!</tt> and
<i>number</i> is a numeric value. If <i>op</i> is omitted, it is
assumed to be <tt>=</tt>.  <tt>!</tt> is the not operator, equivalent
to <tt>&lt;&gt;</tt>.  A range of values can be defined by using a
Selection Criteria of the form
<span class="nobr">[<i>low,high</i>]</span>, where <i>low</i>
and <i>high</i> are numeric values with <i>low</i>&nbsp;&lt;&nbsp;<i>high</i>.


<p><b>Note:</b> If a numeric entry has multiple data items, all of its
values must satisfy the Selection Criteria for the comparison to be
successful.
</p>

<a name="SelectingText"></a><h4>Selecting Based on Character Data</h4>

In the Field Menu, select All Fields, Text Fields or a character data field.
Use a Selection Criteria of the form <i>op&nbsp;text</i>, where <i>op</i>
is one of
<tt>=, &lt;&gt;</tt> or <tt>!</tt>.  If <i>op</i> is omitted, it is assumed
to be <tt>=</tt>.  <tt>!</tt> is the not operator, equivalent to
to <tt>&lt;&gt;</tt>.  If numbers are present, <i>text</i> must be enclosed
in single-quotes.  The values of <b>Exact</b> and <b>Case</b> are used to
control how the character matching occurs.  This is shown in the following
example using a Search Criteria of <b>Ala</b>:

<table cellpadding="5">
<tr>
<td valign="top">
<b>Default</b>
<td valign="top">
Matches both <b>ala</b> and <b>ProAla</b>.

<tr>
<td valign="top">
<b>Case on</b>
<td valign="top">
Matches <b>ProAla</b> but not <b>ala</b>.

<tr>
<td valign="top">
<b>Exact on</b>
<td valign="top">
Matches <b>ala</b> but not <b>ProAla</b>.
</table>

The following wildcard expressions can be used in the pattern:

<table cellspacing="5" cellpadding="5">
<tr>
<td valign="top"><b>*</b>
<td valign="top">Wildcard used to match zero or more characters in the text.
For example:

<table width="30%">
<tr>
<td valign="baseline" width="33%"><tt>ZO<b>*</b></tt></td>
<td valign="baseline" width="33%">
<b>matches</b></td>
<td valign="baseline" width="33%">
<tt>ZO<b>PICLONE</b></tt><br /><tt>ZO<b>RUBICIN</b></tt></td>
</tr>
</table>
</tr>

<tr>
<td valign="top"><b>?</b>
<td valign="top">Wildcard used to match any single character in the text.
For example:

<table width="50%">
<tr>
<td valign="baseline"><nobr><tt>alpha<b>?</b>rhamnopyranose</tt></nobr></td>
<td valign="baseline">
<b>matches</b></td>
<td valign="baseline">
<tt>alpha<b>D</b>rhamnopyranose</tt><br /><tt>alpha<b>L</b>rhamnopyranose
</tt></td>
</tr>
</table>
</tr>

<tr>
<td valign="top"><b>@</b>
<td valign="top">Wildcard used to match any character in {a...z,A...Z,_}.
For example:

<table width="30%">
<tr>
<td valign="baseline"><tt><b>@</b>zulene</tt></td>
<td valign="baseline">
<b>matches</b></td>
<td valign="baseline"><tt><b>A</b>zulene</tt></td>
</tr>
</table>
</tr>

<tr>
<td valign="top"><b>#</b>
<td valign="top">Wildcard used to match [0, ..., 9]. For example:

<table width="30%">
<tr>
<td valign="baseline" width="33%"><nobr><tt>poly(<b>#*</b>)</tt></nobr></td>
<td valign="baseline" width="33%">
<b>matches</b></td>
<td valign="baseline" width="33%">
<nobr><tt>poly(<b>1-butene</b>)</tt></nobr><br />
<nobr><tt>poly(<b>1-decene</b>)</tt></nobr></td>
</tr>
</table>

</tr>
<tr>
<td valign="top"><b>[...]</b>
<td valign="top">Wildcard used to match any character in a set. In the
following example, the search matches any string that starts with an S or
U:

<table width="30%">
<tr>
<td valign="baseline" width="33%"><tt><b>[SU]</b>*</tt></td>
<td valign="baseline" width="33%">
<b>matches</b></td>
<td valign="baseline" width="33%">
<tt><b>S</b>ulfur</tt><br /><tt><b>U</b>ltem</tt></td>
</tr>
</table>

</tr>
<tr>
<td valign="top"><b>[^...]</b>
<td valign="top">Wildcard used to match any character that is not present at
this position. <br />
For example:<br />

<table width="100%">
<tr>
<td valign="baseline">* [<b>^2</b>] </td>
<td valign="baseline">
<b>matches</b></td>
<td valign="baseline">
<tt>Polycarbonate <b>1</b></tt><br />
<tt>Polycarbonate <b>3</b></tt><br /><tt>Resin <b>F</b></tt></td>
<td valign="baseline">
<b>but does not match</b></td>
<td valign="baseline">
<tt>Polycarbonate 2</tt><br /><tt>Polyetherimide 2</tt></td>
</tr>
</table>

</tr>
</table>

When <b>Exact</b> is off, <tt>*</tt> wildcards are added to the Selection
Criteria to create a substring search.  In the above example, <b>*Ala*</b>
is actually used when <b>Ala</b> is the Search Criteria.

<ul class="help">
<li class="help">
For more on wildcards, see
<a class="svl" href="../svl/fcnref/findetc.htm">findmatch</a></tt>.
</li>
</ul>

<a name="SelectingMolecules"></a>
<h4>Selecting Based on Substructure Search of Molecular Data</h4>

In the Field Menu, select All Fields, Substructure, a molecular or a MOE
data field.  Substructures can be defined via
<a href="../moe/fcnref/smartsfcn.htm">SMARTS</a>, or a
<a href="../moe/sketcher.htm">Sketcher</a> can
be used.  SMARTS strings must be contained in double-quotes: <tt>c1ccccc1</tt>
is invalid while <tt>"c1ccccc1"</tt> is valid.  The Selection Criteria can
be of the form:

<table cellpadding="5">
<tr>
<td valign="top">
<b><i>op SMARTS</i></b>
<td valign="top">
<i>SMARTS</i> is a valid SMARTS string and <i>op</i> is one of
<tt>=, &lt;&gt;</tt> or <tt>!</tt>.  If omitted, <tt>=</tt> is assumed.
<tr>
<td valign="top">
<b><i>SMARTS&nbsp;op&nbsp;number</i></b>
<td valign="top">
<i>SMARTS</i> is a valid SMARTS string, <i>op</i> is one of
<tt>=, &lt;&gt;, &lt;, &gt;, &lt;=, &gt;=</tt> or
<tt>!</tt> and <i>number</i> is a numeric value representing the number
of matches.
<tr>
<td valign="top">
<b><i>SMARTS</i>[<i>low,high</i>]</b>
<td valign="top">
<i>SMARTS</i> is a valid SMARTS string and <i>low</i> and <i>high</i>
are numeric values with <i>low</i>&nbsp;&lt;&nbsp;<i>high</i>.
<tr>
<td valign="top">
<b><i>op</i> {sketch}</b>
<td valign="top">
<i>op</i> is one of <tt>=, &lt;&gt;</tt> or <tt>!</tt>.  If omitted, <tt>=</tt>
is assumed.
<tr>
<td valign="top">
<b>{sketch} <i>op number</i></b>
<td valign="top">
<i>op</i> is one of <tt>=, &lt;&gt;, &lt;, &gt;, &lt;=, &gt;=</tt> or
<tt>!</tt> and <i>number</i> is a numeric value
representing the number of matches.
<tr>
<td valign="top">
<b>{sketch}[<i>low,high</i>]</b>
<td valign="top">
<i>low</i> and <i>high</i> are numeric values with
<i>low</i>&nbsp;&lt;&nbsp;<i>high</i>.
<tr>
<td valign="top">
<b><i>op number</i></b>
<td valign="top">
This assumes a query has been defined via a Sketcher.
<i>op</i> is one of <tt>=, &lt;&gt;, &lt;, &gt;, &lt;=, &gt;=</tt> or
<tt>!</tt> and <i>number</i> is a numeric value.  If omitted, <tt>=</tt>
is assumed.
<tr>
<td valign="top">
<b>[<i>low,high</i>]</b>
<td valign="top">
This assumes a query has been defined via a Sketcher.
<i>low</i> and <i>high</i> are numeric values with
<i>low</i>&nbsp;&lt;&nbsp;<i>high</i>.
</table>

<a name="SelectingAllFields"></a>
<h4>Selecting Based on Multiple Fields</h4>

Select All Fields in the Field Menu.  The Selection Criteria can be more
complex, possibly including multiple fields and/or numeric or text searches.
Options include:

<table cellpadding="5">
<tr>
<td valign="top">
<b><i>field op number</i></b>
<td valign="top">
<i>field</i> is a visible data field, <i>op</i> is one of
<tt>=, &lt;&gt;, &lt;, &gt;, &lt;=, &gt;=</tt> or <tt>!</tt> and
<i>number</i> is a numeric value.
<tr>
<td valign="top">
<b><i>field</i>[<i>low,high</i>]</b>
<td valign="top">
<i>field</i> is a visible data field and 
<i>low</i> and <i>high</i> are numeric values with
<i>low</i>&nbsp;&lt;&nbsp;<i>high</i>.
<tr>
<td valign="top">
<b><i>field op text</i></b>
<td valign="top">
<i>field</i> is a visible data field, <i>op</i> is either
<tt>=</tt> or <tt> &lt;&gt;</tt> and
<i>text</i> is character string.  If numbers are present, <i>text</i> must
be enclosed in single-quotes.
<tr>
<td valign="top">
<b><i>field&nbsp;op&nbsp;SMARTS</i></b>
<td valign="top">
<i>field</i> is a visible data field, <i>op</i> is either
<tt>=</tt> or <tt> &lt;&gt;</tt> and <i>SMARTS</i> is a valid SMARTS string.
<tr>
<td valign="top">
<b><i>field op</i> {sketch}</b>
<td valign="top">
This assumes a query has been defined via a Sketcher.
<i>field</i> is a visible data field and  <i>op</i> is either
<tt>=</tt> or <tt> &lt;&gt;</tt>.
</table>

These can be combined to search multiple data fields.  Assuming <b>logP</b>
and <b>Weight</b> are fields in the database,<br /><br />
<tt>logP[-2,2] Weight&gt;300 "c1ccccc1"&gt;2</tt><br /><br />
will search for all entries whose logP value is between -2 and 2, Weight
value is above 300 and with molecules that contain more than 2 phenyl rings.
If there
are multiple molecule or MOE fields, only one must satisfy the substructure
search for success.


<a name="SelectingMore"></a><h4>Using More Than One Selection Criterion</h4>

<p>To select entries based on more than one criterion that cannot be
performed using All Fields, successive selections must be done using the
<span class="menu">Add To</span>,
<span class="menu">Intersect</span>,
<span class="menu">Remove</span>, and
<span class="menu">Replace</span>
Select menu options.
The first three perform a logical operation between the existing entry
selection and the results of applying the current selection criteria.
<b>Replace</b> is equivalent to first clearing the selection and then
using <b>Add To</b> mode.

<ul>

<p><li>When
<span class="nobr"><b>Add To</b></span> is used, unselected
entries satisfying the selection criteria become selected,
and entries already selected remain selected.
In effect, a logical "OR" operation is being performed:
an entry is selected if it was already selected <b>or</b>
it satisfied the latest selection criteria.
In this mode,
the set of selected entries is either enlarged or remains the same.
</li>
</p>

<p>
<li>When <b>Intersect</b> is used,
previously selected entries will become deselected if they
fail to match the selection criteria, and unselected entries
remain unselected.  In effect, a logical "AND"
operation is being performed:
an entry is selected only if it was already selected <b>and</b>
it satisfied the latest selection criteria.
In this mode, only previously selected entries are considered for selection;
the set of selected entries is either diminished or remains the same.
</li>
</p>

<p>
<li>When <b>Remove</b> is used,
previously selected entries will become deselected if they
successfully match the selection criteria, and unselected entries
remain unselected.  In effect, a logical "AND NOT"
operation is being performed:
an entry is selected only if it was already selected <b>and</b>
it did <b>not</b> satisfy the latest selection criteria.
In this mode, only previously selected entries are considered for deselection;
the set of selected entries is either diminished or remains the same.
</li>
</p>

</ul>

<div class="example">
<i><b>Example.</b></i> Suppose you wish to
select all entries with a molecule field containing <tt>"c1ccccc1"</tt>
exactly once and whose pKa value is greater than 3. To do so, you can
perform two separate selection operations: the first based on the
substructure, the second based on the pKa value. Use the
<span class="nobr"><b>Replace</b></span> mode for the
substructure comparison and the <b>Intersect</b> mode for the
pKa comparison.
</div>

<a name="Select_Entries"></a>
<h4>Selecting Using the Field Popup</h4>

<p>The <span class="nobr"><b>Field Popup | Select Entries</b></span>
commands perform entry selection based on data in a given field
using special pre-defined selection criteria.
Entries whose data satisfy the selection
criteria are added to the current entry selection.
</p>

<p>The selection criteria vary depending on the field data type.
In all cases, <b>Empty</b>, <b>Unique</b>, and
<span class="menu">Not Unique</span> are available.
<b>Empty</b> selects entries with no data in the given field.
<b>Unique</b>
selects the entries corresponding to the first instance
of each new unique field value encountered
(the first entry encountered with a given data value is selected;
subsequent entries with the same value are not selected).
<span class="menu">Not Unique</span> selects entries
that have duplicate values within a given field.  All entries
with duplicated values are selected; entries whose field value
is unique across the whole field are not selected.
</p>

<p>Character data fields have no other selection criteria.
Numeric fields also allow for selecting entries whose field data
are <span class="nobr"><b>Not Finite</b></span>, i.e. NaN or Inf.
</p>

<p>Molecular data can be subject to the following selection
criteria:

<center>
<table class="titlebar" border="1" cellpadding="3">

<tr>
<th>
<span class="nobr"><b>Field Popup | Select Entries</b></span>
</th>
<th>Select Entry if Molecular Data:</th>

<tr>
<td>Druglike
</td>
<td>
Passes Lipinski's Rule of Five [Lipinski&nbsp;1997].
</td>
</tr>

<tr>
<td>Leadlike
</td>
<td>
Passes Oprea's lead-like test [Oprea&nbsp;2000].
</td>
</tr>

<tr>
<td>Reactive
</td>
<td>
Contains reactive groups.
</td>
</tr>
</tr>

<tr>
<td>Inorganic
</td>
<td>
Contains atom elements outside of the set
[LP,H,C,N,O,F,P,S,Cl,As,Se,Br,I].
</td>
</tr>

<tr>
<td>Bad A[k]
</td>
<td>
Is an invalid R-group label.
</td>
</tr>


</table>
</center>

<h3><a name="InvertClearEntries"></a>Inverting and Clearing Entry Selection</h3>

<p>
The invert and clear entry selection commands operate on all entries.
To invert the selection means to deselect entries that are currently 
selected and select those that are not selected.
To clear the selection means to deselect all entries in the database.
There is also a command to select all entries.  The commands are
duplicated in the
<span class="nobr"><b>DBV | Edit</b></span> and
<span class="nobr"><b>Entry Popup | Selection</b></span> menus
and are summarized in the following table:
</p>

<center>
<table class="titlebar" border="1" cellpadding="3">
<tr>
<th>Operation</th>
<th><span class="nobr"><b>DBV | Edit</b></span></th>
<th><span class="nobr"><b>Entry Popup | Selection</b></span></th>
</tr>

<tr>
<td>
Invert entry selection
</td>
<td>
<span class="nobr"><b>Invert | Entry Selection</b></span>
</td>
<td>
<span class="nobr"><b>Invert</b></span>
</td>
</tr>

<tr>
<td>
Clear entry selection
</td>
<td>
<span class="nobr"><b>Clear | Entry Selection</b></span>
</td>
<td>
<span class="nobr"><b>Clear</b></span>
</td>
</tr>

<tr>
<td>
Select all entries
</td>
<td>
<span class="nobr"><b>Select All | Entries</b></span>
</td>
<td>
<span class="nobr"><b>Select All</b></span>
</td>
</tr>

</table>
</center>

<p>
The top left corner button, which connects the field and entry labels,
can be also used to clear the entry selection or select all entries.
If pressed, any entry and field selection will be cleared and if nothing
is selected the press will select all entires and fields.
</p>

<h3><a name="HideShowEntries"></a>Hiding and Showing Entries</h3>

<p>The display of individual and multiple entries is controlled using
the <span class="nobr"><b>DBV | Display | Entry</b></span> and
<span class="nobr"><b>DBV | Entry Popup | Display</b></span> menus.
Entry selection can be used to determine which entries to
hide or show.  An individual entry can be hidden using that entry's
popup menu.  The
<span class="nobr"><b>Show All</b></span> and
<span class="nobr"><b>Invert All</b></span> commands
operate on all entries.  The invert operation toggles the display
state of all entries so that hidden entries become shown and vice-versa.
The commands are summarized in the following table.
</p>

<p><b>Note:</b> Hidden entries cannot be selected.</p>

<center>
<table class="titlebar" border="1" cellpadding="3">
<tr>
<th>Operation</th>
<th><span class="nobr"><b>DBV | Display | Entry</b></span></th>
<th><span class="nobr"><b>Entry Popup | Display</b></span></th>
</tr>

<tr>
<td>
Hide individual entry (without using entry selection)
</td>
<td>
&nbsp;
</td>
<td>
<span class="nobr"><b>Hide Entry</b></span>
</td>
</tr>

<tr>
<td>
Hide selected entries
</td>
<td>
<span class="nobr"><b>Hide Selected</b></span>
</td>
<td>
<span class="nobr"><b>Hide Selected</b></span>
</td>
</tr>

<tr>
<td>
Hide unselected entries
</td>
<td>
<span class="nobr"><b>Hide Unselected</b></span>
</td>
<td>
<span class="nobr"><b>Hide Unselected</b></span>
</td>
</tr>


<tr>
<td>
Invert entry display
</td>
<td>
<span class="nobr"><b>Invert All</b></span>
</td>
<td>
<span class="nobr"><b>Invert All</b></span>
</td>
</tr>

<tr>
<td>
Show all entries
</td>
<td>
<span class="nobr"><b>Show All</b></span>
</td>
<td>
<span class="nobr"><b>Show All</b></span>
</td>
</tr>

</table>
</center>

<p><b>Note:</b> When hiding entries, remaining visible entries are not
renumbered, causing gaps in the entry number sequence to appear.

<h3><a name="MovingEntries"></a>Moving Entries</h3>

<p>Single entries can be repositioned in the Database Viewer as follows:

<ol>
<li>Position the cursor over the entry to move.
<li>Press and hold the middle mouse button and drag the entry to
the new position. During the move, the entry label is marked by
a red rectangle.
</ol>

<p>Or</p>

<ol>
<li>Position the cursor over the entry to move (the entry need not be selected).
</li>
<li>Choose <b><span class="nobr">Entry Popup | Move</span></b>.
</li>
<li>The cursor changes to a crosshair, and the CLI prompts you to select
the new position of the entry.
</li>

<li>Click on the new position. The entry is moved to the new location.
Other entries are shifted down to make space for the new entry.
</li>
</ol>

<p>Multiple entries are moved in a similar manner:
</p>

<ol>
<li>Select the entries to reposition.</li>
<li> Choose <span class="menu">Entry | Popup | Selection | Move</span>.</li>
<li>Click on the new position.  All selected entries are inserted at the
new location and the displaced entries are moved down.</li>
</ol>

<p>
<b>Note:</b> Entries in read-only databases cannot be moved.
</p>

<h3><a name="SortingEntries"></a>Sorting Entries</h3>

The Database Viewer provides two ways of sorting entries in the database. 

<p>The <span class="nobr"><b>Field Popup | Sort</b></span>
menu includes the following sort commands:

<ul>
<p><li><b>Ascending</b>.
Sorts all entries in the database based on the ascending
order (from lowest to highest value) of the field over
which the popup is opened.
Text is sorted alphabetically and molecules are sorted by SMILES string.

<p><li><b>Descending</b>. Sorts all entries in the database based on the
descending order (from highest to lowest value) of the
field over which the popup is opened.

<p><li><b>Advanced</b>. Opens the Sort Database panel, which allows to 
specify extended sorting options, such as multi-criteria sorting.

</ul>

<p>MOE asks you for confirmation before sorting the database.

<p>The <b><span class="nobr">DBV | Compute | Sort</span></b> command
opens the Sort Database panel. Sorting can be done on
all fields, i.e. numeric, character, and molecule.
Molecule fields are sorted based on their unique SMILES strings.
</p>

<p><center><img src="db/dbsort.png" alt="Sort Database Panel"></center>

<p>

<table cellpadding="5">
<tr>
<td valign="top" width="25%"><b>Filename</b>
</td>
<td valign="top">Path and filename of database to sort on.
</tr>

<tr>
<td valign="top"><b>Sort Entries</b>
</td>
<td valign="top">When the <b>OK</b> button is pressed, the database entries
will be sorted.
By default, this option is turned on.<br /> Turning off this option
disables the sort operation while still allowing entry selection.
</td>
</tr>

<td valign="top"><b>Visible Only</b>
</td>
<td valign="top">If on, sorting will be done only on visible
entries.  Hidden entries will be placed after the sorted entries.
If off (default), all entries will be sorted.
</td>
</tr>

<tr>
<td valign="top"><b>Select Unique Entries</b>
</td>
<td valign="top">Using
all fields specified in the panel,
selects one entry (the one with the smallest entry number)
for each unique set of field values.
</td>
</tr>

<tr>
<td valign="top"><b>Select Non-unique Entries</b>
</td>
<td valign="top">Using
all fields specified in the panel,
selects all entries whose set of field values is not unique.
For example, if two entries have identical fields values,
both will be selected.
</td>
</tr>

<tr>
<td valign="top"><b>Priority</b>
</td>
<td valign="top">
The numbering of the fields indicates <i>priority</i>.
Priority determines the order in which sort operations are performed.  In
the event of identical data values, fields of subsequent priorities 
(2, 3, etc.) will in turn act as tie breakers.</tr>
</td>
</tr>

<tr>
<td valign="top"><b>Field (1&ndash;8)</b>
</td>
<td valign="top">Specifies the fields to be sorted.

<p><b>Note:</b> Prior to opening the Sort Database panel, if a field is
selected in the Database Viewer, it
will appear in the Priority 1 Field menu. If more than one field is
selected, fields are given priority based on their order in the database.
</td>
</tr>

<tr>
<td valign="top"><b>Descending</b>
</td>
<td valign="top">If on, then the corresponding
field is sorted in descending numerical or reverse alphabetical order,
depending on the type of data it contains.
</td>
</tr>

</table>


<h3><a name="DeletingEntries">Deleting Entries</a></h3>

<p>The deletion of multiple entries is controlled using the
<span class="nobr"><b>DBV | Edit | Delete | Selected Entries</b></span>
command or the
<span class="nobr"><b>Entry Popup | Selection | Delete Selected</b></span>
command.
These commands use entry selection to determine which entries to delete.
The <span class="nobr"><b>Entry Popup | Delete</b></span> command
can be used to delete individual entries.  In all cases, you will be
asked to confirm the operation.
</p>

<center>
<table class="titlebar" border="1" cellpadding="3">

<tr>
<th>Command</th>
<th>Description</th>
</tr>

<tr>
<td>
<span class="nobr"><b>DBV | Edit | Delete | Selected Entries</b></span>
</td>
<td>
Delete selected entries.  This command is unavailable when no
entries are selected.
</td>
</tr>

<tr>
<td>
<span class="nobr"><b>Entry Popup | Selection | Delete Selected</b></span>
</td>
<td>
Delete selected entries.  This command is unavailable when no
entries are selected.
</td>
</tr>

<tr>
<td>
<span class="nobr"><b>Entry Popup | Delete</b></span>
</td>
<td>
Delete the current entry (i.e. where the popup was issued).
The entry need not be selected.
</td>
</tr>

</table>
</center>

<p><b>Caution!</b> These commands delete entries from the 
database file, and are not to be confused with the
<a href="#HideShowEntries">Hide Entry</a> command. 
Deleted entries cannot be recovered as no temporary backups are made.
</p>


<a name="SpecifyingMolecularData"></a><h2>Specifying Molecular Data</h2>

Molecular data is displayed in the Database Viewer as a 3D line drawing. 
When the field is a single
character high, MOE displays the compound name instead of the line drawing. 

<p>Molecules can be rotated and zoomed in a similar fashion
to that in the MOE Window:
<ul>
<li>Rotate by dragging the
middle mouse button within the molecule cell.  
<li>Zoom by holding down
the <tt>Ctrl</tt> button and dragging the middle mouse button within the
molecule cell.
</ul>
<p>

<h3><a name="DisplayingMolecules"></a>Displaying Molecules in the Database</h3>

<p>Several display options relative to molecular data are found in the
<span class="nobr">Display | Molecule</span> menu:
</p>

<blockquote>
<img src="db/mol_display.png" alt="Molecule Display menu">
</blockquote>

<ul>

<p><li><b>Hydrogens</b><br />
Displays hydrogen atoms. 

<p><li><b>Protein Trace</b><br />
Displays only the protein trace for proteins. The protein trace is a line
joining all protein alpha-carbons with straight-line segments. When the
protein trace is on, no element labels, hydrogens, or multiple bonds are
drawn, even if the options to draw them are selected.

<p><li><b>Bond Orders</b><br />
Displays multiple bonds as multiple lines. Note that this option does not
apply to proteins.

<p><li><b>Element Symbols</b><br />
Displays element symbols. The symbols will be 
difficult to see on protein structures 
unless you have zoomed in close enough.  

<p><li><b>Element Colors</b><br />
Displays element symbols in color - nitrogens in blue, oxygens in
red and so on.  When unchecked, all symbols are drawn black.

<p><li><b>Variable Font</b><br />
If enabled, the font of the element labels is scaled in relation to the
molecule size, otherwise the label font size is the same for all molecules
regardless of their size.

<p><li><b>Unified View</b><br />
Applies rotation or zoom to all molecules at once.
All molecules in all molecule fields rotate and zoom in
unison when turned on. 
This feature is useful when comparing conformations of a single
molecule.  

</ul>

<p>
The molecule display attributes are retained and saved in the database
unless it is opened in read-only mode.
</p>

<a name="PartialCharges"></a>
<h3>Computing Partial Charges</h3>

<p>The
<span class="menu">DBV | Compute | Molecule | Partial Charges</span>
command displays 
the Database Partial Charges panel.
The database must contain at least one molecular data
field for this computation to succeed.
If <a href="../install/smp_inst.htm">MOE/smp</a> is enabled,
the partial charge computation is distributed over
the nodes of the multi-processor cluster.

<p><center>
<img src="db/charges.png" alt="Database Partial Charges Panel">
</center>

<table cellspacing="5" cellpadding="5">
<tr>
<td valign="top" width=25%><b>Database</b></td>
<td>Path and filename of the current database which contains the molecules
on which to calculate the partial charges.</td>

<tr>
<td valign="top"><b>Selected Entries Only</b>
<td valign="top">Perform the partial charge calculation only on entries that are
selected in the Database Viewer.

<tr><td valign="top"><b>Molecule Field</b> 
<td valign="top">List of molecular
fields in the database. Select the field of molecular data for which
the partial charges will be computed. This data will be overwritten with
the new molecular data if the <b>Destination Field</b> (next item) is left
blank.

<tr><td valign="top"><b>Destination Field</b>
<td valign="top">Destination molecular field in which to write the
data.  If left blank then the source molecule field will be overwritten.

<tr><td valign="top"><b>Method</b>
<td valign="top">Method to use when calculating the partial charges.

<tr>
<td valign="top"><b>Options</b>
<td valign="top"><b>Adjust Hydrogens and Lone Pairs as Required</b>.
If on, then hydrogens and/or lone pairs will be added or removed in order
to complete valence.

</table>

<p>Press <b>OK</b> to start the partial charges calculation.


<a name="MinimizingMolecularStructures"></a>
<h3>Minimizing Molecular Structures</h3>

The <span class="menu">DBV | Compute | Molecule | Energy Minimize</span>
command opens the 
<a href="../apps/emin.htm">Energy Minimize</a> panel with
<span class="nobr"><b>Input Data</b></span> set to 
<span class="nobr"><b>MDB File</b></span> and the MDB filename set to the
active database.  This command is used to minimize the energy of molecular
structures using a classical forcefield or quantum chemical method.  It
can also be used to calculate the energy of the current geometry
(MOPAC/QM mode only) by unselecting
<span class="nobr"><b>Geometry Optimization</b></span> before starting
the calculation.  The database must contain at least one field of molecular
data for this computation to succeed.

<h2><a name="PlottingDatabaseValues">Database Plot</a></h2>

<p>Numeric database data can be visualized using both specialized
applications, available through the <a href="dbplot.htm"><nobr><b>
DBV | Compute |
Analysis</b></nobr></a> menu, and the plot area of the Database Viewer.
This section describes the use of the Database Viewer plot area.

<p>
To display the plot area in the Database Viewer, press the plot 
icon in the footer of the Database Viewer or enable the
<b>Plot</b> toggle in the Field Popup of a numeric field. An empty plot area, 
consisting of a graph and a ruler on the left, appears in the lower half of
the Database Viewer. 
</p>
<p>
<b>Note:</b>
The plot area can be resized vertically by dragging 
its upper boundary up and down with the left mouse button.
</p>

<p><center><img src="db/plotarea.png" alt="Empty Plot Area in Database
Viewer"></center>

<br />
The Database Viewer plot area provides a graphical view of numerical
data.  Data values are plotted as ordinates (Y axis) against entry numbers
(X axis). Multiple numerical fields can be plotted and share the plot
area.

<br /><br />
To plot one or more numeric data fields:

<ol> <li>Open the <b><nobr>Plot Fields</nobr></b> pull-right menu. 
All the numeric fields in
the database appear as toggle buttons in the menu.  
<br /><br />
<li>Select the numeric
field to plot. The menu doubles as the plot legend:  when a field is
chosen for plotting, the indicator is drawn in the same color as the
associated line in the plot.  </ol>

Or

<ol> <li>Enable the <b>Plot</b> toggle in the Field Popups of the
numeric fields to plot.
</ol>

<p>The entry number of a data point is obtained by positioning the cursor
and holding it motionless on or near that point. The entry number will be
displayed as bubble help next to the cursor.  If entry numbers do not
appear, check in the <a href="../appendix/settings.htm#Miscellaneous"> 
Configuration Options</a> if bubble help has been turned off or requires the
<tt>Ctrl</tt> key.


<p><center><img src="db/dbplot.png" alt="Database Viewer With
Plot"></p></center>

<p>The functionality of the mouse inside the plot area depends on the
location of the cursor.  In general, the left button is used to select
entries, and the middle button is used to modify the view of the plotted
data.  The data plot can be panned, scrolled and zoomed.

<p><center> <table class="titlebar" border="1" cellpadding="5">
  <tr>
    <th>To:</th>
    <th>With the Mouse:</th> </tr>
    <tr> 
<td valign="top">Scroll in ruler or in graph area
<td valign="top"><tt>Shift</tt> - drag middle in ruler or in
graph area
</tr>

<tr>
    <td valign="top">Increase or decrease zoom
    <td valign="top"><tt>Ctrl</tt> - drag middle in graph
</tr>
<tr>
    <td valign="top">Zoom (vertically) in ruler 
    <td valign="top"><tt>Ctrl</tt> - drag middle in ruler
</tr>
</table></center>

<a name="Zoom"></a><h3>Zooming In and Out</h3>

Use the <b>X</b> and <b>Y</b> zoom wheels in the plot footer to adust the
visible data range in the plot. Pressing the <b>Fit</b> button performs
an automatic range calculation and adjusts the zoom on the plot so that
all data points are framed in the plot area. The automatic range calculation
is also performed when adding field plots to the current plot.  

<p><center><img src="db/plotzoom.png" alt="Plot Zoom Controls"></center></p>


<a name="PlotPopup"></a>
<h3>Database Plot Popup Menus</h3>

<p>The Plot popup is available by clicking the mouse popup button in the
plot area:  

<p>
<table cellspacing="5">
<tr bgcolor="#cccccc">
<td valign="top" align="center"><b>Plot</b>
</tr>
<tr>
<td valign="top"><a href="#SelectingPlot">Select All</a>
</tr>
<tr>
<td valign="top"><a href="#InvertClearPlot">Invert</a>
</tr>
<tr>
<td valign="top"><a href="#InvertClearPlot">Clear</a>
</tr>
<tr>
<td valign="top"><a href="#LinesMarkers">Lines</a>
</tr>
<tr>
<td valign="top"><a href="#LinesMarkers">Markers</a>
</tr>
<tr>
<td valign="top"><a href="#ClearPlot">Clear Fields</a>
</tr>
<tr>
<td valign="top"><a href="#HidePlot">Hide Plot</a>
</tr>

</table>
</p>

<a name="SelectingPlot"></a><h3>Selecting Data Points and Entries</h3>

<p>Data points in the plot and entries in the database are
synchronized. Selecting a data point in the plot results in the corresponding
entry being selected in the database. The reverse is also true: selecting
an entry in the database selects its corresponding data point in the
plot.  Entries/data points may be hidden, with no effect on entry
numbers.


<p><center> 
<table class="titlebar" border="1" cellpadding="5">
<tr>
<th>To:</th> 
<th>With the Left Mouse Button:</th> 
</tr> 

<tr>
<td valign="top">Select data points 
<td valign="top">Click on data points in graph.
</tr> 

<tr>
<td valign="top">Select a set of data points using a selection box 
<td valign="top">Drag over entries in graph.
</tr> 

<tr>
<td valign="top">Select a range of values in the ruler 
<td valign="top">Drag over numbers in ruler to create a rectangular
selection region that extends the entire breadth of the plot.
</tr>

<tr>
<td valign="top">Select all data points 
<td valign="top">Use
<span class="menu">DBV | Plot Popup | Select All</span>.
</tr> 

</table></center>


<p>Selection is further controlled by the
<b>Selection</b> and
<b>Filter</b> parameters at the bottom of the plot
area.
</p>

<img src="db/plothead.png" alt="Footer in Plot Area" class="floatright" />

<p>The <b>Selection</b>
parameter determines how newly selected entries are combined with existing
selected entries:
the current selection set can be combined under either a union 
(<b>or</b>) or an intersection
(<b>and</b>) operation with the selection made from the plot.
</p>

<!--

<div class="example">
<b>Example</b>. To select entries between
entry numbers 37 and 56 for a given numerical field whose value falls in
the ranges 2 to 2.5 and 3 to 3.5:

<ol>
  <li>Clear the current selection set using
	<span class="menu">DBV | Plot Popup | Clear</span>.
  </li><li>Choose <span class="menu">Selection: or</span>.
  </li><li>Left drag from 2.5 to 2 in the vertical ruler.
  </li><li>Left drag from 3 to 3.5 in the vertical ruler.
  </li>
</ol>
</div>

<div class="example">
<b>Example</b>. To select all entries <i>except</i> those between
entry numbers 37 and 56 for a given numerical field whose value falls in
the ranges 2 to 2.5 and 3 to 3.5:

<ol>
  <li>Select all entries using
	<span class="menu">DBV | Plot Popup | Select All</span>.
  </li><li>Choose <span class="menu">Selection: and</span>.
  </li><li>Left drag from 2.5 to 2 in the vertical ruler.
  </li><li>Left drag from 3 to 3.5 in the vertical ruler.
  </li>
</ol>
</div>

-->

<p>The <b>Filter</b>
parameter allows you to specify which of the plotted
fields can be used for data point selection.
By default,
<span class="menu">Filter: All</span> is on, enabling
all fields to be used.  When this option is off,
the <b>Fields</b> pull-right menu becomes available.  In the Fields
menu, choose which fields are to participate in data point selection.
Data points of field plots excluded from the filter
cannot be selected.


<a name="InvertClearPlot"></a><h3>Inverting and Clearing Selections</h3>

The selection of data points in the plot area (and their corresponding
entries in the database) can be inverted or cleared using commands in the
Plot popup:

<ul>

<li>Choose
<span class="menu">DBV | Plot Popup | Invert</span>
to deselect currently selected data
points and entries and to select those that are not selected.
This is equivalent to using
<span class="menu">DBV | Entry Popup | Invert</span>.
</p>

<p><li>Choose
<span class="menu">DBV | Plot Popup | Clear</span>
to deselect all currently selected data points and
entries.  This is equivalent to using
<span class="menu">DBV | Entry Popup | Clear</span>.
</ul>

<a name="LinesMarkers"></a><h3>Adjusting the Plot Display</h3>

The plot display can be controlled using the
<span class="menu">DBV | Plot Popup </span> menu:

<ul>
<p><li>Turn on <b>Lines</b> to draw lines between data points.
<p><li>Turn on <b>Markers</b> to mark data points with solid dots.
</ul>

<a name="ClearPlot"></a><h3>Clearing the Plot Area</h3>

Use the
<span class="menu">DBV | Plot Popup | Clear Fields</span>
command to clear the
plot area without affecting the selection state of entries in the database
(selected entries remain selected).

<p><b>Note:</b> This produces the same effect as deselecting all the
numeric fields in the Plot Fields pull-right menu.

<a name="HidePlot"></a><h3>Hiding the Plot Area</h3>

Use the
<span class="menu">DBV | Plot Popup | Hide Plot</span>
command to hide the plot area.  This is equivalent to deselecting
the <img src="db/plottoggle.png" alt="Plot Toggle" align="bottom" /> toggle
in the header of the plot area.


<a name="Saving"></a><h2>Saving Databases</h2>

Use the <b><nobr>DBV | File | Save As</b></nobr> command to save the database
under a new name.   The following panel appears:

<p><center>
<img src="db/saveas.png" alt="Database Save As Panel" />
</center>

<p>
In the Save Database As panel, enter the path and name of the file to
save.  By convention, databases should be saved with the <tt>.mdb</tt>
extension.  The options allow you to choose the output format
and to save only the fields and/or entries that
are selected in the database.  You may also choose whether to open the
newly saved database in a Database Viewer.
</p>

<table cellspacing="5" cellpadding="5">
<tr>
<td valign="top" width=25%><b>Filename</b></td>
</td><td>Path and filename of the destination database.
</td>
</tr>

<tr>
<td valign="top"><b>Selected Fields Only</b>
<td valign="top">Save only those
fields that are selected in the Database Viewer.
</td>
</tr>

<tr>
<td valign="top"><b>Selected Entries Only</b>
<td valign="top">Save only those
entries that are selected in the Database Viewer.
</td>
</tr>

<tr>
<td valign="top"><b>Output</b>
<td valign="top">Choose the output format.  Format-specific options
will appear in the panel as needed.
</td>
</tr>

<tr>
<td valign="top"><b>Auto Extension</b>
<td valign="top">When enabled, the file extension
will change in accordance with the Output format.
</td>
</tr>

<tr>
<td valign="top"><b>Viewer</b>
<td valign="top">
<b>Same Viewer.</b> Open the new database in the current Database
Viewer, closing
the current database.
<br />
<b>New Viewer.</b> Open the new database in a new Database Viewer window.
<br />
<b>No Viewer.</b> Save the database without opening it in a Database Viewer.
</td>
</tr>

<!-- PACK
<tr><td valign="top"><b>Pack/Unpack Conformations</b> 
<td valign="top">Pack/unpack conformational database.
-->

</table>

<p>Databases can also be exported in other file formats. See 
<a href="dbio.htm#ExportingData">Importing and Exporting Databases</a>
for more information on file formats.  

<p>Note: You cannot use the <b>Save As</b> command to save the
currently opened database under the same name in the same location. 

<!-- PACK
<a name="Packing"></a><h3>Packing/Unpacking Conformational Databases</h3>

<p>
The <b><nobr>Pack/Unpack Conformation</b></nobr> option
of the <b><nobr>Save Database As</b></nobr> panel
affects the storage of conformational databases.

<p>Conformational databases are stored in
either <i>packed</i> or <i>unpacked</i> forms.
The packed form stores one molecule per entry.
The unpacked form stores one conformation per entry.
The packed or unpacked form of a conformational database
is detected automatically and the user is presented
with either the <b><nobr>Pack Conformations</nobr></b> checkbox or
the <b><nobr>Unpack Conformations</nobr></b> checkbox.  In the rare case
that the database contains multiple molecular fields
and the packed or unpacked form cannot be detected
automatically, the user is presented with both options:

<p><center>
<img src="db/saveas_poption.png">
</center>

<p>
Select the <b><nobr>Pack Conformation</b></nobr> option
of the <b><nobr>Save Database As</b></nobr> panel
to pack a conformational database:

<p><center>
<img src="db/saveas_pack.png">
</center>

<p>
Select the <b><nobr>Unpack Conformation</b></nobr> option
to unpack a conformational database:

<p><center>
<img src="db/saveas_unpack.png">
</center>

<p><table cellspacing="5" cellpadding="5">
<tr>
<td valign="top" width=25%><b>Molecule</b></td>
<td>Molecular field to pack or unpack.
</td>

<tr>
<td valign="top"><b>Conf</b>
<td valign="top">Packed conformation positions (and energies).

<tr>
<td valign="top"><b>Sequence</b>
<td valign="top">Optional molecule sequence number.  Conformations
of the same molecule share the same sequence number.  If the
name is empty, the molecule sequence will be detected from
the molecule field.

<tr>
<td valign="top"><b>Energy</b>
<td valign="top">Optional energy field.  If the name is empty,
the energy values are not used.

<br /><b>Warning!</b> Energies are stored with a relative
precision of only about 0.001.

</table>

<p>Conformational databases are packed by storing conformation
positions, and optionally, conformation energies in a separate
field of name derived from name of the molecule field by
adding the suffix <tt>':conf'</tt>.  For example, <tt>'mol:conf'</tt>
is the conformation field of molecule <tt>'mol'</tt>.

Other fields are fields are stored according to their types.

<ul>

<li>Empty fields are packed and unpacked as empty fields.

<p>
<li>Non-numerical fields (molecules and strings) are packed by copying the
value of the first conformation as-is.  They are unpacked
by copying (duplicating) the packed value as-is to all conformations.

<p>
<li>Numerical fields that store one scalar value per conformation
are packed by collecting the scalar values to a vector.  If all
conformations share the same value, the value is packed as a scalar
(and not as a vector of duplicates).

Scalar fields are unpacked by copying the packed value to all conformations.

Vector fields are unpacked by copying the individual (scalar) elements
to the corresponding conformations.

<p>
<li>The length of a vector stored in a packed numerical field must
be the same as the number of stored conformations.  If the packed field
contains a vector of a different length (&gt;1), the field cannot be unpacked
and is removed from the output.  Also, if an unpacked numerical field
stores vector values (of length &gt;1), the field cannot be packed and
is removed from the output.

</ul>
-->


<h2><a name="SVL">SVL Commands</a></h2>

<a href="../moe/fcnref/introdb.htm">Database Functions</a>


<a name="QuickReference"></a><h2>Database Viewer Menu Bar</h2>

<table cellspacing="0" cellpadding="5" width="100%">
<tr>
<td valign="top" width="20%">
<fieldset>
    <legend> <b>File</b> </legend>
    <a href="dbedit.htm">New</a><br />
    <a href="dbedit.htm">Open</a><br />
    <a href="#Saving">Save As</a><br />
    <a href="../apps/print.htm">Print</a><br />
    <a href="dbbrowse.htm">Browse</a><br />
<!--
    <a href="dbio.htm">Export</a><br />
-->
    <a href="dbio.htm">Import</a><br />
    <a href="dbio.htm#Merge">Merge</a><br />
<!--
    <a href="../apps/ph4_search.htm">Pharmacophore Search</a><br />
    <a href="ph4sim.htm">Similarity Search</a><br />
    <a href="fpmodel.htm">Fingerprint Model</a><br />
-->
    Close
</fieldset>

<td valign="top" width="20%" height="100%">
<fieldset height="200">
    <legend> <b>Edit</b> </legend>
    New<br />
    &nbsp;&nbsp;&nbsp;<a href="dbedit.htm#AddingEntries">Entry</a><br />
    &nbsp;&nbsp;&nbsp;<a href="dbedit.htm#CreatingFields">Field</a><br />
    <a href="dbedit.htm#Copying_and_Pasting_Using_the_Clipboard">Copy</a><br />
    <a href="dbedit.htm#Copying_and_Pasting_Using_the_Clipboard">Paste</a><br />
    Delete<br />
    &nbsp;&nbsp;&nbsp;<a href="#DeletingEntries">Selected Entries</a><br />
    &nbsp;&nbsp;&nbsp;<a href="#DeletingFields">Selected Fields</a><br />
    Move<br />
    &nbsp;&nbsp;&nbsp;<a href="#MovingEntries">Selected Entries</a><br />
    &nbsp;&nbsp;&nbsp;<a href="#MovingFields">Selected Fields</a><br />
    <a href="#ColoringFields">Color</a><br />
    <a href="#RenamingFields">Rename</a><br />
    <a href="#SelectingEntries">Select</a><br />
    Invert<br />
    &nbsp;&nbsp;&nbsp;<a href="#InvertClearEntries">Entry Selection</a><br />
    &nbsp;&nbsp;&nbsp;<a href="#InvertClearFields">Field Selection</a><br />
    Clear<br />
    &nbsp;&nbsp;&nbsp;All<br />
    &nbsp;&nbsp;&nbsp;<a href="#InvertClearEntries">Entry Selection</a><br />
    &nbsp;&nbsp;&nbsp;<a href="#InvertClearFields">Field Selection</a><br />
    Select All<br />
    &nbsp;&nbsp;&nbsp;<a href="#InvertClearEntries">Entries</a><br />
    &nbsp;&nbsp;&nbsp;<a href="#InvertClearFields">Fields</a>
</fieldset>

<td valign="top" width="20%">
<fieldset>
    <legend> <b>Display</b> </legend>
    Entry<br />
    &nbsp;&nbsp;&nbsp;<a href="#HideShowEntries">Hide Selected</a><br />
    &nbsp;&nbsp;&nbsp;<a href="#HideShowEntries">Hide Unselected</a><br />
    &nbsp;&nbsp;&nbsp;<a href="#HideShowEntries">Invert All</a><br />
    &nbsp;&nbsp;&nbsp;<a href="#HideShowEntries">Show All</a><br />
    Field<br />
    &nbsp;&nbsp;&nbsp;<a href="#SelectingFields">Hide Selected</a><br />
    &nbsp;&nbsp;&nbsp;<a href="#HideShowFields">Hide Unselected</a><br />
    &nbsp;&nbsp;&nbsp;<a href="#HideShowFields">Invert All</a><br />
    &nbsp;&nbsp;&nbsp;<a href="#HideShowFields">Show All</a><br />
    Molecule<br />
    &nbsp;&nbsp;&nbsp;<a href="#DisplayingMolecules">Hydrogens</a><br />
    &nbsp;&nbsp;&nbsp;<a href="#DisplayingMolecules">Protein Trace</a><br />
    &nbsp;&nbsp;&nbsp;<a href="#DisplayingMolecules">Bond Orders</a><br />
    &nbsp;&nbsp;&nbsp;<a href="#DisplayingMolecules">Element Symbols</a><br />
    &nbsp;&nbsp;&nbsp;<a href="#DisplayingMolecules">Element Colors</a><br />
    &nbsp;&nbsp;&nbsp;<a href="#DisplayingMolecules">Variable Font</a><br />
    &nbsp;&nbsp;&nbsp;<a href="#DisplayingMolecules">Unified View</a><br />
<!--
    <a href="#PlottingDatabaseValues">Plot</a>
-->
</fieldset>

<td valign="top" width="20%">
<fieldset>
    <legend> <b>Compute</b> </legend>
    <a href="dbplot.htm">Analysis</a><br />
    &nbsp;&nbsp;&nbsp;<a href="dbplot.htm">Correlation Plot</a><br />
    &nbsp;&nbsp;&nbsp;<a href="dbplot.htm">Correlation Matrix</a><br />
    &nbsp;&nbsp;&nbsp;<a href="dbplot.htm">Selected&nbsp;Fields&nbsp;Histogram</a><br />
    &nbsp;&nbsp;&nbsp;<a href="dbplot.htm">3D Plot</a><br />
    <a href="dbcalc.htm">Calculator</a><br />
    <a href="#SortingEntries">Sort</a><br />
    Molecule<br />
    &nbsp;&nbsp;&nbsp;<a href="wash.htm">Wash</a><br />
    &nbsp;&nbsp;&nbsp;<a href="#PartialCharges">Partial Charges</a><br />
    &nbsp;&nbsp;&nbsp;<a href="#MinimizingMolecularStructures">Energy Minimize</a><br />
    &nbsp;&nbsp;&nbsp;Superpose<br />
    &nbsp;&nbsp;&nbsp;<a href="../apps/confsrch.htm">Conformational Search</a><br />
    &nbsp;&nbsp;&nbsp;<a href="../apps/confsrch.htm">Conformation Geometry</a><br />
    &nbsp;&nbsp;&nbsp;<a href="dbedit.htm">Molecule Name</a><br />
    Descriptors<br />
    &nbsp;&nbsp;&nbsp;<a href="../quasar/descr.htm">Calculate</a><br />
    &nbsp;&nbsp;&nbsp;<a href="dbpca.htm">Principal Components</a><br />
    &nbsp;&nbsp;&nbsp;<a href="../quasar/qcont.htm">Contingency</a><br />
    &nbsp;&nbsp;&nbsp;<a href="../quasar/cluster.htm">Clusters</a><br />
    &nbsp;&nbsp;&nbsp;<a href="valclust.htm">Value Clusters</a><br />
    Fingerprint<br />
    &nbsp;&nbsp;&nbsp;<a href="ph4calc.htm">Calculate</a><br />
    &nbsp;&nbsp;&nbsp;<a href="ph4sim.htm">Search</a><br />
    &nbsp;&nbsp;&nbsp;<a href="ph4clust.htm">Clusters</a><br />
    Model<br />
    &nbsp;&nbsp;&nbsp;<a href="../quasar/model.htm">QSAR</a><br />
    &nbsp;&nbsp;&nbsp;<a href="../quasar/qbct.htm">Classification</a><br />
    &nbsp;&nbsp;&nbsp;<a href="fpmodel.htm">Fingerprint</a><br />
    &nbsp;&nbsp;&nbsp;<a href="../quasar/modcomp.htm">Composer</a><br />
    &nbsp;&nbsp;&nbsp;<a href="../quasar/modcomp.htm">Evaluate</a><br />
    Pharmacophore<br />
    &nbsp;&nbsp;&nbsp;<a href="../apps/ph4_search.htm">Search</a><br />
    &nbsp;&nbsp;&nbsp;<a href="../apps/ph4_elu.htm">Elucidate</a><br />
    <a href="../apps/combitools.htm">Combinatorial Library</a><br />
    <a href="../proteins/buildrotlib.htm">Build Rotamer Library</a><br />
    <a href="../apps/mutanal.htm">Mutation Analysis</a><br />
    <a href="diverse.htm">Diverse Subset</a><br />
    <a href="../apps/sar.htm">SAReport</a><br />
    RECAP<br />
    &nbsp;&nbsp;&nbsp;<a href="../apps/recap.htm">Analysis</a><br />
    &nbsp;&nbsp;&nbsp;<a href="../apps/recap.htm">Synthesis</a><br />
    PLIF<br />
    &nbsp;&nbsp;&nbsp;<a href="../apps/plif.htm#Generate">Generate</a><br />
    &nbsp;&nbsp;&nbsp;<a href="../apps/plif.htm#Using">Analyze</a><br />

</fieldset>

</table>

<a name="References"><h2>References</h2>

<table width=100% cellpadding="5" border="0">

<tr>
<td valign="baseline">[Lipinski&nbsp;1997]
<td valign="baseline">
Lipinski, C.A., Lombardo, F., Dominy, B.W. and Feeney, P.J.;
Experimental and Computational Approaches to Estimate Solubility
and Permeability in Drug Discovery and Development Settings;
<i>Adv. Drug Deliv. Rev. 23</i> (<b>1997</b>) 3&ndash;25.
</tr>

<tr>
<td valign="baseline">[Oprea&nbsp;2000]
<td valign="baseline">
Oprea, Tudor I.; Property Distribution of Drug-Related Chemical
Databases; <i>J. Comp. Aid. Mol. Des.</i> <i>14</i> (<b>2000</b>) 251&ndash;264.</tr>

</table>

<h2>See Also</h2>

<a href="dbedit.htm">Creating Databases, Creating Fields and Adding Entries</a><br />
<a href="../tutorials/moetour.htm">MOE Tour</a>

<noscript>
	<hr noshade="noshade" />
	<font size="2"> Copyright &copy; 1997&ndash;2015
	<a href="http://www.chemcomp.com">Chemical Computing Group Inc.</a> </font>
</noscript>
<div id="MoeFooter"></div>
</body>
</html>


