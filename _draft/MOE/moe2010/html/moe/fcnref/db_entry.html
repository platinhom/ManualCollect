<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!--
!!    MOE 2010.10 On-Line Manuals
!!    COPYRIGHT (C) 2010
!!        CHEMICAL COMPUTING GROUP INC.  ALL RIGHTS RESERVED.
!!-->

<!--	db_entry.html		DB entry functions
!!
!!	24-aug-2005 (ms) add db_EntryKey
!!	02-jul-2003 (jd) add db_PrevEntry
!!-->

<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="stylesheet" type="text/css"
href="../../manstyle.css" />


<meta keywords>
<meta functions db_Entries>
<meta functions db_nEntries>
<meta functions db_NextEntry>
<meta functions db_PrevEntry>
<meta functions db_EntryKey>
<title>MOE Database Functions: db_Entries...</title>

</head>

<body bgcolor="#ffffff">
<a href="../../index.htm"><img src="../../images/logo.gif"
alt="CCG Logo" align="right" width="174" height="55" border="0" /></a>
<h4>MOE 2010.10</h4>
<h2>MOE Database Functions</h2>
<hr noshade="noshade" />

<h2>Syntax</h2>

<pre>
    entry_keys = <a class="fcnlink" href="#db_Entries">db_Entries</a> mdb
    nentries = <a class="fcnlink" href="#db_nEntries">db_nEntries</a> mdb

    key = <a class="fcnlink" href="#db_NextEntry">db_NextEntry</a> [ mdb, entry_key ]
    key = <a class="fcnlink" href="#db_PrevEntry">db_PrevEntry</a> [ mdb, entry_key ]

    key = <a class="fcnlink" href="#db_EntryKey">db_EntryKey</a> [ mdb, entry_key ]
</pre>

<p><b>Note:</b> <tt>mdb</tt> is either a database key, as obtained from
<a class="svl" href="db_opcl.html">db_Open</a>, or a database filename.
The molecular database and entry keys are generated internally and cannot
be altered by the user.

<p><a name="db_Entries"></a></p>
<h2>Description</h2>

<pre>
entry_keys = <span class="fcndef">db_Entries</span> mdb
</pre>

<p>Returns a vector of all entry keys for a given
molecular database identified by key or filename.


<p>The following example loops through all entries in the
database <tt>pdb_srch.mdb</tt>:

<pre>
    local entry_key;
    mdb_key = db_Open ['pdb_srch.mdb','read'];
    local entries = db_Entries mdb_key;
 
    for entry_key in entries loop	// loop through each entry
        ...Perform some action on each entry...
    endloop
 
    db_Close mdb_key;
</pre>

<p><a name="db_nEntries"></a></p>
<p><hr noshade="noshade" />

<pre>
nentries = <span class="fcndef">db_nEntries</span> mdb
</pre>

<p>Returns the number of entries in the molecular database
identified by key or filename.

<p><a name="db_NextEntry"></a></p>
<p><hr noshade="noshade" />

<pre>
key = <span class="fcndef">db_NextEntry</span> [ mdb, entry_key ]
</pre>

<p>Returns the key of the entry immediately following that specified
by <tt>entry_key</tt>.  If <tt>entry_key</tt> is 0, <tt>db_NextEntry</tt>
returns the key of the first entry in the database.  If there are no entries
after <tt>entry_key</tt> in the database, 0 is returned. The database is
specified either by key or by filename.

<p>The following example shows how to loop through all entries in a database
in order to perform some operation on each entry:

<pre>
    local ent = 0; 
    while ent = db_NextEntry ['my.mdb',ent] loop
        ...Operate on ent...
    endloop 
</pre>

<p><a name="db_PrevEntry"></a></p>
<p><hr noshade="noshade" />

<pre>
key = <span class="fcndef">db_PrevEntry</span> [ mdb, entry_key ]
</pre>

<p>Returns the key of the entry immediately preceding that specified by
<tt>entry_key</tt>.  If <tt>entry_key</tt> is 0, <tt>db_PrevEntry</tt>
returns the key of the last entry in the database.  If there are no entries
before <tt>entry_key</tt> in the database, 0 is returned. The database is
specified either by key or by filename.

<p><a name="db_EntryKey"></a></p>
<p><hr noshade="noshade" />

<pre>
key = <span class="fcndef">db_EntryKey</span> [ mdb, entry_key ]
</pre>

<p>Returns <tt>entry_key</tt>, if it represents a valid entry in the
database <tt>mdb</tt>, or 0 otherwise.  The database is specified either
by key or by filename.

If <tt>mdb</tt> does not represent a valid database, the function
generates an error, except for <tt>mdb</tt>&nbsp;=&nbsp;0, when the function
returns 0.

The function can be used on arbitrarily nested vectors.

<h2>See Also</h2>
   <a href="introdb.html">Database Functions</a>

<p><a href="../../index.htm">MOE Table of Contents</a>&nbsp;&nbsp;<a href="../../fcnindex.html">SVL Function Index</a></p>
<hr noshade="noshade" />
<a href="http://www.chemcomp.com"><img src="../../images/flogo.gif"
alt="CCG Logo"
align="left" width="30" height="30" border="1" hspace="5" vspace="3" /></a>
<font size="2">
<a href="../../legal.html">Copyright</a> &copy; 1997-2010
<a href="http://www.chemcomp.com">Chemical Computing Group Inc.</a><br />
<a href="mailto:info@chemcomp.com"><i>info@chemcomp.com</i></a>
</font>
</body>
</html>
