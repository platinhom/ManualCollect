<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!--
!!    MOE 2010.10 On-Line Manuals
!!    COPYRIGHT (C) 2010
!!        CHEMICAL COMPUTING GROUP INC.  ALL RIGHTS RESERVED.
!!-->

<!--
!!	wt_trackb.html	Text widget
!!
!!	12-jan-2009 (al) updated
!!-->

<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="stylesheet" type="text/css"
href="../../../manstyle.css" />


<meta keywords Trackball>
<meta functions Widget:Trackball>
<meta functions Trackball (widget)>

<title>Trackball Widget</title>
</head>

<body  bgcolor="#ffffff">
<a href="../../../index.htm"><img src="../../../images/logo.gif"
alt="CCG Logo" align="right" width="174" height="55" border="0" /></a>
<h4>MOE 2010.10</h4>
<h2>Trackball Widget</h2>
<hr noshade="noshade" />

<h2>Description</h2>

<p>The <tt>Trackball</tt> widget displays a virtual trackball and grid that can
be used to manipulate 3D objects using the mouse.  Rotation and translation
transformations are achieved by dragging the mouse over the widget using the
left mouse button, and are visually cued by movement of the trackball or the
grid underneath it.  The effect of a mouse drag over the widget is determined
by key modifiers or an optional button bar in the widget.

<p>The following table summarizes the operation of the <tt>Trackball</tt>
widget.  When the button bar is enabled (using the <tt>bbarPosition</tt>
attribute), a small box appears in one of the corners of the widget.
When pressed, this box puts the widget into "translation mode", equivalent
to holding down the <tt>&lt;Shift&gt;</tt> key.  Pressing the box
again releases the widget from this mode.  The key
modifiers are always available.
</p>

<p>
<table cellspacing="10">
<tr><th> Transformation
    <th> Button
    <th> Drag Modifier

<tr><td valign="top">Rotation
    <td valign="top" align=center>
	<img src="wt_trackb/rotate.gif" alt="Rotation">
    <td valign="top" align=center><tt>&lt;None&gt;</tt>

<tr><td valign="top">X/Y Translation
    <td valign="top" align=center>
	<img src="wt_trackb/xytrans.gif" alt="XY Translation">
    <td valign="top" align=center><tt>Shift</tt>

<tr><td valign="top">Z Translation
    <td valign="top" align=center>
	<img src="wt_trackb/ztrans.gif" alt="Z Translation">
    <td valign="top" align=center><tt>Ctrl</tt>
</table>

<!--
<p>Pure Y-axis rotation can be accomplished by dragging the
mouse in the periphery of the widget drawing area.

If the widget button bar is displayed, the reset button
<img src="wt_trackb/reset.gif" alt="Reset Button">
can be used to restore all widget values to zero.
-->

<h3>Attributes</h3>

<tt>Trackball</tt> inherits all <a class="svl" href="wt_core.html">core</a>
attributes and defines the following attributes:</p>

<p>
<table class="titlebar" width="100%" border="1" cellpadding="3">
<tr><th width="10%" valign="baseline">Attribute</td>
    <th width="40%" valign="baseline">Description</td>
    <th width="25%" valign="baseline">Values</td>
    <th width="25%" valign="baseline">Default</td>
    </tr>

<tr><td valign="baseline"><tt>minWidth</tt></td>
    <td valign="baseline">Minimum trackball width (in characters).</td>
    <td valign="baseline">2-15</td>
    <td valign="baseline">
	2 (if <tt>bbarPosition</tt> is 'none')<br />
	5 (otherwise)<br />
    </td></tr>

<tr><td valign="baseline"><tt>bbarPosition</tt></td>
    <td valign="baseline">Position of the button bar with respect to the
	widget.</td>
    <td valign="baseline">'none', 'above', 'below', 'left', 'right'</td>
    <td valign="baseline">'none' (button bar hidden)</td>
    </tr>

<tr><td valign="baseline"><tt>ballRelSize</tt></td>
    <td valign="baseline">Diameter of the trackball as a percentage of
	the widget drawing area dimensions.</td>
    <td valign="baseline">0-100</td>
    <td valign="baseline">60</td>
    </tr>

<tr><td valign="baseline"><tt>ballColor1</tt></td>
    <td valign="baseline">Color of the trackball hexagons.</td>
    <td valign="baseline">TRGB Color</td>
    <td valign="baseline">0x00C0C0C0 (dark grey)</td>
    </tr>

<tr><td valign="baseline"><tt>ballColor2</tt></td>
    <td valign="baseline">Color of the trackball pentagons.</td>
    <td valign="baseline">TRGB Color</td>
    <td valign="baseline">0x00494949 (light grey)</td>
    </tr>

<tr><td valign="baseline"><tt>gridColor</tt></td>
    <td valign="baseline">Color of the XZ grid pattern.</td>
    <td valign="baseline">TRGB Color</td>
    <td valign="baseline">0x00999999 (grey)</td>
</table>

<h3>Trigger</h3>
Mouse drag over the widget drawing area or reset button pressed.

<h3>Data Value</h3>

<p>The data value is returned as follows:

<pre>
    [rotation_matrix, translation_vector]
</pre>

<dl>
<dt><tt>rotation_matrix</tt>
<dd>3x3 rotation matrix <b>R</b> such that for any point with
[<i>x</i>,<i>y</i>,<i>z</i>] position vector <b>V</b>,
<tt>matmul [<b>V</b>, <b>R</b>]</tt> returns the rotated coordinates.
<p>
<dt><tt>translation_vector</tt>
<dd>Translation vector <span class="nobr"><b>T</b> =
[T<sub>x</sub>, T<sub>y</sub>, T<sub>z</sub>]</span> such that for any
point with [<i>x</i>,<i>y</i>,<i>z</i>]
position vector <b>V</b>, <b>V</b> + <b>T</b> returns the
translated coordinates.
</dl>

<h2>See Also</h2>
<p>
<a href="../wt_intro.htm">SVL Window Toolkit</a><br />
<a href="wt_core.html">Core Attributes</a><br />
<a href="introwt.htm">Window Toolkit Functions</a><br />


<p><a href="../../../index.htm">MOE Table of Contents</a>&nbsp;&nbsp;<a href="../../../fcnindex.html">SVL Function Index</a></p>
<hr noshade="noshade" />
<a href="http://www.chemcomp.com"><img src="../../../images/flogo.gif"
alt="CCG Logo"
align="left" width="30" height="30" border="1" hspace="5" vspace="3" /></a>
<font size="2">
<a href="../../../legal.html">Copyright</a> &copy; 1997-2010
<a href="http://www.chemcomp.com">Chemical Computing Group Inc.</a><br />
<a href="mailto:info@chemcomp.com"><i>info@chemcomp.com</i></a>
</font>
</body>
</html>
